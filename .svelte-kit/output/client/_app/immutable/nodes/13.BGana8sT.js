import{s as dl,D as Zt,E as Jt,a as v,d as c,f,i as U,g as n,n as tt,e as _,t as H,k as A,c as h,b as G,o as $,M as Rt,u as ue,z as Ml,h as F,G as zt,j as Vt,p as bl,q as Vl,y as Je,B as le,O as ml,N as yt,A as Xe,Q as vl,C as ws,l as Lt,P as xt,I as zl,T as Zl,V as ks,R as $l}from"../chunks/Dc4_ziGv.js";import{S as _l,i as hl,t as Y,g as at,a as W,c as nt,f as Qe,b as de,d as _e,m as he,e as pe}from"../chunks/CAZSMy3J.js";import{t as Ge}from"../chunks/gLvYLTeg.js";import{c as Pl,a as Ts,m as Tl,u as Ds,B as yn,M as Is}from"../chunks/DhUbH0v9.js";import{b as An,c as $n,u as Vn,d as On,e as Nn,g as Ol,f as Pn,h as Sn,i as Mn,j as Rn,k as Ln,l as Un,a as gs,m as Cn,n as Bn}from"../chunks/CJ33GILj.js";import{f as mn}from"../chunks/0n0hRmjK.js";import{d as Hn}from"../chunks/CCZdU0IT.js";import{l as Gn}from"../chunks/BHQ31hte.js";import{i as jn,e as Kn,S as pl,g as Yn,s as Fn,a as qn,b as Wn,c as Zn,A as Hs,d as Jn,f as zn,h as Xn,j as Qn}from"../chunks/CEOvMlHi.js";import{f as xn,h as ei,i as ti,j as li,k as si}from"../chunks/eiTzkm5x.js";import{S as cl}from"../chunks/DI3yu46Z.js";import{m as js}from"../chunks/_0_gBwjO.js";import{W as Ks}from"../chunks/CisIfe-u.js";import{c as ri,T as Ls,v as ai,s as Rs}from"../chunks/DWuYzDxc.js";import{e as st,u as gn,o as En}from"../chunks/C6kX8Nm-.js";import{S as ls}from"../chunks/7Z-YgjJE.js";import{g as ni,a as ii,b as oi,u as ui}from"../chunks/BtKK8PL-.js";import{g as fi,a as ci,b as di,u as Ys,c as _i,v as Fs}from"../chunks/C8iPY5Mb.js";import{T as Ot}from"../chunks/Cj5D4_dy.js";import{T as Es}from"../chunks/BG2-7Wb6.js";import{b as hi,e as pi,u as vi,c as qs,t as mi}from"../chunks/BqJWNDje.js";import{S as gi}from"../chunks/CPAZlf5D.js";import{M as Ei}from"../chunks/BPZrp0Z6.js";import{C as Us}from"../chunks/DJpY-x4S.js";import{C as Gs}from"../chunks/BTG_mMt3.js";import{M as Cs}from"../chunks/MKheDeAE.js";import{S as bi}from"../chunks/C0-Qcoum.js";import{E as Ii}from"../chunks/B-W18FY2.js";import{C as bn}from"../chunks/CcqxmtFL.js";import{C as wi}from"../chunks/6b-WEKee.js";import{A as ki}from"../chunks/DzmmY8YW.js";import{p as Ws,d as Zs,c as Js,g as Ti,u as Di,a as yi,b as In,e as Ai}from"../chunks/BYcJothY.js";import{b as $i,d as Vi,e as Oi,f as Ni,u as Pi}from"../chunks/CgEzuEYe.js";import{P as Bs}from"../chunks/w55WCOay.js";import"../chunks/CGwCSIWv.js";import{g as Si,a as wn,u as Mi,b as kn,c as zs,d as Ri,e as Li,r as Ui,f as Ci}from"../chunks/BrvI1VY2.js";import{d as Bi}from"../chunks/pKnnkZ93.js";import{a as Hi,u as Gi}from"../chunks/CugrJ7AZ.js";import{A as ji}from"../chunks/BqnxJWn2.js";function Ki(s){let e,t;return{c(){e=Zt("svg"),t=Zt("path"),this.h()},l(l){e=Jt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=v(e);t=Jt(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(c),r.forEach(c),this.h()},h(){f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"d","M5 12h14"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width",s[1]),f(e,"stroke","currentColor"),f(e,"class",s[0])},m(l,r){U(l,e,r),n(e,t)},p(l,[r]){r&2&&f(e,"stroke-width",l[1]),r&1&&f(e,"class",l[0])},i:tt,o:tt,d(l){l&&c(e)}}}function Yi(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=i=>{"className"in i&&t(0,l=i.className),"strokeWidth"in i&&t(1,r=i.strokeWidth)},[l,r]}class Tn extends _l{constructor(e){super(),hl(this,e,Yi,Ki,dl,{className:0,strokeWidth:1})}}function Fi(s){let e,t;return{c(){e=Zt("svg"),t=Zt("path"),this.h()},l(l){e=Jt(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=v(e);t=Jt(r,"path",{d:!0}),v(t).forEach(c),r.forEach(c),this.h()},h(){f(t,"d","M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 24 24"),f(e,"fill","currentColor"),f(e,"class",s[0])},m(l,r){U(l,e,r),n(e,t)},p(l,[r]){r&1&&f(e,"class",l[0])},i:tt,o:tt,d(l){l&&c(e)}}}function qi(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=i=>{"className"in i&&t(0,l=i.className),"strokeWidth"in i&&t(1,r=i.strokeWidth)},[l,r]}class Wi extends _l{constructor(e){super(),hl(this,e,qi,Fi,dl,{className:0,strokeWidth:1})}}function Xs(s){let e,t,l,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',i,a,o=s[1].t("Download Database")+"",u,d,E,g,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',m,b,I=s[1].t("Export All Chats (All Users)")+"",T,w,k;return{c(){e=_("div"),t=_("button"),l=_("div"),l.innerHTML=r,i=A(),a=_("div"),u=H(o),d=A(),E=_("button"),g=_("div"),g.innerHTML=p,m=A(),b=_("div"),T=H(I),this.h()},l(D){e=h(D,"DIV",{class:!0});var y=v(e);t=h(y,"BUTTON",{class:!0,type:!0});var O=v(t);l=h(O,"DIV",{class:!0,"data-svelte-h":!0}),Rt(l)!=="svelte-1n29mwa"&&(l.innerHTML=r),i=$(O),a=h(O,"DIV",{class:!0});var N=v(a);u=G(N,o),N.forEach(c),O.forEach(c),y.forEach(c),d=$(D),E=h(D,"BUTTON",{class:!0});var S=v(E);g=h(S,"DIV",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-1l0oz0g"&&(g.innerHTML=p),m=$(S),b=h(S,"DIV",{class:!0});var V=v(b);T=G(V,I),V.forEach(c),S.forEach(c),this.h()},h(){f(l,"class","self-center mr-3"),f(a,"class","self-center text-sm font-medium"),f(t,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),f(t,"type","button"),f(e,"class","flex w-full justify-between"),f(g,"class","self-center mr-3"),f(b,"class","self-center text-sm font-medium"),f(E,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(D,y){U(D,e,y),n(e,t),n(t,l),n(t,i),n(t,a),n(a,u),U(D,d,y),U(D,E,y),n(E,g),n(E,m),n(E,b),n(b,T),w||(k=[ue(t,"click",s[9]),ue(E,"click",s[10])],w=!0)},p(D,y){y&2&&o!==(o=D[1].t("Download Database")+"")&&F(u,o),y&2&&I!==(I=D[1].t("Export All Chats (All Users)")+"")&&F(T,I)},d(D){D&&(c(e),c(d),c(E)),w=!1,zt(k)}}}function Zi(s){var P;let e,t,l,r,i=s[1].t("Database")+"",a,o,u,d,E,g,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',m,b,I=s[1].t("Import Config from JSON File")+"",T,w,k,D,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg>',O,N,S=s[1].t("Export Config to JSON File")+"",V,M,R,ee,Z,C,L=(((P=s[2])==null?void 0:P.features.enable_admin_export)??!0)&&Xs(s);return{c(){e=_("form"),t=_("div"),l=_("div"),r=_("div"),a=H(i),o=A(),u=_("input"),d=A(),E=_("button"),g=_("div"),g.innerHTML=p,m=A(),b=_("div"),T=H(I),w=A(),k=_("button"),D=_("div"),D.innerHTML=y,O=A(),N=_("div"),V=H(S),M=A(),R=_("hr"),ee=A(),L&&L.c(),this.h()},l(B){e=h(B,"FORM",{class:!0});var q=v(e);t=h(q,"DIV",{class:!0});var z=v(t);l=h(z,"DIV",{});var x=v(l);r=h(x,"DIV",{class:!0});var re=v(r);a=G(re,i),re.forEach(c),o=$(x),u=h(x,"INPUT",{id:!0,type:!0,accept:!0}),d=$(x),E=h(x,"BUTTON",{type:!0,class:!0});var te=v(E);g=h(te,"DIV",{class:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-uk5zsu"&&(g.innerHTML=p),m=$(te),b=h(te,"DIV",{class:!0});var Q=v(b);T=G(Q,I),Q.forEach(c),te.forEach(c),w=$(x),k=h(x,"BUTTON",{type:!0,class:!0});var J=v(k);D=h(J,"DIV",{class:!0,"data-svelte-h":!0}),Rt(D)!=="svelte-uk5zsu"&&(D.innerHTML=y),O=$(J),N=h(J,"DIV",{class:!0});var j=v(N);V=G(j,S),j.forEach(c),J.forEach(c),M=$(x),R=h(x,"HR",{class:!0}),ee=$(x),L&&L.l(x),x.forEach(c),z.forEach(c),q.forEach(c),this.h()},h(){f(r,"class","mb-2 text-sm font-medium"),f(u,"id","config-json-input"),u.hidden=!0,f(u,"type","file"),f(u,"accept",".json"),f(g,"class","self-center mr-3"),f(b,"class","self-center text-sm font-medium"),f(E,"type","button"),f(E,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),f(D,"class","self-center mr-3"),f(N,"class","self-center text-sm font-medium"),f(k,"type","button"),f(k,"class","flex rounded-md py-2 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),f(R,"class","border-gray-100 dark:border-gray-850 my-1"),f(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),f(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(B,q){U(B,e,q),n(e,t),n(t,l),n(l,r),n(r,a),n(l,o),n(l,u),n(l,d),n(l,E),n(E,g),n(E,m),n(E,b),n(b,T),n(l,w),n(l,k),n(k,D),n(k,O),n(k,N),n(N,V),n(l,M),n(l,R),n(l,ee),L&&L.m(l,null),Z||(C=[ue(u,"change",s[6]),ue(E,"click",s[7]),ue(k,"click",s[8]),ue(e,"submit",Ml(s[11]))],Z=!0)},p(B,[q]){var z;q&2&&i!==(i=B[1].t("Database")+"")&&F(a,i),q&2&&I!==(I=B[1].t("Import Config from JSON File")+"")&&F(T,I),q&2&&S!==(S=B[1].t("Export Config to JSON File")+"")&&F(V,S),((z=B[2])==null?void 0:z.features.enable_admin_export)??!0?L?L.p(B,q):(L=Xs(B),L.c(),L.m(l,null)):L&&(L.d(1),L=null)},i:tt,o:tt,d(B){B&&c(e),L&&L.d(),Z=!1,zt(C)}}}function Ji(s,e,t){let l,r;Vt(s,Pl,I=>t(2,r=I));const{saveAs:i}=mn,a=bl("i18n");Vt(s,a,I=>t(1,l=I));let{saveHandler:o}=e;const u=async()=>{let I=new Blob([JSON.stringify(await Gn(localStorage.token))],{type:"application/json"});i(I,`all-chats-export-${Date.now()}.json`)};Vl(async()=>{});const d=I=>{const T=I.target.files[0],w=new FileReader;w.onload=async k=>{await jn(localStorage.token,JSON.parse(k.target.result)).catch(y=>{Ge.error(`${y}`)})&&Ge.success("Config imported successfully"),k.target.value=null},w.readAsText(T)},E=async()=>{document.getElementById("config-json-input").click()},g=async()=>{const I=await Kn(localStorage.token),T=new Blob([JSON.stringify(I)],{type:"application/json"});i(T,`config-${Date.now()}.json`)},p=()=>{Hn(localStorage.token).catch(I=>{Ge.error(`${I}`)})},m=()=>{u()},b=async()=>{o()};return s.$$set=I=>{"saveHandler"in I&&t(0,o=I.saveHandler)},[o,l,r,i,a,u,d,E,g,p,m,b]}class zi extends _l{constructor(e){super(),hl(this,e,Ji,Zi,dl,{saveHandler:0})}}function Qs(s){let e,t,l,r=s[1].t("Authentication")+"",i,a,o,u,d,E,g=s[1].t("Default User Role")+"",p,m,b,I,T,w=s[1].t("pending")+"",k,D,y=s[1].t("user")+"",O,N,S=s[1].t("admin")+"",V,M,R,ee,Z=s[1].t("Enable New Sign Ups")+"",C,L,P,B,q,z,x,re=s[1].t("Show Admin Details in Account Pending Overlay")+"",te,Q,J,j,X,K,ie,fe=s[1].t("Enable API Key")+"",ne,Ie,ke,be,ce,ae,ve;function Te(De){s[6](De)}let ge={};s[0].ENABLE_SIGNUP!==void 0&&(ge.state=s[0].ENABLE_SIGNUP),P=new cl({props:ge}),Je.push(()=>Qe(P,"state",Te));function $e(De){s[7](De)}let Ve={};s[0].SHOW_ADMIN_DETAILS!==void 0&&(Ve.state=s[0].SHOW_ADMIN_DETAILS),J=new cl({props:Ve}),Je.push(()=>Qe(J,"state",$e));function oe(De){s[8](De)}let we={};return s[0].ENABLE_API_KEY!==void 0&&(we.state=s[0].ENABLE_API_KEY),ke=new cl({props:we}),Je.push(()=>Qe(ke,"state",oe)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("hr"),u=A(),d=_("div"),E=_("div"),p=H(g),m=A(),b=_("div"),I=_("select"),T=_("option"),k=H(w),D=_("option"),O=H(y),N=_("option"),V=H(S),M=A(),R=_("div"),ee=_("div"),C=H(Z),L=A(),de(P.$$.fragment),q=A(),z=_("div"),x=_("div"),te=H(re),Q=A(),de(J.$$.fragment),X=A(),K=_("div"),ie=_("div"),ne=H(fe),Ie=A(),de(ke.$$.fragment),this.h()},l(De){e=h(De,"DIV",{class:!0});var Ne=v(e);t=h(Ne,"DIV",{class:!0});var se=v(t);l=h(se,"DIV",{class:!0});var Ae=v(l);i=G(Ae,r),Ae.forEach(c),a=$(se),o=h(se,"HR",{class:!0}),u=$(se),d=h(se,"DIV",{class:!0});var Ue=v(d);E=h(Ue,"DIV",{class:!0});var Le=v(E);p=G(Le,g),Le.forEach(c),m=$(Ue),b=h(Ue,"DIV",{class:!0});var Ce=v(b);I=h(Ce,"SELECT",{class:!0,placeholder:!0});var Ze=v(I);T=h(Ze,"OPTION",{});var We=v(T);k=G(We,w),We.forEach(c),D=h(Ze,"OPTION",{});var xe=v(D);O=G(xe,y),xe.forEach(c),N=h(Ze,"OPTION",{});var Be=v(N);V=G(Be,S),Be.forEach(c),Ze.forEach(c),Ce.forEach(c),Ue.forEach(c),M=$(se),R=h(se,"DIV",{class:!0});var Ee=v(R);ee=h(Ee,"DIV",{class:!0});var Oe=v(ee);C=G(Oe,Z),Oe.forEach(c),L=$(Ee),_e(P.$$.fragment,Ee),Ee.forEach(c),q=$(se),z=h(se,"DIV",{class:!0});var rt=v(z);x=h(rt,"DIV",{class:!0});var et=v(x);te=G(et,re),et.forEach(c),Q=$(rt),_e(J.$$.fragment,rt),rt.forEach(c),X=$(se),K=h(se,"DIV",{class:!0});var _t=v(K);ie=h(_t,"DIV",{class:!0});var Fe=v(ie);ne=G(Fe,fe),Fe.forEach(c),Ie=$(_t),_e(ke.$$.fragment,_t),_t.forEach(c),se.forEach(c),Ne.forEach(c),this.h()},h(){f(l,"class","mb-2.5 text-base font-medium"),f(o,"class","border-gray-100 dark:border-gray-850 my-2"),f(E,"class","self-center text-xs font-medium"),T.__value="pending",le(T,T.__value),D.__value="user",le(D,D.__value),N.__value="admin",le(N,N.__value),f(I,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"),f(I,"placeholder","Select a role"),s[0].DEFAULT_USER_ROLE===void 0&&ml(()=>s[5].call(I)),f(b,"class","flex items-center relative"),f(d,"class","mb-2.5 flex w-full justify-between"),f(ee,"class","self-center text-xs font-medium"),f(R,"class","mb-2.5 flex w-full justify-between pr-2"),f(x,"class","self-center text-xs font-medium"),f(z,"class","mb-2.5 flex w-full items-center justify-between pr-2"),f(ie,"class","self-center text-xs font-medium"),f(K,"class","mb-2.5 flex w-full justify-between pr-2"),f(t,"class","mb-3"),f(e,"class","")},m(De,Ne){U(De,e,Ne),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(t,u),n(t,d),n(d,E),n(E,p),n(d,m),n(d,b),n(b,I),n(I,T),n(T,k),n(I,D),n(D,O),n(I,N),n(N,V),yt(I,s[0].DEFAULT_USER_ROLE,!0),n(t,M),n(t,R),n(R,ee),n(ee,C),n(R,L),he(P,R,null),n(t,q),n(t,z),n(z,x),n(x,te),n(z,Q),he(J,z,null),n(t,X),n(t,K),n(K,ie),n(ie,ne),n(K,Ie),he(ke,K,null),ce=!0,ae||(ve=ue(I,"change",s[5]),ae=!0)},p(De,Ne){(!ce||Ne&2)&&r!==(r=De[1].t("Authentication")+"")&&F(i,r),(!ce||Ne&2)&&g!==(g=De[1].t("Default User Role")+"")&&F(p,g),(!ce||Ne&2)&&w!==(w=De[1].t("pending")+"")&&F(k,w),(!ce||Ne&2)&&y!==(y=De[1].t("user")+"")&&F(O,y),(!ce||Ne&2)&&S!==(S=De[1].t("admin")+"")&&F(V,S),Ne&1&&yt(I,De[0].DEFAULT_USER_ROLE),(!ce||Ne&2)&&Z!==(Z=De[1].t("Enable New Sign Ups")+"")&&F(C,Z);const se={};!B&&Ne&1&&(B=!0,se.state=De[0].ENABLE_SIGNUP,Xe(()=>B=!1)),P.$set(se),(!ce||Ne&2)&&re!==(re=De[1].t("Show Admin Details in Account Pending Overlay")+"")&&F(te,re);const Ae={};!j&&Ne&1&&(j=!0,Ae.state=De[0].SHOW_ADMIN_DETAILS,Xe(()=>j=!1)),J.$set(Ae),(!ce||Ne&2)&&fe!==(fe=De[1].t("Enable API Key")+"")&&F(ne,fe);const Ue={};!be&&Ne&1&&(be=!0,Ue.state=De[0].ENABLE_API_KEY,Xe(()=>be=!1)),ke.$set(Ue)},i(De){ce||(Y(P.$$.fragment,De),Y(J.$$.fragment,De),Y(ke.$$.fragment,De),ce=!0)},o(De){W(P.$$.fragment,De),W(J.$$.fragment,De),W(ke.$$.fragment,De),ce=!1},d(De){De&&c(e),pe(P),pe(J),pe(ke),ae=!1,ve()}}}function Xi(s){let e,t,l,r,i,a=s[1].t("Save")+"",o,u,d,E,g=s[0]!==null&&Qs(s);return{c(){e=_("form"),t=_("div"),g&&g.c(),l=A(),r=_("div"),i=_("button"),o=H(a),this.h()},l(p){e=h(p,"FORM",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var b=v(t);g&&g.l(b),b.forEach(c),l=$(m),r=h(m,"DIV",{class:!0});var I=v(r);i=h(I,"BUTTON",{class:!0,type:!0});var T=v(i);o=G(T,a),T.forEach(c),I.forEach(c),m.forEach(c),this.h()},h(){f(t,"class","mt-0.5 space-y-3 overflow-y-scroll scrollbar-hidden h-full"),f(i,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(i,"type","submit"),f(r,"class","flex justify-end pt-3 text-sm font-medium"),f(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(p,m){U(p,e,m),n(e,t),g&&g.m(t,null),n(e,l),n(e,r),n(r,i),n(i,o),u=!0,d||(E=ue(e,"submit",Ml(s[9])),d=!0)},p(p,[m]){p[0]!==null?g?(g.p(p,m),m&1&&Y(g,1)):(g=Qs(p),g.c(),Y(g,1),g.m(t,null)):g&&(at(),W(g,1,1,()=>{g=null}),nt()),(!u||m&2)&&a!==(a=p[1].t("Save")+"")&&F(o,a)},i(p){u||(Y(g),u=!0)},o(p){W(g),u=!1},d(p){p&&c(e),g&&g.d(),d=!1,E()}}}function Qi(s,e,t){let l;const r=bl("i18n");Vt(s,r,y=>t(1,l=y));let{saveHandler:i}=e,a=null,o={current:"",latest:""},u=null,d="",E=!1,g={label:"",host:"",port:"",attribute_for_mail:"mail",attribute_for_username:"uid",app_dn:"",app_dn_password:"",search_base:"",search_filters:"",use_tls:!1,certificate_path:"",ciphers:""};const p=async()=>{a=null,o=await $n(localStorage.token).catch(y=>({current:Ks,latest:Ks})),console.log(o),a=ri(o.latest,o.current),console.log(a)},m=async()=>{if(!E)return;await si(localStorage.token,g).catch(O=>(Ge.error(`${O}`),null))&&Ge.success(l.t("LDAP server updated"))},b=async()=>{d=await Vn(localStorage.token,d);const y=await li(localStorage.token,u);await m(),y?i():Ge.error(r.t("Failed to update settings"))};Vl(async()=>{p(),await Promise.all([(async()=>{t(0,u=await xn(localStorage.token))})(),(async()=>{d=await An(localStorage.token)})(),(async()=>{g=await ei(localStorage.token)})()]),E=(await ti(localStorage.token)).ENABLE_LDAP});function I(){u.DEFAULT_USER_ROLE=vl(this),t(0,u)}function T(y){s.$$.not_equal(u.ENABLE_SIGNUP,y)&&(u.ENABLE_SIGNUP=y,t(0,u))}function w(y){s.$$.not_equal(u.SHOW_ADMIN_DETAILS,y)&&(u.SHOW_ADMIN_DETAILS=y,t(0,u))}function k(y){s.$$.not_equal(u.ENABLE_API_KEY,y)&&(u.ENABLE_API_KEY=y,t(0,u))}const D=async()=>{b()};return s.$$set=y=>{"saveHandler"in y&&t(4,i=y.saveHandler)},[u,l,r,b,i,I,T,w,k,D]}class xi extends _l{constructor(e){super(),hl(this,e,Qi,Xi,dl,{saveHandler:4})}}function xs(s,e,t){const l=s.slice();return l[36]=e[t],l[37]=e,l[38]=t,l}function er(s,e,t){const l=s.slice();return l[39]=e[t],l}function tr(s,e,t){const l=s.slice();return l[42]=e[t],l[38]=t,l}function lr(s,e,t){const l=s.slice();return l[10]=e[t],l[38]=t,l}function eo(s){let e,t,l,r;return l=new ls({props:{className:"size-6"}}),{c(){e=_("div"),t=_("div"),de(l.$$.fragment),this.h()},l(i){e=h(i,"DIV",{class:!0});var a=v(e);t=h(a,"DIV",{class:!0});var o=v(t);_e(l.$$.fragment,o),o.forEach(c),a.forEach(c),this.h()},h(){f(t,"class","my-auto"),f(e,"class","flex justify-center h-full")},m(i,a){U(i,e,a),n(e,t),he(l,t,null),r=!0},p:tt,i(i){r||(Y(l.$$.fragment,i),r=!0)},o(i){W(l.$$.fragment,i),r=!1},d(i){i&&c(e),pe(l)}}}function to(s){let e,t,l=s[9].t("Manage Pipelines")+"",r,i,a,o,u,d;const E=[so,lo],g=[];function p(m,b){return m[3].length>0?0:1}return a=p(s),o=g[a]=E[a](s),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),o.c(),u=Lt(),this.h()},l(m){e=h(m,"DIV",{class:!0});var b=v(e);t=h(b,"DIV",{class:!0});var I=v(t);r=G(I,l),I.forEach(c),b.forEach(c),i=$(m),o.l(m),u=Lt(),this.h()},h(){f(t,"class","self-center text-sm font-semibold"),f(e,"class","flex w-full justify-between mb-2")},m(m,b){U(m,e,b),n(e,t),n(t,r),U(m,i,b),g[a].m(m,b),U(m,u,b),d=!0},p(m,b){(!d||b[0]&512)&&l!==(l=m[9].t("Manage Pipelines")+"")&&F(r,l);let I=a;a=p(m),a===I?g[a].p(m,b):(at(),W(g[I],1,1,()=>{g[I]=null}),nt(),o=g[a],o?o.p(m,b):(o=g[a]=E[a](m),o.c()),Y(o,1),o.m(u.parentNode,u))},i(m){d||(Y(o),d=!0)},o(m){W(o),d=!1},d(m){m&&(c(e),c(i),c(u)),g[a].d(m)}}}function lo(s){let e,t=s[9].t("Pipelines Not Detected")+"",l;return{c(){e=_("div"),l=H(t)},l(r){e=h(r,"DIV",{});var i=v(e);l=G(i,t),i.forEach(c)},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&512&&t!==(t=r[9].t("Pipelines Not Detected")+"")&&F(l,t)},i:tt,o:tt,d(r){r&&c(e)}}}function so(s){let e,t,l,r,i,a=s[9].t("Select a pipeline url")+"",o,u,d,E,g,p=s[9].t("Upload Pipeline")+"",m,b,I,T,w,k,D,y,O,N,S,V,M=s[9].t("Install from Github URL")+"",R,ee,Z,C,L,P,B,q,z,x,re=`<span class="font-semibold dark:text-gray-200">Warning:</span> Pipelines are a plugin
						system with arbitrary code execution â€”
						<span class="font-medium dark:text-gray-400">don&#39;t fetch random pipelines from sources you don&#39;t trust.</span>`,te,Q,J,j,X,K,ie,fe,ne,Ie=st(s[3]),ke=[];for(let se=0;se<Ie.length;se+=1)ke[se]=sr(lr(s,Ie,se));function be(se,Ae){return se[2]?ao:ro}let ce=be(s),ae=ce(s);function ve(se,Ae){return se[1]?io:no}let Te=ve(s),ge=Te(s);function $e(se,Ae){return se[0]?uo:oo}let Ve=$e(s),oe=Ve(s);const we=[co,fo],De=[];function Ne(se,Ae){return se[10]!==null?0:1}return j=Ne(s),X=De[j]=we[j](s),{c(){e=_("div"),t=_("div"),l=_("div"),r=_("select"),i=_("option"),o=H(a);for(let se=0;se<ke.length;se+=1)ke[se].c();d=A(),E=_("div"),g=_("div"),m=H(p),b=A(),I=_("div"),T=_("div"),w=_("input"),k=A(),D=_("button"),ae.c(),y=A(),O=_("button"),ge.c(),N=A(),S=_("div"),V=_("div"),R=H(M),ee=A(),Z=_("div"),C=_("div"),L=_("input"),B=A(),q=_("button"),oe.c(),z=A(),x=_("div"),x.innerHTML=re,te=A(),Q=_("hr"),J=A(),X.c(),K=Lt(),this.h()},l(se){e=h(se,"DIV",{class:!0});var Ae=v(e);t=h(Ae,"DIV",{class:!0});var Ue=v(t);l=h(Ue,"DIV",{class:!0});var Le=v(l);r=h(Le,"SELECT",{class:!0,placeholder:!0});var Ce=v(r);i=h(Ce,"OPTION",{class:!0});var Ze=v(i);o=G(Ze,a),Ze.forEach(c);for(let Me=0;Me<ke.length;Me+=1)ke[Me].l(Ce);Ce.forEach(c),Le.forEach(c),Ue.forEach(c),Ae.forEach(c),d=$(se),E=h(se,"DIV",{class:!0});var We=v(E);g=h(We,"DIV",{class:!0});var xe=v(g);m=G(xe,p),xe.forEach(c),b=$(We),I=h(We,"DIV",{class:!0});var Be=v(I);T=h(Be,"DIV",{class:!0});var Ee=v(T);w=h(Ee,"INPUT",{id:!0,type:!0,accept:!0}),k=$(Ee),D=h(Ee,"BUTTON",{class:!0,type:!0});var Oe=v(D);ae.l(Oe),Oe.forEach(c),Ee.forEach(c),y=$(Be),O=h(Be,"BUTTON",{class:!0,type:!0});var rt=v(O);ge.l(rt),rt.forEach(c),Be.forEach(c),We.forEach(c),N=$(se),S=h(se,"DIV",{class:!0});var et=v(S);V=h(et,"DIV",{class:!0});var _t=v(V);R=G(_t,M),_t.forEach(c),ee=$(et),Z=h(et,"DIV",{class:!0});var Fe=v(Z);C=h(Fe,"DIV",{class:!0});var gt=v(C);L=h(gt,"INPUT",{class:!0,placeholder:!0}),gt.forEach(c),B=$(Fe),q=h(Fe,"BUTTON",{class:!0,type:!0});var vt=v(q);oe.l(vt),vt.forEach(c),Fe.forEach(c),z=$(et),x=h(et,"DIV",{class:!0,"data-svelte-h":!0}),Rt(x)!=="svelte-ob7r3n"&&(x.innerHTML=re),et.forEach(c),te=$(se),Q=h(se,"HR",{class:!0}),J=$(se),X.l(se),K=Lt(),this.h()},h(){i.__value="",le(i,i.__value),i.selected=!0,i.disabled=!0,f(i,"class","bg-gray-100 dark:bg-gray-700"),f(r,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(r,"placeholder",u=s[9].t("Select a pipeline url")),s[4]===void 0&&ml(()=>s[19].call(r)),f(l,"class","flex-1"),f(t,"class","flex gap-2"),f(e,"class","space-y-1"),f(g,"class","mb-2 text-sm font-medium"),f(w,"id","pipelines-upload-input"),f(w,"type","file"),f(w,"accept",".py"),w.hidden=!0,f(D,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl"),f(D,"type","button"),f(T,"class","flex-1 mr-2"),f(O,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),O.disabled=s[1],f(O,"type","button"),f(I,"class","flex w-full"),f(E,"class","my-2"),f(V,"class","mb-2 text-sm font-medium"),f(L,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(L,"placeholder",P=s[9].t("Enter Github Raw URL")),f(C,"class","flex-1 mr-2"),f(q,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),q.disabled=s[0],f(q,"type","button"),f(Z,"class","flex w-full"),f(x,"class","mt-2 text-xs text-gray-500"),f(S,"class","my-2"),f(Q,"class","border-gray-100 dark:border-gray-850 my-3 w-full")},m(se,Ae){U(se,e,Ae),n(e,t),n(t,l),n(l,r),n(r,i),n(i,o);for(let Ue=0;Ue<ke.length;Ue+=1)ke[Ue]&&ke[Ue].m(r,null);yt(r,s[4],!0),U(se,d,Ae),U(se,E,Ae),n(E,g),n(g,m),n(E,b),n(E,I),n(I,T),n(T,w),n(T,k),n(T,D),ae.m(D,null),n(I,y),n(I,O),ge.m(O,null),U(se,N,Ae),U(se,S,Ae),n(S,V),n(V,R),n(S,ee),n(S,Z),n(Z,C),n(C,L),le(L,s[8]),n(Z,B),n(Z,q),oe.m(q,null),n(S,z),n(S,x),U(se,te,Ae),U(se,Q,Ae),U(se,J,Ae),De[j].m(se,Ae),U(se,K,Ae),ie=!0,fe||(ne=[ue(r,"change",s[19]),ue(r,"change",s[20]),ue(w,"change",s[21]),ue(D,"click",s[22]),ue(O,"click",s[23]),ue(L,"input",s[24]),ue(q,"click",s[25])],fe=!0)},p(se,Ae){if((!ie||Ae[0]&512)&&a!==(a=se[9].t("Select a pipeline url")+"")&&F(o,a),Ae[0]&8){Ie=st(se[3]);let Le;for(Le=0;Le<Ie.length;Le+=1){const Ce=lr(se,Ie,Le);ke[Le]?ke[Le].p(Ce,Ae):(ke[Le]=sr(Ce),ke[Le].c(),ke[Le].m(r,null))}for(;Le<ke.length;Le+=1)ke[Le].d(1);ke.length=Ie.length}(!ie||Ae[0]&512&&u!==(u=se[9].t("Select a pipeline url")))&&f(r,"placeholder",u),Ae[0]&24&&yt(r,se[4]),(!ie||Ae[0]&512)&&p!==(p=se[9].t("Upload Pipeline")+"")&&F(m,p),ce===(ce=be(se))&&ae?ae.p(se,Ae):(ae.d(1),ae=ce(se),ae&&(ae.c(),ae.m(D,null))),Te!==(Te=ve(se))&&(ge.d(1),ge=Te(se),ge&&(ge.c(),ge.m(O,null))),(!ie||Ae[0]&2)&&(O.disabled=se[1]),(!ie||Ae[0]&512)&&M!==(M=se[9].t("Install from Github URL")+"")&&F(R,M),(!ie||Ae[0]&512&&P!==(P=se[9].t("Enter Github Raw URL")))&&f(L,"placeholder",P),Ae[0]&256&&L.value!==se[8]&&le(L,se[8]),Ve!==(Ve=$e(se))&&(oe.d(1),oe=Ve(se),oe&&(oe.c(),oe.m(q,null))),(!ie||Ae[0]&1)&&(q.disabled=se[0]);let Ue=j;j=Ne(se),j===Ue?De[j].p(se,Ae):(at(),W(De[Ue],1,1,()=>{De[Ue]=null}),nt(),X=De[j],X?X.p(se,Ae):(X=De[j]=we[j](se),X.c()),Y(X,1),X.m(K.parentNode,K))},i(se){ie||(Y(X),ie=!0)},o(se){W(X),ie=!1},d(se){se&&(c(e),c(d),c(E),c(N),c(S),c(te),c(Q),c(J),c(K)),xt(ke,se),ae.d(),ge.d(),oe.d(),De[j].d(se),fe=!1,zt(ne)}}}function sr(s){let e,t=s[10].url+"",l,r;return{c(){e=_("option"),l=H(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var a=v(e);l=G(a,t),a.forEach(c),this.h()},h(){e.__value=r=s[10].idx.toString(),le(e,e.__value),f(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,a){U(i,e,a),n(e,l)},p(i,a){a[0]&8&&t!==(t=i[10].url+"")&&F(l,t),a[0]&8&&r!==(r=i[10].idx.toString())&&(e.__value=r,le(e,e.__value))},d(i){i&&c(e)}}}function ro(s){let e=s[9].t("Click here to select a py file.")+"",t;return{c(){t=H(e)},l(l){t=G(l,e)},m(l,r){U(l,t,r)},p(l,r){r[0]&512&&e!==(e=l[9].t("Click here to select a py file.")+"")&&F(t,e)},d(l){l&&c(t)}}}function ao(s){let e=s[2].length>0?`${s[2].length}`:"",t,l;return{c(){t=H(e),l=H(" pipeline(s) selected.")},l(r){t=G(r,e),l=G(r," pipeline(s) selected.")},m(r,i){U(r,t,i),U(r,l,i)},p(r,i){i[0]&4&&e!==(e=r[2].length>0?`${r[2].length}`:"")&&F(t,e)},d(r){r&&(c(t),c(l))}}}function no(s){let e,t,l;return{c(){e=Zt("svg"),t=Zt("path"),l=Zt("path"),this.h()},l(r){e=Jt(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=Jt(i,"path",{d:!0}),v(t).forEach(c),l=Jt(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){f(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),f(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 16 16"),f(e,"fill","currentColor"),f(e,"class","size-4")},m(r,i){U(r,e,i),n(e,t),n(e,l)},d(r){r&&c(e)}}}function io(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){f(e,"class","self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function oo(s){let e,t,l;return{c(){e=Zt("svg"),t=Zt("path"),l=Zt("path"),this.h()},l(r){e=Jt(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=Jt(i,"path",{d:!0}),v(t).forEach(c),l=Jt(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){f(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),f(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 16 16"),f(e,"fill","currentColor"),f(e,"class","w-4 h-4")},m(r,i){U(r,e,i),n(e,t),n(e,l)},d(r){r&&c(e)}}}function uo(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){f(e,"class","self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function fo(s){let e,t,l,r;return l=new ls({props:{className:"size-4"}}),{c(){e=_("div"),t=_("div"),de(l.$$.fragment),this.h()},l(i){e=h(i,"DIV",{class:!0});var a=v(e);t=h(a,"DIV",{class:!0});var o=v(t);_e(l.$$.fragment,o),o.forEach(c),a.forEach(c),this.h()},h(){f(t,"class","my-auto"),f(e,"class","flex justify-center")},m(i,a){U(i,e,a),n(e,t),he(l,t,null),r=!0},p:tt,i(i){r||(Y(l.$$.fragment,i),r=!0)},o(i){W(l.$$.fragment,i),r=!1},d(i){i&&c(e),pe(l)}}}function co(s){let e,t,l,r;const i=[ho,_o],a=[];function o(u,d){return u[10].length>0?0:u[10].length===0?1:-1}return~(e=o(s))&&(t=a[e]=i[e](s)),{c(){t&&t.c(),l=Lt()},l(u){t&&t.l(u),l=Lt()},m(u,d){~e&&a[e].m(u,d),U(u,l,d),r=!0},p(u,d){let E=e;e=o(u),e===E?~e&&a[e].p(u,d):(t&&(at(),W(a[E],1,1,()=>{a[E]=null}),nt()),~e?(t=a[e],t?t.p(u,d):(t=a[e]=i[e](u),t.c()),Y(t,1),t.m(l.parentNode,l)):t=null)},i(u){r||(Y(t),r=!0)},o(u){W(t),r=!1},d(u){u&&c(l),~e&&a[e].d(u)}}}function _o(s){let e,t="Pipelines Not Detected";return{c(){e=_("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),Rt(e)!=="svelte-nrqgpw"&&(e.textContent=t)},m(l,r){U(l,e,r)},p:tt,i:tt,o:tt,d(l){l&&c(e)}}}function ho(s){let e,t,l=s[9].t("Pipelines Valves")+"",r,i,a,o,u,d,E,g,p=s[10].length>0&&rr(s);const m=[vo,po],b=[];function I(T,w){return T[10][T[7]].valves?0:1}return d=I(s),E=b[d]=m[d](s),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),p&&p.c(),o=A(),u=_("div"),E.c(),this.h()},l(T){e=h(T,"DIV",{class:!0});var w=v(e);t=h(w,"DIV",{class:!0});var k=v(t);r=G(k,l),k.forEach(c),w.forEach(c),i=$(T),a=h(T,"DIV",{class:!0});var D=v(a);p&&p.l(D),o=$(D),u=h(D,"DIV",{class:!0});var y=v(u);E.l(y),y.forEach(c),D.forEach(c),this.h()},h(){f(t,"class","self-center text-sm font-semibold"),f(e,"class","flex w-full justify-between mb-2"),f(u,"class","space-y-1"),f(a,"class","space-y-1")},m(T,w){U(T,e,w),n(e,t),n(t,r),U(T,i,w),U(T,a,w),p&&p.m(a,null),n(a,o),n(a,u),b[d].m(u,null),g=!0},p(T,w){(!g||w[0]&512)&&l!==(l=T[9].t("Pipelines Valves")+"")&&F(r,l),T[10].length>0?p?p.p(T,w):(p=rr(T),p.c(),p.m(a,o)):p&&(p.d(1),p=null);let k=d;d=I(T),d===k?b[d].p(T,w):(at(),W(b[k],1,1,()=>{b[k]=null}),nt(),E=b[d],E?E.p(T,w):(E=b[d]=m[d](T),E.c()),Y(E,1),E.m(u,null))},i(T){g||(Y(E),g=!0)},o(T){W(E),g=!1},d(T){T&&(c(e),c(i),c(a)),p&&p.d(),b[d].d()}}}function rr(s){let e,t,l,r,i,a,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',u,d,E=st(s[10]),g=[];for(let p=0;p<E.length;p+=1)g[p]=ar(tr(s,E,p));return{c(){e=_("div"),t=_("div"),l=_("select");for(let p=0;p<g.length;p+=1)g[p].c();i=A(),a=_("button"),a.innerHTML=o,this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var b=v(t);l=h(b,"SELECT",{class:!0,placeholder:!0});var I=v(l);for(let T=0;T<g.length;T+=1)g[T].l(I);I.forEach(c),b.forEach(c),i=$(m),a=h(m,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Rt(a)!=="svelte-121ij38"&&(a.innerHTML=o),m.forEach(c),this.h()},h(){f(l,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(l,"placeholder",r=s[9].t("Select a pipeline")),s[7]===void 0&&ml(()=>s[26].call(l)),f(t,"class","flex-1"),f(a,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),f(a,"type","button"),f(e,"class","flex gap-2")},m(p,m){U(p,e,m),n(e,t),n(t,l);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(l,null);yt(l,s[7],!0),n(e,i),n(e,a),u||(d=[ue(l,"change",s[26]),ue(l,"change",s[27]),ue(a,"click",s[28])],u=!0)},p(p,m){if(m[0]&1024){E=st(p[10]);let b;for(b=0;b<E.length;b+=1){const I=tr(p,E,b);g[b]?g[b].p(I,m):(g[b]=ar(I),g[b].c(),g[b].m(l,null))}for(;b<g.length;b+=1)g[b].d(1);g.length=E.length}m[0]&512&&r!==(r=p[9].t("Select a pipeline"))&&f(l,"placeholder",r),m[0]&128&&yt(l,p[7])},d(p){p&&c(e),xt(g,p),u=!1,zt(d)}}}function ar(s){let e,t=s[42].name+"",l,r,i=(s[42].type??"pipe")+"",a,o;return{c(){e=_("option"),l=H(t),r=H(" ("),a=H(i),o=H(")"),this.h()},l(u){e=h(u,"OPTION",{class:!0});var d=v(e);l=G(d,t),r=G(d," ("),a=G(d,i),o=G(d,")"),d.forEach(c),this.h()},h(){e.__value=s[38],le(e,e.__value),f(e,"class","bg-gray-100 dark:bg-gray-700")},m(u,d){U(u,e,d),n(e,l),n(e,r),n(e,a),n(e,o)},p(u,d){d[0]&1024&&t!==(t=u[42].name+"")&&F(l,t),d[0]&1024&&i!==(i=(u[42].type??"pipe")+"")&&F(a,i)},d(u){u&&c(e)}}}function po(s){let e,t="No valves";return{c(){e=_("div"),e.textContent=t},l(l){e=h(l,"DIV",{"data-svelte-h":!0}),Rt(e)!=="svelte-gfhjqw"&&(e.textContent=t)},m(l,r){U(l,e,r)},p:tt,i:tt,o:tt,d(l){l&&c(e)}}}function vo(s){let e,t,l,r;const i=[go,mo],a=[];function o(u,d){return u[5]?0:1}return e=o(s),t=a[e]=i[e](s),{c(){t.c(),l=Lt()},l(u){t.l(u),l=Lt()},m(u,d){a[e].m(u,d),U(u,l,d),r=!0},p(u,d){let E=e;e=o(u),e===E?a[e].p(u,d):(at(),W(a[E],1,1,()=>{a[E]=null}),nt(),t=a[e],t?t.p(u,d):(t=a[e]=i[e](u),t.c()),Y(t,1),t.m(l.parentNode,l))},i(u){r||(Y(t),r=!0)},o(u){W(t),r=!1},d(u){u&&c(l),a[e].d(u)}}}function mo(s){let e,t;return e=new ls({props:{className:"size-5"}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p:tt,i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function go(s){let e,t,l=st(Object.keys(s[6].properties)),r=[];for(let a=0;a<l.length;a+=1)r[a]=or(xs(s,l,a));const i=a=>W(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=Lt()},l(a){for(let o=0;o<r.length;o+=1)r[o].l(a);e=Lt()},m(a,o){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,o);U(a,e,o),t=!0},p(a,o){if(o[0]&608){l=st(Object.keys(a[6].properties));let u;for(u=0;u<l.length;u+=1){const d=xs(a,l,u);r[u]?(r[u].p(d,o),Y(r[u],1)):(r[u]=or(d),r[u].c(),Y(r[u],1),r[u].m(e.parentNode,e))}for(at(),u=l.length;u<r.length;u+=1)i(u);nt()}},i(a){if(!t){for(let o=0;o<l.length;o+=1)Y(r[o]);t=!0}},o(a){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)W(r[o]);t=!1},d(a){a&&c(e),xt(r,a)}}}function Eo(s){let e,t=s[9].t("Custom")+"",l;return{c(){e=_("span"),l=H(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&512&&t!==(t=r[9].t("Custom")+"")&&F(l,t)},d(r){r&&c(e)}}}function bo(s){let e,t=s[9].t("None")+"",l;return{c(){e=_("span"),l=H(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&512&&t!==(t=r[9].t("None")+"")&&F(l,t)},d(r){r&&c(e)}}}function nr(s){let e,t,l,r,i;const a=[ko,wo,Io],o=[];function u(d,E){var g,p;return((g=d[6].properties[d[36]])==null?void 0:g.enum)??null?0:(((p=d[6].properties[d[36]])==null?void 0:p.type)??null)==="boolean"?1:2}return l=u(s),r=o[l]=a[l](s),{c(){e=_("div"),t=_("div"),r.c(),this.h()},l(d){e=h(d,"DIV",{class:!0});var E=v(e);t=h(E,"DIV",{class:!0});var g=v(t);r.l(g),g.forEach(c),E.forEach(c),this.h()},h(){f(t,"class","flex-1"),f(e,"class","flex mt-0.5 mb-1.5 space-x-2")},m(d,E){U(d,e,E),n(e,t),o[l].m(t,null),i=!0},p(d,E){let g=l;l=u(d),l===g?o[l].p(d,E):(at(),W(o[g],1,1,()=>{o[g]=null}),nt(),r=o[l],r?r.p(d,E):(r=o[l]=a[l](d),r.c()),Y(r,1),r.m(t,null))},i(d){i||(Y(r),i=!0)},o(d){W(r),i=!1},d(d){d&&c(e),o[l].d()}}}function Io(s){let e,t,l,r;function i(){s[32].call(e,s[36])}return{c(){e=_("input"),this.h()},l(a){e=h(a,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){f(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(e,"type","text"),f(e,"placeholder",t=s[6].properties[s[36]].title),f(e,"autocomplete","off"),e.required=!0},m(a,o){U(a,e,o),le(e,s[5][s[36]]),l||(r=ue(e,"input",i),l=!0)},p(a,o){s=a,o[0]&64&&t!==(t=s[6].properties[s[36]].title)&&f(e,"placeholder",t),o[0]&96&&e.value!==s[5][s[36]]&&le(e,s[5][s[36]])},i:tt,o:tt,d(a){a&&c(e),l=!1,r()}}}function wo(s){let e,t,l=s[5][s[36]]?"Enabled":"Disabled",r,i,a,o,u,d;function E(p){s[31](p,s[36])}let g={};return s[5][s[36]]!==void 0&&(g.state=s[5][s[36]]),o=new cl({props:g}),Je.push(()=>Qe(o,"state",E)),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),de(o.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var b=v(t);r=G(b,l),b.forEach(c),i=$(m),a=h(m,"DIV",{class:!0});var I=v(a);_e(o.$$.fragment,I),I.forEach(c),m.forEach(c),this.h()},h(){f(t,"class","text-xs text-gray-500"),f(a,"class","pr-2"),f(e,"class","flex justify-between items-center")},m(p,m){U(p,e,m),n(e,t),n(t,r),n(e,i),n(e,a),he(o,a,null),d=!0},p(p,m){s=p,(!d||m[0]&96)&&l!==(l=s[5][s[36]]?"Enabled":"Disabled")&&F(r,l);const b={};!u&&m[0]&96&&(u=!0,b.state=s[5][s[36]],Xe(()=>u=!1)),o.$set(b)},i(p){d||(Y(o.$$.fragment,p),d=!0)},o(p){W(o.$$.fragment,p),d=!1},d(p){p&&c(e),pe(o)}}}function ko(s){let e,t,l,r=st(s[6].properties[s[36]].enum),i=[];for(let o=0;o<r.length;o+=1)i[o]=ir(er(s,r,o));function a(){s[30].call(e,s[36])}return{c(){e=_("select");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=h(o,"SELECT",{class:!0});var u=v(e);for(let d=0;d<i.length;d+=1)i[d].l(u);u.forEach(c),this.h()},h(){f(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),s[5][s[36]]===void 0&&ml(a)},m(o,u){U(o,e,u);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(e,null);yt(e,s[5][s[36]],!0),t||(l=ue(e,"change",a),t=!0)},p(o,u){if(s=o,u[0]&96){r=st(s[6].properties[s[36]].enum);let d;for(d=0;d<r.length;d+=1){const E=er(s,r,d);i[d]?i[d].p(E,u):(i[d]=ir(E),i[d].c(),i[d].m(e,null))}for(;d<i.length;d+=1)i[d].d(1);i.length=r.length}u[0]&96&&yt(e,s[5][s[36]])},i:tt,o:tt,d(o){o&&c(e),xt(i,o),t=!1,l()}}}function ir(s){let e,t=s[39]+"",l,r,i,a;return{c(){e=_("option"),l=H(t),r=A(),this.h()},l(o){e=h(o,"OPTION",{});var u=v(e);l=G(u,t),r=$(u),u.forEach(c),this.h()},h(){e.__value=i=s[39],le(e,e.__value),e.selected=a=s[39]===s[5][s[36]]},m(o,u){U(o,e,u),n(e,l),n(e,r)},p(o,u){u[0]&64&&t!==(t=o[39]+"")&&F(l,t),u[0]&64&&i!==(i=o[39])&&(e.__value=i,le(e,e.__value)),u[0]&96&&a!==(a=o[39]===o[5][o[36]])&&(e.selected=a)},d(o){o&&c(e)}}}function or(s){let e,t,l,r=s[6].properties[s[36]].title+"",i,a,o,u,d,E,g,p;function m(k,D){return(k[5][k[36]]??null)===null?bo:Eo}let b=m(s),I=b(s);function T(){return s[29](s[36])}let w=(s[5][s[36]]??null)!==null&&nr(s);return{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("button"),I.c(),u=A(),w&&w.c(),d=A(),this.h()},l(k){e=h(k,"DIV",{class:!0});var D=v(e);t=h(D,"DIV",{class:!0});var y=v(t);l=h(y,"DIV",{class:!0});var O=v(l);i=G(O,r),O.forEach(c),a=$(y),o=h(y,"BUTTON",{class:!0,type:!0});var N=v(o);I.l(N),N.forEach(c),y.forEach(c),u=$(D),w&&w.l(D),d=$(D),D.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium"),f(o,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(o,"type","button"),f(t,"class","flex w-full justify-between"),f(e,"class","py-0.5 w-full justify-between")},m(k,D){U(k,e,D),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),I.m(o,null),n(e,u),w&&w.m(e,null),n(e,d),E=!0,g||(p=ue(o,"click",T),g=!0)},p(k,D){s=k,(!E||D[0]&64)&&r!==(r=s[6].properties[s[36]].title+"")&&F(i,r),b===(b=m(s))&&I?I.p(s,D):(I.d(1),I=b(s),I&&(I.c(),I.m(o,null))),(s[5][s[36]]??null)!==null?w?(w.p(s,D),D[0]&96&&Y(w,1)):(w=nr(s),w.c(),Y(w,1),w.m(e,d)):w&&(at(),W(w,1,1,()=>{w=null}),nt())},i(k){E||(Y(w),E=!0)},o(k){W(w),E=!1},d(k){k&&c(e),I.d(),w&&w.d(),g=!1,p()}}}function ur(s){let e,t,l=s[9].t("Save")+"",r;return{c(){e=_("div"),t=_("button"),r=H(l),this.h()},l(i){e=h(i,"DIV",{class:!0});var a=v(e);t=h(a,"BUTTON",{class:!0,type:!0});var o=v(t);r=G(o,l),o.forEach(c),a.forEach(c),this.h()},h(){f(t,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(t,"type","submit"),f(e,"class","flex justify-end pt-3 text-sm font-medium")},m(i,a){U(i,e,a),n(e,t),n(t,r)},p(i,a){a[0]&512&&l!==(l=i[9].t("Save")+"")&&F(r,l)},d(i){i&&c(e)}}}function To(s){let e,t,l,r,i,a,o,u;const d=[to,eo],E=[];function g(m,b){return m[3]!==null?0:1}l=g(s),r=E[l]=d[l](s);let p=s[3]!==null&&s[3].length>0&&ur(s);return{c(){e=_("form"),t=_("div"),r.c(),i=A(),p&&p.c(),this.h()},l(m){e=h(m,"FORM",{class:!0});var b=v(e);t=h(b,"DIV",{class:!0});var I=v(t);r.l(I),I.forEach(c),i=$(b),p&&p.l(b),b.forEach(c),this.h()},h(){f(t,"class","overflow-y-scroll scrollbar-hidden h-full"),f(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(m,b){U(m,e,b),n(e,t),E[l].m(t,null),n(e,i),p&&p.m(e,null),a=!0,o||(u=ue(e,"submit",Ml(s[33])),o=!0)},p(m,b){let I=l;l=g(m),l===I?E[l].p(m,b):(at(),W(E[I],1,1,()=>{E[I]=null}),nt(),r=E[l],r?r.p(m,b):(r=E[l]=d[l](m),r.c()),Y(r,1),r.m(t,null)),m[3]!==null&&m[3].length>0?p?p.p(m,b):(p=ur(m),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i(m){a||(Y(r),a=!0)},o(m){W(r),a=!1},d(m){m&&c(e),E[l].d(),p&&p.d(),o=!1,u()}}}function Do(s,e,t){let l,r,i;Vt(s,Ts,J=>t(34,l=J)),Vt(s,Pl,J=>t(35,r=J));const a=bl("i18n");Vt(s,a,J=>t(9,i=J));let{saveHandler:o}=e,u=!1,d=!1,E,g=null,p="",m=null,b=null,I=null,T=null,w="";const k=async()=>{var j,X;const J=m[T];if(J&&((J==null?void 0:J.valves)??!1)){for(const ie in I.properties)((j=I.properties[ie])==null?void 0:j.type)==="array"&&t(5,b[ie]=b[ie].split(",").map(fe=>fe.trim()),b);await Nn(localStorage.token,J.id,b,p).catch(ie=>{Ge.error(`${ie}`)})&&(Ge.success(i.t("Valves updated successfully")),y(),Tl.set(await Ol(localStorage.token,((X=r==null?void 0:r.features)==null?void 0:X.enable_direct_connections)&&((l==null?void 0:l.directConnections)??null))),o())}else Ge.error(i.t("No valves to update"))},D=async J=>{var j;t(5,b=null),t(6,I=null),t(6,I=await Pn(localStorage.token,m[J].id,p)),t(5,b=await Sn(localStorage.token,m[J].id,p));for(const X in I.properties)((j=I.properties[X])==null?void 0:j.type)==="array"&&t(5,b[X]=b[X].join(","),b)},y=async()=>{t(10,m=null),t(5,b=null),t(6,I=null),g.length>0?(console.log(p),t(10,m=await Mn(localStorage.token,p)),m.length>0&&(t(7,T=0),await D(T))):t(10,m=[])},O=async()=>{var j;t(0,u=!0),await Rn(localStorage.token,w,p).catch(X=>(Ge.error(`${X}`),null))&&(Ge.success(i.t("Pipeline downloaded successfully")),y(),Tl.set(await Ol(localStorage.token,((j=r==null?void 0:r.features)==null?void 0:j.enable_direct_connections)&&((l==null?void 0:l.directConnections)??null)))),t(0,u=!1)},N=async()=>{var j;if(t(1,d=!0),E&&E.length!==0){const X=E[0];console.log(X),await Un(localStorage.token,X,p).catch(ie=>(console.log(ie),Ge.error("Something went wrong :/"),null))&&(Ge.success(i.t("Pipeline downloaded successfully")),y(),Tl.set(await Ol(localStorage.token,((j=r==null?void 0:r.features)==null?void 0:j.enable_direct_connections)&&((l==null?void 0:l.directConnections)??null))))}else Ge.error(i.t("No file selected"));t(2,E=null);const J=document.getElementById("pipelines-upload-input");J&&(J.value=null),t(1,d=!1)},S=async()=>{var j;await Ln(localStorage.token,m[T].id,p).catch(X=>(Ge.error(`${X}`),null))&&(Ge.success(i.t("Pipeline deleted successfully")),y(),Tl.set(await Ol(localStorage.token,((j=r==null?void 0:r.features)==null?void 0:j.enable_direct_connections)&&((l==null?void 0:l.directConnections)??null))))};Vl(async()=>{t(3,g=await On(localStorage.token)),console.log(g),g.length>0&&t(4,p=g[0].idx.toString()),await y()});function V(){p=vl(this),t(4,p),t(3,g)}const M=async()=>{await ws(),await y()};function R(){E=this.files,t(2,E)}const ee=()=>{var J;(J=document.getElementById("pipelines-upload-input"))==null||J.click()},Z=()=>{N()};function C(){w=this.value,t(8,w)}const L=()=>{O()};function P(){T=vl(this),t(7,T)}const B=async()=>{await ws(),await D(T)},q=()=>{S()},z=J=>{t(5,b[J]=(b[J]??null)===null?"":null,b)};function x(J){b[J]=vl(this),t(5,b),t(6,I)}function re(J,j){s.$$.not_equal(b[j],J)&&(b[j]=J,t(5,b))}function te(J){b[J]=this.value,t(5,b),t(6,I)}const Q=async()=>{k()};return s.$$set=J=>{"saveHandler"in J&&t(18,o=J.saveHandler)},[u,d,E,g,p,b,I,T,w,i,m,a,k,D,y,O,N,S,o,V,M,R,ee,Z,C,L,P,B,q,z,x,re,te,Q]}class yo extends _l{constructor(e){super(),hl(this,e,Do,To,dl,{saveHandler:18},null,[-1,-1])}}function fr(s,e,t){const l=s.slice();return l[50]=e[t],l}function cr(s,e,t){const l=s.slice();return l[53]=e[t],l}function dr(s,e,t){const l=s.slice();return l[56]=e[t],l}function _r(s,e,t){const l=s.slice();return l[53]=e[t],l}function hr(s,e,t){const l=s.slice();return l[56]=e[t],l}function pr(s,e,t){const l=s.slice();return l[53]=e[t],l}function vr(s,e,t){const l=s.slice();return l[53]=e[t],l}function Ao(s){let e,t,l=s[15].t("STT Model")+"",r,i,a,o,u,d,E,g,p,m,b=s[15].t("Open WebUI uses faster-whisper internally.")+"",I,T,w,k=s[15].t("Click here to learn more about faster-whisper and see the available models.")+"",D,y,O;function N(M,R){return M[12]?No:Oo}let S=N(s),V=S(s);return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("div"),u=_("input"),E=A(),g=_("button"),V.c(),p=A(),m=_("div"),I=H(b),T=A(),w=_("a"),D=H(k),this.h()},l(M){e=h(M,"DIV",{});var R=v(e);t=h(R,"DIV",{class:!0});var ee=v(t);r=G(ee,l),ee.forEach(c),i=$(R),a=h(R,"DIV",{class:!0});var Z=v(a);o=h(Z,"DIV",{class:!0});var C=v(o);u=h(C,"INPUT",{class:!0,placeholder:!0}),C.forEach(c),E=$(Z),g=h(Z,"BUTTON",{class:!0});var L=v(g);V.l(L),L.forEach(c),Z.forEach(c),p=$(R),m=h(R,"DIV",{class:!0});var P=v(m);I=G(P,b),T=$(P),w=h(P,"A",{class:!0,href:!0,target:!0});var B=v(w);D=G(B,k),B.forEach(c),P.forEach(c),R.forEach(c),this.h()},h(){f(t,"class","mb-1.5 text-sm font-medium"),f(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(u,"placeholder",d=s[15].t("Set whisper model")),f(o,"class","flex-1 mr-2"),f(g,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),g.disabled=s[12],f(a,"class","flex w-full"),f(w,"class","hover:underline dark:text-gray-200 text-gray-800"),f(w,"href","https://github.com/SYSTRAN/faster-whisper"),f(w,"target","_blank"),f(m,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(M,R){U(M,e,R),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,u),le(u,s[11]),n(a,E),n(a,g),V.m(g,null),n(e,p),n(e,m),n(m,I),n(m,T),n(m,w),n(w,D),y||(O=[ue(u,"input",s[27]),ue(g,"click",s[28])],y=!0)},p(M,R){R[0]&32768&&l!==(l=M[15].t("STT Model")+"")&&F(r,l),R[0]&32768&&d!==(d=M[15].t("Set whisper model"))&&f(u,"placeholder",d),R[0]&2048&&u.value!==M[11]&&le(u,M[11]),S!==(S=N(M))&&(V.d(1),V=S(M),V&&(V.c(),V.m(g,null))),R[0]&4096&&(g.disabled=M[12]),R[0]&32768&&b!==(b=M[15].t("Open WebUI uses faster-whisper internally.")+"")&&F(I,b),R[0]&32768&&k!==(k=M[15].t("Click here to learn more about faster-whisper and see the available models.")+"")&&F(D,k)},d(M){M&&c(e),V.d(),y=!1,zt(O)}}}function $o(s){let e,t,l,r,i=s[15].t("STT Model")+"",a,o,u,d,E,g,p,m=s[15].t("Leave model field empty to use the default model.")+"",b,I,T,w=s[15].t("Click here to see available models.")+"",k,D,y;return{c(){e=_("hr"),t=A(),l=_("div"),r=_("div"),a=H(i),o=A(),u=_("div"),d=_("div"),E=_("input"),g=A(),p=_("div"),b=H(m),I=A(),T=_("a"),k=H(w),this.h()},l(O){e=h(O,"HR",{class:!0}),t=$(O),l=h(O,"DIV",{});var N=v(l);r=h(N,"DIV",{class:!0});var S=v(r);a=G(S,i),S.forEach(c),o=$(N),u=h(N,"DIV",{class:!0});var V=v(u);d=h(V,"DIV",{class:!0});var M=v(d);E=h(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(c),V.forEach(c),g=$(N),p=h(N,"DIV",{class:!0});var R=v(p);b=G(R,m),I=$(R),T=h(R,"A",{class:!0,href:!0,target:!0});var ee=v(T);k=G(ee,w),ee.forEach(c),R.forEach(c),N.forEach(c),this.h()},h(){f(e,"class","border-gray-100 dark:border-gray-850 my-2"),f(r,"class","mb-1.5 text-sm font-medium"),f(E,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(E,"placeholder","Select a model (optional)"),f(d,"class","flex-1"),f(u,"class","flex w-full"),f(T,"class","hover:underline dark:text-gray-200 text-gray-800"),f(T,"href","https://developers.deepgram.com/docs/models"),f(T,"target","_blank"),f(p,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(O,N){U(O,e,N),U(O,t,N),U(O,l,N),n(l,r),n(r,a),n(l,o),n(l,u),n(u,d),n(d,E),le(E,s[10]),n(l,g),n(l,p),n(p,b),n(p,I),n(p,T),n(T,k),D||(y=ue(E,"input",s[26]),D=!0)},p(O,N){N[0]&32768&&i!==(i=O[15].t("STT Model")+"")&&F(a,i),N[0]&1024&&E.value!==O[10]&&le(E,O[10]),N[0]&32768&&m!==(m=O[15].t("Leave model field empty to use the default model.")+"")&&F(b,m),N[0]&32768&&w!==(w=O[15].t("Click here to see available models.")+"")&&F(k,w)},d(O){O&&(c(e),c(t),c(l)),D=!1,y()}}}function Vo(s){let e,t,l,r,i,a,o,u,d,E=s[15].t("STT Model")+"",g,p,m,b,I,T,w,k,D,y;return{c(){e=_("div"),t=_("div"),l=_("input"),i=A(),a=_("hr"),o=A(),u=_("div"),d=_("div"),g=H(E),p=A(),m=_("div"),b=_("div"),I=_("input"),T=A(),w=_("datalist"),k=_("option"),this.h()},l(O){e=h(O,"DIV",{});var N=v(e);t=h(N,"DIV",{class:!0});var S=v(t);l=h(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(c),N.forEach(c),i=$(O),a=h(O,"HR",{class:!0}),o=$(O),u=h(O,"DIV",{});var V=v(u);d=h(V,"DIV",{class:!0});var M=v(d);g=G(M,E),M.forEach(c),p=$(V),m=h(V,"DIV",{class:!0});var R=v(m);b=h(R,"DIV",{class:!0});var ee=v(b);I=h(ee,"INPUT",{list:!0,class:!0,placeholder:!0}),T=$(ee),w=h(ee,"DATALIST",{id:!0});var Z=v(w);k=h(Z,"OPTION",{}),v(k).forEach(c),Z.forEach(c),ee.forEach(c),R.forEach(c),V.forEach(c),this.h()},h(){f(l,"class","flex-1 w-full bg-transparent outline-hidden"),f(l,"placeholder",r=s[15].t("API Base URL")),l.required=!0,f(t,"class","mt-1 flex gap-2 mb-1"),f(a,"class","border-gray-100 dark:border-gray-850 my-2"),f(d,"class","mb-1.5 text-sm font-medium"),f(I,"list","model-list"),f(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(I,"placeholder","Select a model"),k.__value="whisper-1",le(k,k.__value),f(w,"id","model-list"),f(b,"class","flex-1"),f(m,"class","flex w-full")},m(O,N){U(O,e,N),n(e,t),n(t,l),le(l,s[8]),U(O,i,N),U(O,a,N),U(O,o,N),U(O,u,N),n(u,d),n(d,g),n(u,p),n(u,m),n(m,b),n(b,I),le(I,s[10]),n(b,T),n(b,w),n(w,k),D||(y=[ue(l,"input",s[24]),ue(I,"input",s[25])],D=!0)},p(O,N){N[0]&32768&&r!==(r=O[15].t("API Base URL"))&&f(l,"placeholder",r),N[0]&256&&l.value!==O[8]&&le(l,O[8]),N[0]&32768&&E!==(E=O[15].t("STT Model")+"")&&F(g,E),N[0]&1024&&I.value!==O[10]&&le(I,O[10])},d(O){O&&(c(e),c(i),c(a),c(o),c(u)),D=!1,zt(y)}}}function Oo(s){let e,t,l;return{c(){e=Zt("svg"),t=Zt("path"),l=Zt("path"),this.h()},l(r){e=Jt(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=Jt(i,"path",{d:!0}),v(t).forEach(c),l=Jt(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){f(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),f(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 16 16"),f(e,"fill","currentColor"),f(e,"class","w-4 h-4")},m(r,i){U(r,e,i),n(e,t),n(e,l)},d(r){r&&c(e)}}}function No(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}

												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-1rv6pho"&&(e.innerHTML=t),this.h()},h(){f(e,"class","self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function Po(s){let e,t,l,r,i,a,o,u,d;return{c(){e=_("div"),t=_("div"),l=_("input"),i=A(),a=_("input"),this.h()},l(E){e=h(E,"DIV",{});var g=v(e);t=h(g,"DIV",{class:!0});var p=v(t);l=h(p,"INPUT",{class:!0,placeholder:!0}),i=$(p),a=h(p,"INPUT",{class:!0,placeholder:!0}),p.forEach(c),g.forEach(c),this.h()},h(){f(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(l,"placeholder",r=s[15].t("API Key")),l.required=!0,f(a,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(a,"placeholder",o=s[15].t("Azure Region")),a.required=!0,f(t,"class","mt-1 flex gap-2 mb-1")},m(E,g){U(E,e,g),n(e,t),n(t,l),le(l,s[1]),n(t,i),n(t,a),le(a,s[6]),u||(d=[ue(l,"input",s[33]),ue(a,"input",s[34])],u=!0)},p(E,g){g[0]&32768&&r!==(r=E[15].t("API Key"))&&f(l,"placeholder",r),g[0]&2&&l.value!==E[1]&&le(l,E[1]),g[0]&32768&&o!==(o=E[15].t("Azure Region"))&&f(a,"placeholder",o),g[0]&64&&a.value!==E[6]&&le(a,E[6])},d(E){E&&c(e),u=!1,zt(d)}}}function So(s){let e,t,l,r,i,a;return{c(){e=_("div"),t=_("div"),l=_("input"),this.h()},l(o){e=h(o,"DIV",{});var u=v(e);t=h(u,"DIV",{class:!0});var d=v(t);l=h(d,"INPUT",{class:!0,placeholder:!0}),d.forEach(c),u.forEach(c),this.h()},h(){f(l,"class","flex-1 w-full rounded-lg py-2 pl-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(l,"placeholder",r=s[15].t("API Key")),l.required=!0,f(t,"class","mt-1 flex gap-2 mb-1")},m(o,u){U(o,e,u),n(e,t),n(t,l),le(l,s[1]),i||(a=ue(l,"input",s[32]),i=!0)},p(o,u){u[0]&32768&&r!==(r=o[15].t("API Key"))&&f(l,"placeholder",r),u[0]&2&&l.value!==o[1]&&le(l,o[1])},d(o){o&&c(e),i=!1,a()}}}function Mo(s){let e,t,l,r,i,a;return{c(){e=_("div"),t=_("div"),l=_("input"),this.h()},l(o){e=h(o,"DIV",{});var u=v(e);t=h(u,"DIV",{class:!0});var d=v(t);l=h(d,"INPUT",{class:!0,placeholder:!0}),d.forEach(c),u.forEach(c),this.h()},h(){f(l,"class","flex-1 w-full bg-transparent outline-hidden"),f(l,"placeholder",r=s[15].t("API Base URL")),l.required=!0,f(t,"class","mt-1 flex gap-2 mb-1")},m(o,u){U(o,e,u),n(e,t),n(t,l),le(l,s[0]),i||(a=ue(l,"input",s[31]),i=!0)},p(o,u){u[0]&32768&&r!==(r=o[15].t("API Base URL"))&&f(l,"placeholder",r),u[0]&1&&l.value!==o[0]&&le(l,o[0])},d(o){o&&c(e),i=!1,a()}}}function Ro(s){let e,t,l,r=s[15].t("TTS Voice")+"",i,a,o,u,d,E,g,p,m,b,I=s[15].t("Output format")+"",T,w,k,D,y=s[15].t("Available list")+"",O,N,S,V,M,R,ee,Z=st(s[13]),C=[];for(let L=0;L<Z.length;L+=1)C[L]=mr(cr(s,Z,L));return{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("div"),u=_("div"),d=_("input"),E=A(),g=_("datalist");for(let L=0;L<C.length;L+=1)C[L].c();p=A(),m=_("div"),b=_("div"),T=H(I),w=A(),k=_("a"),D=_("small"),O=H(y),N=A(),S=_("div"),V=_("div"),M=_("input"),this.h()},l(L){e=h(L,"DIV",{class:!0});var P=v(e);t=h(P,"DIV",{class:!0});var B=v(t);l=h(B,"DIV",{class:!0});var q=v(l);i=G(q,r),q.forEach(c),a=$(B),o=h(B,"DIV",{class:!0});var z=v(o);u=h(z,"DIV",{class:!0});var x=v(u);d=h(x,"INPUT",{list:!0,class:!0,placeholder:!0}),E=$(x),g=h(x,"DATALIST",{id:!0});var re=v(g);for(let ie=0;ie<C.length;ie+=1)C[ie].l(re);re.forEach(c),x.forEach(c),z.forEach(c),B.forEach(c),p=$(P),m=h(P,"DIV",{class:!0});var te=v(m);b=h(te,"DIV",{class:!0});var Q=v(b);T=G(Q,I),w=$(Q),k=h(Q,"A",{href:!0,target:!0});var J=v(k);D=h(J,"SMALL",{});var j=v(D);O=G(j,y),j.forEach(c),J.forEach(c),Q.forEach(c),N=$(te),S=h(te,"DIV",{class:!0});var X=v(S);V=h(X,"DIV",{class:!0});var K=v(V);M=h(K,"INPUT",{list:!0,class:!0,placeholder:!0}),K.forEach(c),X.forEach(c),te.forEach(c),P.forEach(c),this.h()},h(){f(l,"class","mb-1.5 text-sm font-medium"),f(d,"list","voice-list"),f(d,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(d,"placeholder","Select a voice"),f(g,"id","voice-list"),f(u,"class","flex-1"),f(o,"class","flex w-full"),f(t,"class","w-full"),f(k,"href","https://learn.microsoft.com/en-us/azure/ai-services/speech-service/rest-text-to-speech?tabs=streaming#audio-outputs"),f(k,"target","_blank"),f(b,"class","mb-1.5 text-sm font-medium"),f(M,"list","tts-model-list"),f(M,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(M,"placeholder","Select a output format"),f(V,"class","flex-1"),f(S,"class","flex w-full"),f(m,"class","w-full"),f(e,"class","flex gap-2")},m(L,P){U(L,e,P),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(o,u),n(u,d),le(d,s[4]),n(u,E),n(u,g);for(let B=0;B<C.length;B+=1)C[B]&&C[B].m(g,null);n(e,p),n(e,m),n(m,b),n(b,T),n(b,w),n(b,k),n(k,D),n(D,O),n(m,N),n(m,S),n(S,V),n(V,M),le(M,s[7]),R||(ee=[ue(d,"input",s[41]),ue(M,"input",s[42])],R=!0)},p(L,P){if(P[0]&32768&&r!==(r=L[15].t("TTS Voice")+"")&&F(i,r),P[0]&8208&&d.value!==L[4]&&le(d,L[4]),P[0]&8192){Z=st(L[13]);let B;for(B=0;B<Z.length;B+=1){const q=cr(L,Z,B);C[B]?C[B].p(q,P):(C[B]=mr(q),C[B].c(),C[B].m(g,null))}for(;B<C.length;B+=1)C[B].d(1);C.length=Z.length}P[0]&32768&&I!==(I=L[15].t("Output format")+"")&&F(T,I),P[0]&32768&&y!==(y=L[15].t("Available list")+"")&&F(O,y),P[0]&128&&M.value!==L[7]&&le(M,L[7])},d(L){L&&c(e),xt(C,L),R=!1,zt(ee)}}}function Lo(s){let e,t,l,r=s[15].t("TTS Voice")+"",i,a,o,u,d,E,g,p,m,b,I=s[15].t("TTS Model")+"",T,w,k,D,y,O,N,S,V,M=st(s[13]),R=[];for(let C=0;C<M.length;C+=1)R[C]=gr(_r(s,M,C));let ee=st(s[14]),Z=[];for(let C=0;C<ee.length;C+=1)Z[C]=Er(dr(s,ee,C));return{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("div"),u=_("div"),d=_("input"),E=A(),g=_("datalist");for(let C=0;C<R.length;C+=1)R[C].c();p=A(),m=_("div"),b=_("div"),T=H(I),w=A(),k=_("div"),D=_("div"),y=_("input"),O=A(),N=_("datalist");for(let C=0;C<Z.length;C+=1)Z[C].c();this.h()},l(C){e=h(C,"DIV",{class:!0});var L=v(e);t=h(L,"DIV",{class:!0});var P=v(t);l=h(P,"DIV",{class:!0});var B=v(l);i=G(B,r),B.forEach(c),a=$(P),o=h(P,"DIV",{class:!0});var q=v(o);u=h(q,"DIV",{class:!0});var z=v(u);d=h(z,"INPUT",{list:!0,class:!0,placeholder:!0}),E=$(z),g=h(z,"DATALIST",{id:!0});var x=v(g);for(let X=0;X<R.length;X+=1)R[X].l(x);x.forEach(c),z.forEach(c),q.forEach(c),P.forEach(c),p=$(L),m=h(L,"DIV",{class:!0});var re=v(m);b=h(re,"DIV",{class:!0});var te=v(b);T=G(te,I),te.forEach(c),w=$(re),k=h(re,"DIV",{class:!0});var Q=v(k);D=h(Q,"DIV",{class:!0});var J=v(D);y=h(J,"INPUT",{list:!0,class:!0,placeholder:!0}),O=$(J),N=h(J,"DATALIST",{id:!0});var j=v(N);for(let X=0;X<Z.length;X+=1)Z[X].l(j);j.forEach(c),J.forEach(c),Q.forEach(c),re.forEach(c),L.forEach(c),this.h()},h(){f(l,"class","mb-1.5 text-sm font-medium"),f(d,"list","voice-list"),f(d,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(d,"placeholder","Select a voice"),f(g,"id","voice-list"),f(u,"class","flex-1"),f(o,"class","flex w-full"),f(t,"class","w-full"),f(b,"class","mb-1.5 text-sm font-medium"),f(y,"list","tts-model-list"),f(y,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(y,"placeholder","Select a model"),f(N,"id","tts-model-list"),f(D,"class","flex-1"),f(k,"class","flex w-full"),f(m,"class","w-full"),f(e,"class","flex gap-2")},m(C,L){U(C,e,L),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(o,u),n(u,d),le(d,s[4]),n(u,E),n(u,g);for(let P=0;P<R.length;P+=1)R[P]&&R[P].m(g,null);n(e,p),n(e,m),n(m,b),n(b,T),n(m,w),n(m,k),n(k,D),n(D,y),le(y,s[3]),n(D,O),n(D,N);for(let P=0;P<Z.length;P+=1)Z[P]&&Z[P].m(N,null);S||(V=[ue(d,"input",s[39]),ue(y,"input",s[40])],S=!0)},p(C,L){if(L[0]&32768&&r!==(r=C[15].t("TTS Voice")+"")&&F(i,r),L[0]&8208&&d.value!==C[4]&&le(d,C[4]),L[0]&8192){M=st(C[13]);let P;for(P=0;P<M.length;P+=1){const B=_r(C,M,P);R[P]?R[P].p(B,L):(R[P]=gr(B),R[P].c(),R[P].m(g,null))}for(;P<R.length;P+=1)R[P].d(1);R.length=M.length}if(L[0]&32768&&I!==(I=C[15].t("TTS Model")+"")&&F(T,I),L[0]&8&&y.value!==C[3]&&le(y,C[3]),L[0]&16384){ee=st(C[14]);let P;for(P=0;P<ee.length;P+=1){const B=dr(C,ee,P);Z[P]?Z[P].p(B,L):(Z[P]=Er(B),Z[P].c(),Z[P].m(N,null))}for(;P<Z.length;P+=1)Z[P].d(1);Z.length=ee.length}},d(C){C&&c(e),xt(R,C),xt(Z,C),S=!1,zt(V)}}}function Uo(s){let e,t,l,r=s[15].t("TTS Voice")+"",i,a,o,u,d,E,g,p,m,b,I=s[15].t("TTS Model")+"",T,w,k,D,y,O,N,S,V,M=st(s[13]),R=[];for(let C=0;C<M.length;C+=1)R[C]=br(pr(s,M,C));let ee=st(s[14]),Z=[];for(let C=0;C<ee.length;C+=1)Z[C]=Ir(hr(s,ee,C));return{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("div"),u=_("div"),d=_("input"),E=A(),g=_("datalist");for(let C=0;C<R.length;C+=1)R[C].c();p=A(),m=_("div"),b=_("div"),T=H(I),w=A(),k=_("div"),D=_("div"),y=_("input"),O=A(),N=_("datalist");for(let C=0;C<Z.length;C+=1)Z[C].c();this.h()},l(C){e=h(C,"DIV",{class:!0});var L=v(e);t=h(L,"DIV",{class:!0});var P=v(t);l=h(P,"DIV",{class:!0});var B=v(l);i=G(B,r),B.forEach(c),a=$(P),o=h(P,"DIV",{class:!0});var q=v(o);u=h(q,"DIV",{class:!0});var z=v(u);d=h(z,"INPUT",{list:!0,class:!0,placeholder:!0}),E=$(z),g=h(z,"DATALIST",{id:!0});var x=v(g);for(let X=0;X<R.length;X+=1)R[X].l(x);x.forEach(c),z.forEach(c),q.forEach(c),P.forEach(c),p=$(L),m=h(L,"DIV",{class:!0});var re=v(m);b=h(re,"DIV",{class:!0});var te=v(b);T=G(te,I),te.forEach(c),w=$(re),k=h(re,"DIV",{class:!0});var Q=v(k);D=h(Q,"DIV",{class:!0});var J=v(D);y=h(J,"INPUT",{list:!0,class:!0,placeholder:!0}),O=$(J),N=h(J,"DATALIST",{id:!0});var j=v(N);for(let X=0;X<Z.length;X+=1)Z[X].l(j);j.forEach(c),J.forEach(c),Q.forEach(c),re.forEach(c),L.forEach(c),this.h()},h(){f(l,"class","mb-1.5 text-sm font-medium"),f(d,"list","voice-list"),f(d,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(d,"placeholder","Select a voice"),f(g,"id","voice-list"),f(u,"class","flex-1"),f(o,"class","flex w-full"),f(t,"class","w-full"),f(b,"class","mb-1.5 text-sm font-medium"),f(y,"list","tts-model-list"),f(y,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(y,"placeholder","Select a model"),f(N,"id","tts-model-list"),f(D,"class","flex-1"),f(k,"class","flex w-full"),f(m,"class","w-full"),f(e,"class","flex gap-2")},m(C,L){U(C,e,L),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(o,u),n(u,d),le(d,s[4]),n(u,E),n(u,g);for(let P=0;P<R.length;P+=1)R[P]&&R[P].m(g,null);n(e,p),n(e,m),n(m,b),n(b,T),n(m,w),n(m,k),n(k,D),n(D,y),le(y,s[3]),n(D,O),n(D,N);for(let P=0;P<Z.length;P+=1)Z[P]&&Z[P].m(N,null);S||(V=[ue(d,"input",s[37]),ue(y,"input",s[38])],S=!0)},p(C,L){if(L[0]&32768&&r!==(r=C[15].t("TTS Voice")+"")&&F(i,r),L[0]&8208&&d.value!==C[4]&&le(d,C[4]),L[0]&8192){M=st(C[13]);let P;for(P=0;P<M.length;P+=1){const B=pr(C,M,P);R[P]?R[P].p(B,L):(R[P]=br(B),R[P].c(),R[P].m(g,null))}for(;P<R.length;P+=1)R[P].d(1);R.length=M.length}if(L[0]&32768&&I!==(I=C[15].t("TTS Model")+"")&&F(T,I),L[0]&8&&y.value!==C[3]&&le(y,C[3]),L[0]&16384){ee=st(C[14]);let P;for(P=0;P<ee.length;P+=1){const B=hr(C,ee,P);Z[P]?Z[P].p(B,L):(Z[P]=Ir(B),Z[P].c(),Z[P].m(N,null))}for(;P<Z.length;P+=1)Z[P].d(1);Z.length=ee.length}},d(C){C&&c(e),xt(R,C),xt(Z,C),S=!1,zt(V)}}}function Co(s){let e,t,l=s[15].t("TTS Model")+"",r,i,a,o,u,d,E,g,p,m,b=s[15].t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.")+"",I,T,w,k=s[15].t("click here",{name:"SpeechT5"})+"",D,y,O,N,S=s[15].t("click here")+"",V,M,R,ee;return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("div"),u=_("input"),d=A(),E=_("datalist"),g=_("option"),p=A(),m=_("div"),I=H(b),T=H(`

							To learn more about SpeechT5,

							`),w=_("a"),D=H(k),y=H("."),O=H(`
							To see the available CMU Arctic speaker embeddings,
							`),N=_("a"),V=H(S),M=H("."),this.h()},l(Z){e=h(Z,"DIV",{});var C=v(e);t=h(C,"DIV",{class:!0});var L=v(t);r=G(L,l),L.forEach(c),i=$(C),a=h(C,"DIV",{class:!0});var P=v(a);o=h(P,"DIV",{class:!0});var B=v(o);u=h(B,"INPUT",{list:!0,class:!0,placeholder:!0}),d=$(B),E=h(B,"DATALIST",{id:!0});var q=v(E);g=h(q,"OPTION",{}),v(g).forEach(c),q.forEach(c),B.forEach(c),P.forEach(c),p=$(C),m=h(C,"DIV",{class:!0});var z=v(m);I=G(z,b),T=G(z,`

							To learn more about SpeechT5,

							`),w=h(z,"A",{class:!0,href:!0,target:!0});var x=v(w);D=G(x,k),y=G(x,"."),x.forEach(c),O=G(z,`
							To see the available CMU Arctic speaker embeddings,
							`),N=h(z,"A",{class:!0,href:!0,target:!0});var re=v(N);V=G(re,S),M=G(re,"."),re.forEach(c),z.forEach(c),C.forEach(c),this.h()},h(){f(t,"class","mb-1.5 text-sm font-medium"),f(u,"list","model-list"),f(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(u,"placeholder","CMU ARCTIC speaker embedding name"),g.__value="tts-1",le(g,g.__value),f(E,"id","model-list"),f(o,"class","flex-1"),f(a,"class","flex w-full"),f(w,"class","hover:underline dark:text-gray-200 text-gray-800"),f(w,"href","https://github.com/microsoft/SpeechT5"),f(w,"target","_blank"),f(N,"class","hover:underline dark:text-gray-200 text-gray-800"),f(N,"href","https://huggingface.co/datasets/Matthijs/cmu-arctic-xvectors"),f(N,"target","_blank"),f(m,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500")},m(Z,C){U(Z,e,C),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,u),le(u,s[3]),n(o,d),n(o,E),n(E,g),n(e,p),n(e,m),n(m,I),n(m,T),n(m,w),n(w,D),n(w,y),n(m,O),n(m,N),n(N,V),n(N,M),R||(ee=ue(u,"input",s[36]),R=!0)},p(Z,C){C[0]&32768&&l!==(l=Z[15].t("TTS Model")+"")&&F(r,l),C[0]&8&&u.value!==Z[3]&&le(u,Z[3]),C[0]&32768&&b!==(b=Z[15].t("Open WebUI uses SpeechT5 and CMU Arctic speaker embeddings.")+"")&&F(I,b),C[0]&32768&&k!==(k=Z[15].t("click here",{name:"SpeechT5"})+"")&&F(D,k),C[0]&32768&&S!==(S=Z[15].t("click here")+"")&&F(V,S)},d(Z){Z&&c(e),R=!1,ee()}}}function Bo(s){let e,t,l=s[15].t("TTS Voice")+"",r,i,a,o,u,d,E=s[15].t("Default")+"",g,p,m,b,I=st(s[13]),T=[];for(let w=0;w<I.length;w+=1)T[w]=wr(vr(s,I,w));return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("div"),u=_("select"),d=_("option"),g=H(E);for(let w=0;w<T.length;w+=1)T[w].c();this.h()},l(w){e=h(w,"DIV",{});var k=v(e);t=h(k,"DIV",{class:!0});var D=v(t);r=G(D,l),D.forEach(c),i=$(k),a=h(k,"DIV",{class:!0});var y=v(a);o=h(y,"DIV",{class:!0});var O=v(o);u=h(O,"SELECT",{class:!0});var N=v(u);d=h(N,"OPTION",{});var S=v(d);g=G(S,E),S.forEach(c);for(let V=0;V<T.length;V+=1)T[V].l(N);N.forEach(c),O.forEach(c),y.forEach(c),k.forEach(c),this.h()},h(){f(t,"class","mb-1.5 text-sm font-medium"),d.__value="",le(d,d.__value),d.selected=p=s[4]!=="",f(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),s[4]===void 0&&ml(()=>s[35].call(u)),f(o,"class","flex-1"),f(a,"class","flex w-full")},m(w,k){U(w,e,k),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,u),n(u,d),n(d,g);for(let D=0;D<T.length;D+=1)T[D]&&T[D].m(u,null);yt(u,s[4],!0),m||(b=ue(u,"change",s[35]),m=!0)},p(w,k){if(k[0]&32768&&l!==(l=w[15].t("TTS Voice")+"")&&F(r,l),k[0]&32768&&E!==(E=w[15].t("Default")+"")&&F(g,E),k[0]&8208&&p!==(p=w[4]!=="")&&(d.selected=p),k[0]&8208){I=st(w[13]);let D;for(D=0;D<I.length;D+=1){const y=vr(w,I,D);T[D]?T[D].p(y,k):(T[D]=wr(y),T[D].c(),T[D].m(u,null))}for(;D<T.length;D+=1)T[D].d(1);T.length=I.length}k[0]&8208&&yt(u,w[4])},d(w){w&&c(e),xt(T,w),m=!1,b()}}}function mr(s){let e,t=s[53].name+"",l,r;return{c(){e=_("option"),l=H(t),this.h()},l(i){e=h(i,"OPTION",{});var a=v(e);l=G(a,t),a.forEach(c),this.h()},h(){e.__value=r=s[53].id,le(e,e.__value)},m(i,a){U(i,e,a),n(e,l)},p(i,a){a[0]&8192&&t!==(t=i[53].name+"")&&F(l,t),a[0]&8192&&r!==(r=i[53].id)&&(e.__value=r,le(e,e.__value))},d(i){i&&c(e)}}}function gr(s){let e,t=s[53].name+"",l,r;return{c(){e=_("option"),l=H(t),this.h()},l(i){e=h(i,"OPTION",{});var a=v(e);l=G(a,t),a.forEach(c),this.h()},h(){e.__value=r=s[53].id,le(e,e.__value)},m(i,a){U(i,e,a),n(e,l)},p(i,a){a[0]&8192&&t!==(t=i[53].name+"")&&F(l,t),a[0]&8192&&r!==(r=i[53].id)&&(e.__value=r,le(e,e.__value))},d(i){i&&c(e)}}}function Er(s){let e,t;return{c(){e=_("option"),this.h()},l(l){e=h(l,"OPTION",{class:!0}),v(e).forEach(c),this.h()},h(){e.__value=t=s[56].id,le(e,e.__value),f(e,"class","bg-gray-50 dark:bg-gray-700")},m(l,r){U(l,e,r)},p(l,r){r[0]&16384&&t!==(t=l[56].id)&&(e.__value=t,le(e,e.__value))},d(l){l&&c(e)}}}function br(s){let e,t=s[53].name+"",l,r;return{c(){e=_("option"),l=H(t),this.h()},l(i){e=h(i,"OPTION",{});var a=v(e);l=G(a,t),a.forEach(c),this.h()},h(){e.__value=r=s[53].id,le(e,e.__value)},m(i,a){U(i,e,a),n(e,l)},p(i,a){a[0]&8192&&t!==(t=i[53].name+"")&&F(l,t),a[0]&8192&&r!==(r=i[53].id)&&(e.__value=r,le(e,e.__value))},d(i){i&&c(e)}}}function Ir(s){let e,t;return{c(){e=_("option"),this.h()},l(l){e=h(l,"OPTION",{class:!0}),v(e).forEach(c),this.h()},h(){e.__value=t=s[56].id,le(e,e.__value),f(e,"class","bg-gray-50 dark:bg-gray-700")},m(l,r){U(l,e,r)},p(l,r){r[0]&16384&&t!==(t=l[56].id)&&(e.__value=t,le(e,e.__value))},d(l){l&&c(e)}}}function wr(s){let e,t=s[53].name.replace("+",", ")+"",l,r,i;return{c(){e=_("option"),l=H(t),this.h()},l(a){e=h(a,"OPTION",{class:!0});var o=v(e);l=G(o,t),o.forEach(c),this.h()},h(){e.__value=r=s[53].voiceURI,le(e,e.__value),f(e,"class","bg-gray-100 dark:bg-gray-700"),e.selected=i=s[4]===s[53].voiceURI},m(a,o){U(a,e,o),n(e,l)},p(a,o){o[0]&8192&&t!==(t=a[53].name.replace("+",", ")+"")&&F(l,t),o[0]&8192&&r!==(r=a[53].voiceURI)&&(e.__value=r,le(e,e.__value)),o[0]&8208&&i!==(i=a[4]===a[53].voiceURI)&&(e.selected=i)},d(a){a&&c(e)}}}function kr(s){let e,t=s[15].t(s[50].charAt(0).toUpperCase()+s[50].slice(1))+"",l;return{c(){e=_("option"),l=H(t),this.h()},l(r){e=h(r,"OPTION",{});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){e.__value=s[50],le(e,e.__value)},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&32768&&t!==(t=r[15].t(r[50].charAt(0).toUpperCase()+r[50].slice(1))+"")&&F(l,t)},d(r){r&&c(e)}}}function Ho(s){let e,t,l,r,i,a=s[15].t("STT Settings")+"",o,u,d,E,g=s[15].t("Speech-to-Text Engine")+"",p,m,b,I,T,w=s[15].t("Whisper (Local)")+"",k,D,y="OpenAI",O,N=s[15].t("Web API")+"",S,V,M="Deepgram",R,ee,Z,C,L,P,B=s[15].t("TTS Settings")+"",q,z,x,re,te=s[15].t("Text-to-Speech Engine")+"",Q,J,j,X,K,ie=s[15].t("Web API")+"",fe,ne,Ie=s[15].t("Transformers")+"",ke,be,ce=s[15].t("Local")+"",ae,ve,Te,ge=s[15].t("OpenAI")+"",$e,Ve,oe=s[15].t("ElevenLabs")+"",we,De,Ne=s[15].t("Azure AI Speech")+"",se,Ae,Ue,Le,Ce,Ze,We,xe,Be,Ee,Oe=s[15].t("Response splitting")+"",rt,et,_t,Fe,gt,vt,Me=s[15].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"",mt,kt,it,ot,ht=s[15].t("Save")+"",Et,Tt,pt;function ft(me,Re){if(me[9]==="openai")return Vo;if(me[9]==="deepgram")return $o;if(me[9]==="")return Ao}let Se=ft(s),Ke=Se&&Se(s);function Pt(me,Re){if(me[2]==="openai")return Mo;if(me[2]==="elevenlabs")return So;if(me[2]==="azure")return Po}let dt=Pt(s),Pe=dt&&dt(s);function Ye(me,Re){if(me[2]==="")return Bo;if(me[2]==="transformers")return Co;if(me[2]==="openai")return Uo;if(me[2]==="elevenlabs")return Lo;if(me[2]==="azure")return Ro}let bt=Ye(s),It=bt&&bt(s),Dt=st(Object.values(Ls)),ut=[];for(let me=0;me<Dt.length;me+=1)ut[me]=kr(fr(s,Dt,me));return{c(){e=_("form"),t=_("div"),l=_("div"),r=_("div"),i=_("div"),o=H(a),u=A(),d=_("div"),E=_("div"),p=H(g),m=A(),b=_("div"),I=_("select"),T=_("option"),k=H(w),D=_("option"),D.textContent=y,O=_("option"),S=H(N),V=_("option"),V.textContent=M,R=A(),Ke&&Ke.c(),ee=A(),Z=_("hr"),C=A(),L=_("div"),P=_("div"),q=H(B),z=A(),x=_("div"),re=_("div"),Q=H(te),J=A(),j=_("div"),X=_("select"),K=_("option"),fe=H(ie),ne=_("option"),ke=H(Ie),be=H(" ("),ae=H(ce),ve=H(")"),Te=_("option"),$e=H(ge),Ve=_("option"),we=H(oe),De=_("option"),se=H(Ne),Ae=A(),Pe&&Pe.c(),Ue=A(),Le=_("hr"),Ce=A(),It&&It.c(),Ze=A(),We=_("hr"),xe=A(),Be=_("div"),Ee=_("div"),rt=H(Oe),et=A(),_t=_("div"),Fe=_("select");for(let me=0;me<ut.length;me+=1)ut[me].c();gt=A(),vt=_("div"),mt=H(Me),kt=A(),it=_("div"),ot=_("button"),Et=H(ht),this.h()},l(me){e=h(me,"FORM",{class:!0});var Re=v(e);t=h(Re,"DIV",{class:!0});var wt=v(t);l=h(wt,"DIV",{class:!0});var Ht=v(l);r=h(Ht,"DIV",{});var Ct=v(r);i=h(Ct,"DIV",{class:!0});var Gt=v(i);o=G(Gt,a),Gt.forEach(c),u=$(Ct),d=h(Ct,"DIV",{class:!0});var Yt=v(d);E=h(Yt,"DIV",{class:!0});var Bt=v(E);p=G(Bt,g),Bt.forEach(c),m=$(Yt),b=h(Yt,"DIV",{class:!0});var el=v(b);I=h(el,"SELECT",{class:!0,placeholder:!0});var Wt=v(I);T=h(Wt,"OPTION",{});var Ut=v(T);k=G(Ut,w),Ut.forEach(c),D=h(Wt,"OPTION",{"data-svelte-h":!0}),Rt(D)!=="svelte-bbvrw2"&&(D.textContent=y),O=h(Wt,"OPTION",{});var Nt=v(O);S=G(Nt,N),Nt.forEach(c),V=h(Wt,"OPTION",{"data-svelte-h":!0}),Rt(V)!=="svelte-htpsvy"&&(V.textContent=M),Wt.forEach(c),el.forEach(c),Yt.forEach(c),R=$(Ct),Ke&&Ke.l(Ct),Ct.forEach(c),ee=$(Ht),Z=h(Ht,"HR",{class:!0}),C=$(Ht),L=h(Ht,"DIV",{});var ct=v(L);P=h(ct,"DIV",{class:!0});var je=v(P);q=G(je,B),je.forEach(c),z=$(ct),x=h(ct,"DIV",{class:!0});var lt=v(x);re=h(lt,"DIV",{class:!0});var jt=v(re);Q=G(jt,te),jt.forEach(c),J=$(lt),j=h(lt,"DIV",{class:!0});var tl=v(j);X=h(tl,"SELECT",{class:!0,placeholder:!0});var At=v(X);K=h(At,"OPTION",{});var ll=v(K);fe=G(ll,ie),ll.forEach(c),ne=h(At,"OPTION",{});var Ft=v(ne);ke=G(Ft,Ie),be=G(Ft," ("),ae=G(Ft,ce),ve=G(Ft,")"),Ft.forEach(c),Te=h(At,"OPTION",{});var Kt=v(Te);$e=G(Kt,ge),Kt.forEach(c),Ve=h(At,"OPTION",{});var rl=v(Ve);we=G(rl,oe),rl.forEach(c),De=h(At,"OPTION",{});var nl=v(De);se=G(nl,Ne),nl.forEach(c),At.forEach(c),tl.forEach(c),lt.forEach(c),Ae=$(ct),Pe&&Pe.l(ct),Ue=$(ct),Le=h(ct,"HR",{class:!0}),Ce=$(ct),It&&It.l(ct),Ze=$(ct),We=h(ct,"HR",{class:!0}),xe=$(ct),Be=h(ct,"DIV",{class:!0});var al=v(Be);Ee=h(al,"DIV",{class:!0});var yl=v(Ee);rt=G(yl,Oe),yl.forEach(c),et=$(al),_t=h(al,"DIV",{class:!0});var Dl=v(_t);Fe=h(Dl,"SELECT",{class:!0,"aria-label":!0});var gl=v(Fe);for(let qt=0;qt<ut.length;qt+=1)ut[qt].l(gl);gl.forEach(c),Dl.forEach(c),al.forEach(c),gt=$(ct),vt=h(ct,"DIV",{class:!0});var El=v(vt);mt=G(El,Me),El.forEach(c),ct.forEach(c),Ht.forEach(c),wt.forEach(c),kt=$(Re),it=h(Re,"DIV",{class:!0});var Il=v(it);ot=h(Il,"BUTTON",{class:!0,type:!0});var Al=v(ot);Et=G(Al,ht),Al.forEach(c),Il.forEach(c),Re.forEach(c),this.h()},h(){f(i,"class","mb-1 text-sm font-medium"),f(E,"class","self-center text-xs font-medium"),T.__value="",le(T,T.__value),D.__value="openai",le(D,D.__value),O.__value="web",le(O,O.__value),V.__value="deepgram",le(V,V.__value),f(I,"class","dark:bg-gray-900 cursor-pointer w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(I,"placeholder","Select an engine"),s[9]===void 0&&ml(()=>s[23].call(I)),f(b,"class","flex items-center relative"),f(d,"class","py-0.5 flex w-full justify-between"),f(Z,"class","border-gray-100 dark:border-gray-850"),f(P,"class","mb-1 text-sm font-medium"),f(re,"class","self-center text-xs font-medium"),K.__value="",le(K,K.__value),ne.__value="transformers",le(ne,ne.__value),Te.__value="openai",le(Te,Te.__value),Ve.__value="elevenlabs",le(Ve,Ve.__value),De.__value="azure",le(De,De.__value),f(X,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(X,"placeholder","Select a mode"),s[2]===void 0&&ml(()=>s[29].call(X)),f(j,"class","flex items-center relative"),f(x,"class","py-0.5 flex w-full justify-between"),f(Le,"class","border-gray-100 dark:border-gray-850 my-2"),f(We,"class","border-gray-100 dark:border-gray-850 my-2"),f(Ee,"class","self-center text-xs font-medium"),f(Fe,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(Fe,"aria-label","Select how to split message text for TTS requests"),s[5]===void 0&&ml(()=>s[43].call(Fe)),f(_t,"class","flex items-center relative"),f(Be,"class","pt-0.5 flex w-full justify-between"),f(vt,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),f(l,"class","flex flex-col gap-3"),f(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),f(ot,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(ot,"type","submit"),f(it,"class","flex justify-end text-sm font-medium"),f(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(me,Re){U(me,e,Re),n(e,t),n(t,l),n(l,r),n(r,i),n(i,o),n(r,u),n(r,d),n(d,E),n(E,p),n(d,m),n(d,b),n(b,I),n(I,T),n(T,k),n(I,D),n(I,O),n(O,S),n(I,V),yt(I,s[9],!0),n(r,R),Ke&&Ke.m(r,null),n(l,ee),n(l,Z),n(l,C),n(l,L),n(L,P),n(P,q),n(L,z),n(L,x),n(x,re),n(re,Q),n(x,J),n(x,j),n(j,X),n(X,K),n(K,fe),n(X,ne),n(ne,ke),n(ne,be),n(ne,ae),n(ne,ve),n(X,Te),n(Te,$e),n(X,Ve),n(Ve,we),n(X,De),n(De,se),yt(X,s[2],!0),n(L,Ae),Pe&&Pe.m(L,null),n(L,Ue),n(L,Le),n(L,Ce),It&&It.m(L,null),n(L,Ze),n(L,We),n(L,xe),n(L,Be),n(Be,Ee),n(Ee,rt),n(Be,et),n(Be,_t),n(_t,Fe);for(let wt=0;wt<ut.length;wt+=1)ut[wt]&&ut[wt].m(Fe,null);yt(Fe,s[5],!0),n(L,gt),n(L,vt),n(vt,mt),n(e,kt),n(e,it),n(it,ot),n(ot,Et),Tt||(pt=[ue(I,"change",s[23]),ue(X,"change",s[29]),ue(X,"change",s[30]),ue(Fe,"change",s[43]),ue(e,"submit",Ml(s[44]))],Tt=!0)},p(me,Re){if(Re[0]&32768&&a!==(a=me[15].t("STT Settings")+"")&&F(o,a),Re[0]&32768&&g!==(g=me[15].t("Speech-to-Text Engine")+"")&&F(p,g),Re[0]&32768&&w!==(w=me[15].t("Whisper (Local)")+"")&&F(k,w),Re[0]&32768&&N!==(N=me[15].t("Web API")+"")&&F(S,N),Re[0]&512&&yt(I,me[9]),Se===(Se=ft(me))&&Ke?Ke.p(me,Re):(Ke&&Ke.d(1),Ke=Se&&Se(me),Ke&&(Ke.c(),Ke.m(r,null))),Re[0]&32768&&B!==(B=me[15].t("TTS Settings")+"")&&F(q,B),Re[0]&32768&&te!==(te=me[15].t("Text-to-Speech Engine")+"")&&F(Q,te),Re[0]&32768&&ie!==(ie=me[15].t("Web API")+"")&&F(fe,ie),Re[0]&32768&&Ie!==(Ie=me[15].t("Transformers")+"")&&F(ke,Ie),Re[0]&32768&&ce!==(ce=me[15].t("Local")+"")&&F(ae,ce),Re[0]&32768&&ge!==(ge=me[15].t("OpenAI")+"")&&F($e,ge),Re[0]&32768&&oe!==(oe=me[15].t("ElevenLabs")+"")&&F(we,oe),Re[0]&32768&&Ne!==(Ne=me[15].t("Azure AI Speech")+"")&&F(se,Ne),Re[0]&4&&yt(X,me[2]),dt===(dt=Pt(me))&&Pe?Pe.p(me,Re):(Pe&&Pe.d(1),Pe=dt&&dt(me),Pe&&(Pe.c(),Pe.m(L,Ue))),bt===(bt=Ye(me))&&It?It.p(me,Re):(It&&It.d(1),It=bt&&bt(me),It&&(It.c(),It.m(L,Ze))),Re[0]&32768&&Oe!==(Oe=me[15].t("Response splitting")+"")&&F(rt,Oe),Re[0]&32768){Dt=st(Object.values(Ls));let wt;for(wt=0;wt<Dt.length;wt+=1){const Ht=fr(me,Dt,wt);ut[wt]?ut[wt].p(Ht,Re):(ut[wt]=kr(Ht),ut[wt].c(),ut[wt].m(Fe,null))}for(;wt<ut.length;wt+=1)ut[wt].d(1);ut.length=Dt.length}Re[0]&32&&yt(Fe,me[5]),Re[0]&32768&&Me!==(Me=me[15].t("Control how message text is split for TTS requests. 'Punctuation' splits into sentences, 'paragraphs' splits into paragraphs, and 'none' keeps the message as a single string.")+"")&&F(mt,Me),Re[0]&32768&&ht!==(ht=me[15].t("Save")+"")&&F(Et,ht)},i:tt,o:tt,d(me){me&&c(e),Ke&&Ke.d(),Pe&&Pe.d(),It&&It.d(),xt(ut,me),Tt=!1,zt(pt)}}}function Go(s,e,t){let l,r,i;Vt(s,Ts,ge=>t(48,r=ge)),Vt(s,Pl,ge=>t(49,i=ge));const a=zl(),o=bl("i18n");Vt(s,o,ge=>t(15,l=ge));let{saveHandler:u}=e,d="",E="1",g="",p="openai",m="tts_v_1_1_0",b="",I=Ls.PUNCTUATION,T="",w="",k="",D="1",y="openai",O="wsp_v_1_1_0",N="",S="",V=!1,M=[],R=[];const ee=async()=>{var ge;if(p==="")t(14,R=[]);else{const $e=await ii(localStorage.token,((ge=i==null?void 0:i.features)==null?void 0:ge.enable_direct_connections)&&((r==null?void 0:r.directConnections)??null)).catch(Ve=>{Ge.error(`${Ve}`)});$e&&(console.log($e),t(14,R=$e.models))}},Z=async()=>{if(p===""){const ge=setInterval(()=>{t(13,M=speechSynthesis.getVoices()),M.length>0&&(clearInterval(ge),M.sort(($e,Ve)=>$e.name.localeCompare(Ve.name,l.resolvedLanguage)))},100)}else{const ge=await oi(localStorage.token).catch($e=>{Ge.error(`${$e}`)});ge&&(console.log(ge),t(13,M=ge.voices),M.sort(($e,Ve)=>$e.name.localeCompare(Ve.name,l.resolvedLanguage)))}},C=async()=>{await ui(localStorage.token,{tts:{OPENAI_API_BASE_URL:d,OPENAI_API_KEY:E,API_KEY:g,ENGINE:p,MODEL:m,VOICE:b,SPLIT_ON:I,AZURE_SPEECH_REGION:T,AZURE_SPEECH_OUTPUT_FORMAT:w},stt:{OPENAI_API_BASE_URL:k,OPENAI_API_KEY:D,ENGINE:y,MODEL:O,WHISPER_MODEL:N,DEEPGRAM_API_KEY:S}})&&(u(),Pl.set(await gs()))},L=async()=>{t(12,V=!0),await C(),t(12,V=!1)};Vl(async()=>{const ge=await ni(localStorage.token);ge&&(console.log(ge),t(0,d=ge.tts.OPENAI_API_BASE_URL),E=ge.tts.OPENAI_API_KEY,t(1,g=ge.tts.API_KEY),t(2,p=ge.tts.ENGINE),t(3,m=ge.tts.MODEL),t(4,b=ge.tts.VOICE),t(5,I=ge.tts.SPLIT_ON||Ls.PUNCTUATION),t(7,w=ge.tts.AZURE_SPEECH_OUTPUT_FORMAT),t(6,T=ge.tts.AZURE_SPEECH_REGION),t(8,k=ge.stt.OPENAI_API_BASE_URL),D=ge.stt.OPENAI_API_KEY,t(9,y=ge.stt.ENGINE),t(10,O=ge.stt.MODEL),t(11,N=ge.stt.WHISPER_MODEL),S=ge.stt.DEEPGRAM_API_KEY),await Z(),await ee()});function P(){y=vl(this),t(9,y)}function B(){k=this.value,t(8,k)}function q(){O=this.value,t(10,O)}function z(){O=this.value,t(10,O)}function x(){N=this.value,t(11,N)}const re=()=>{L()};function te(){p=vl(this),t(2,p)}const Q=async ge=>{var $e;await C(),await Z(),await ee(),(($e=ge.target)==null?void 0:$e.value)==="openai"?(t(4,b="alloy"),t(3,m="tts-1")):(t(4,b=""),t(3,m=""))};function J(){d=this.value,t(0,d)}function j(){g=this.value,t(1,g)}function X(){g=this.value,t(1,g)}function K(){T=this.value,t(6,T)}function ie(){b=vl(this),t(4,b),t(13,M)}function fe(){m=this.value,t(3,m)}function ne(){b=this.value,t(4,b),t(13,M)}function Ie(){m=this.value,t(3,m)}function ke(){b=this.value,t(4,b),t(13,M)}function be(){m=this.value,t(3,m)}function ce(){b=this.value,t(4,b),t(13,M)}function ae(){w=this.value,t(7,w)}function ve(){I=vl(this),t(5,I)}const Te=async()=>{await C(),a("save")};return s.$$set=ge=>{"saveHandler"in ge&&t(22,u=ge.saveHandler)},[d,g,p,m,b,I,T,w,k,y,O,N,V,M,R,l,a,o,ee,Z,C,L,u,P,B,q,z,x,re,te,Q,J,j,X,K,ie,fe,ne,Ie,ke,be,ce,ae,ve,Te]}class jo extends _l{constructor(e){super(),hl(this,e,Go,Ho,dl,{saveHandler:22},null,[-1,-1,-1])}}function Tr(s,e,t){const l=s.slice();return l[42]=e[t],l}function Dr(s,e,t){const l=s.slice();return l[51]=e[t],l[52]=e,l[53]=t,l}function yr(s,e,t){const l=s.slice();return l[45]=e[t],l}function Ar(s,e,t){const l=s.slice();return l[48]=e[t],l}function $r(s){var Ve;let e,t,l=s[5].t("Image Settings")+"",r,i,a,o,u,d=s[5].t("Image Generation (Experimental)")+"",E,g,p,m,b,I,T,w,k,D=s[5].t("Image Generation Engine")+"",y,O,N,S,V,M=s[5].t("Default (Open AI)")+"",R,ee,Z=s[5].t("ComfyUI")+"",C,L,P=s[5].t("Automatic1111")+"",B,q,z=s[5].t("Gemini")+"",x,re,te,Q,J,j,X,K,ie,fe,ne,Ie,ke;function be(oe){s[11](oe)}let ce={};s[1].enabled!==void 0&&(ce.state=s[1].enabled),m=new cl({props:ce}),Je.push(()=>Qe(m,"state",be)),m.$on("change",s[12]);let ae=s[1].enabled&&Vr(s);const ve=[qo,Fo,Yo,Ko],Te=[];function ge(oe,we){var De,Ne,se,Ae;return(((De=oe[1])==null?void 0:De.engine)??"automatic1111")==="automatic1111"?0:((Ne=oe[1])==null?void 0:Ne.engine)==="comfyui"?1:((se=oe[1])==null?void 0:se.engine)==="openai"?2:((Ae=oe[1])==null?void 0:Ae.engine)==="gemini"?3:-1}~(X=ge(s))&&(K=Te[X]=ve[X](s));let $e=((Ve=s[1])==null?void 0:Ve.enabled)&&Rr(s);return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("div"),u=_("div"),E=H(d),g=A(),p=_("div"),de(m.$$.fragment),I=A(),ae&&ae.c(),T=A(),w=_("div"),k=_("div"),y=H(D),O=A(),N=_("div"),S=_("select"),V=_("option"),R=H(M),ee=_("option"),C=H(Z),L=_("option"),B=H(P),q=_("option"),x=H(z),te=A(),Q=_("hr"),J=A(),j=_("div"),K&&K.c(),ie=A(),$e&&$e.c(),fe=Lt(),this.h()},l(oe){e=h(oe,"DIV",{});var we=v(e);t=h(we,"DIV",{class:!0});var De=v(t);r=G(De,l),De.forEach(c),i=$(we),a=h(we,"DIV",{});var Ne=v(a);o=h(Ne,"DIV",{class:!0});var se=v(o);u=h(se,"DIV",{class:!0});var Ae=v(u);E=G(Ae,d),Ae.forEach(c),g=$(se),p=h(se,"DIV",{class:!0});var Ue=v(p);_e(m.$$.fragment,Ue),Ue.forEach(c),se.forEach(c),Ne.forEach(c),I=$(we),ae&&ae.l(we),T=$(we),w=h(we,"DIV",{class:!0});var Le=v(w);k=h(Le,"DIV",{class:!0});var Ce=v(k);y=G(Ce,D),Ce.forEach(c),O=$(Le),N=h(Le,"DIV",{class:!0});var Ze=v(N);S=h(Ze,"SELECT",{class:!0,placeholder:!0});var We=v(S);V=h(We,"OPTION",{});var xe=v(V);R=G(xe,M),xe.forEach(c),ee=h(We,"OPTION",{});var Be=v(ee);C=G(Be,Z),Be.forEach(c),L=h(We,"OPTION",{});var Ee=v(L);B=G(Ee,P),Ee.forEach(c),q=h(We,"OPTION",{});var Oe=v(q);x=G(Oe,z),Oe.forEach(c),We.forEach(c),Ze.forEach(c),Le.forEach(c),we.forEach(c),te=$(oe),Q=h(oe,"HR",{class:!0}),J=$(oe),j=h(oe,"DIV",{class:!0});var rt=v(j);K&&K.l(rt),rt.forEach(c),ie=$(oe),$e&&$e.l(oe),fe=Lt(),this.h()},h(){f(t,"class","mb-1 text-sm font-medium"),f(u,"class","self-center text-xs font-medium"),f(p,"class","px-1"),f(o,"class","py-1 flex w-full justify-between"),f(k,"class","self-center text-xs font-medium"),V.__value="openai",le(V,V.__value),ee.__value="comfyui",le(ee,ee.__value),L.__value="automatic1111",le(L,L.__value),q.__value="gemini",le(q,q.__value),f(S,"class","dark:bg-gray-900 w-fit pr-8 cursor-pointer rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(S,"placeholder",re=s[5].t("Select Engine")),s[1].engine===void 0&&ml(()=>s[14].call(S)),f(N,"class","flex items-center relative"),f(w,"class","py-1 flex w-full justify-between"),f(Q,"class","border-gray-100 dark:border-gray-850"),f(j,"class","flex flex-col gap-2")},m(oe,we){U(oe,e,we),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,u),n(u,E),n(o,g),n(o,p),he(m,p,null),n(e,I),ae&&ae.m(e,null),n(e,T),n(e,w),n(w,k),n(k,y),n(w,O),n(w,N),n(N,S),n(S,V),n(V,R),n(S,ee),n(ee,C),n(S,L),n(L,B),n(S,q),n(q,x),yt(S,s[1].engine,!0),U(oe,te,we),U(oe,Q,we),U(oe,J,we),U(oe,j,we),~X&&Te[X].m(j,null),U(oe,ie,we),$e&&$e.m(oe,we),U(oe,fe,we),ne=!0,Ie||(ke=[ue(S,"change",s[14]),ue(S,"change",s[15])],Ie=!0)},p(oe,we){var se;(!ne||we[0]&32)&&l!==(l=oe[5].t("Image Settings")+"")&&F(r,l),(!ne||we[0]&32)&&d!==(d=oe[5].t("Image Generation (Experimental)")+"")&&F(E,d);const De={};!b&&we[0]&2&&(b=!0,De.state=oe[1].enabled,Xe(()=>b=!1)),m.$set(De),oe[1].enabled?ae?(ae.p(oe,we),we[0]&2&&Y(ae,1)):(ae=Vr(oe),ae.c(),Y(ae,1),ae.m(e,T)):ae&&(at(),W(ae,1,1,()=>{ae=null}),nt()),(!ne||we[0]&32)&&D!==(D=oe[5].t("Image Generation Engine")+"")&&F(y,D),(!ne||we[0]&32)&&M!==(M=oe[5].t("Default (Open AI)")+"")&&F(R,M),(!ne||we[0]&32)&&Z!==(Z=oe[5].t("ComfyUI")+"")&&F(C,Z),(!ne||we[0]&32)&&P!==(P=oe[5].t("Automatic1111")+"")&&F(B,P),(!ne||we[0]&32)&&z!==(z=oe[5].t("Gemini")+"")&&F(x,z),(!ne||we[0]&32&&re!==(re=oe[5].t("Select Engine")))&&f(S,"placeholder",re),we[0]&2&&yt(S,oe[1].engine);let Ne=X;X=ge(oe),X===Ne?~X&&Te[X].p(oe,we):(K&&(at(),W(Te[Ne],1,1,()=>{Te[Ne]=null}),nt()),~X?(K=Te[X],K?K.p(oe,we):(K=Te[X]=ve[X](oe),K.c()),Y(K,1),K.m(j,null)):K=null),(se=oe[1])!=null&&se.enabled?$e?($e.p(oe,we),we[0]&2&&Y($e,1)):($e=Rr(oe),$e.c(),Y($e,1),$e.m(fe.parentNode,fe)):$e&&(at(),W($e,1,1,()=>{$e=null}),nt())},i(oe){ne||(Y(m.$$.fragment,oe),Y(ae),Y(K),Y($e),ne=!0)},o(oe){W(m.$$.fragment,oe),W(ae),W(K),W($e),ne=!1},d(oe){oe&&(c(e),c(te),c(Q),c(J),c(j),c(ie),c(fe)),pe(m),ae&&ae.d(),~X&&Te[X].d(),$e&&$e.d(oe),Ie=!1,zt(ke)}}}function Vr(s){let e,t,l=s[5].t("Image Prompt Generation")+"",r,i,a,o,u,d;function E(p){s[13](p)}let g={};return s[1].prompt_generation!==void 0&&(g.state=s[1].prompt_generation),o=new cl({props:g}),Je.push(()=>Qe(o,"state",E)),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),de(o.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var b=v(t);r=G(b,l),b.forEach(c),i=$(m),a=h(m,"DIV",{class:!0});var I=v(a);_e(o.$$.fragment,I),I.forEach(c),m.forEach(c),this.h()},h(){f(t,"class","self-center text-xs font-medium"),f(a,"class","px-1"),f(e,"class","py-1 flex w-full justify-between")},m(p,m){U(p,e,m),n(e,t),n(t,r),n(e,i),n(e,a),he(o,a,null),d=!0},p(p,m){(!d||m[0]&32)&&l!==(l=p[5].t("Image Prompt Generation")+"")&&F(r,l);const b={};!u&&m[0]&2&&(u=!0,b.state=p[1].prompt_generation,Xe(()=>u=!1)),o.$set(b)},i(p){d||(Y(o.$$.fragment,p),d=!0)},o(p){W(o.$$.fragment,p),d=!1},d(p){p&&c(e),pe(o)}}}function Ko(s){let e,t,l=s[5].t("Gemini API Config")+"",r,i,a,o,u,d,E,g,p,m,b;function I(w){s[33](w)}let T={placeholder:s[5].t("API Key")};return s[1].gemini.GEMINI_API_KEY!==void 0&&(T.value=s[1].gemini.GEMINI_API_KEY),E=new pl({props:T}),Je.push(()=>Qe(E,"value",I)),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("input"),d=A(),de(E.$$.fragment),this.h()},l(w){e=h(w,"DIV",{});var k=v(e);t=h(k,"DIV",{class:!0});var D=v(t);r=G(D,l),D.forEach(c),i=$(k),a=h(k,"DIV",{class:!0});var y=v(a);o=h(y,"INPUT",{class:!0,placeholder:!0}),d=$(y),_e(E.$$.fragment,y),y.forEach(c),k.forEach(c),this.h()},h(){f(t,"class","mb-1.5 text-sm font-medium"),f(o,"class","flex-1 w-full text-sm bg-transparent outline-none"),f(o,"placeholder",u=s[5].t("API Base URL")),o.required=!0,f(a,"class","flex gap-2 mb-1")},m(w,k){U(w,e,k),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),le(o,s[1].gemini.GEMINI_API_BASE_URL),n(a,d),he(E,a,null),p=!0,m||(b=ue(o,"input",s[32]),m=!0)},p(w,k){(!p||k[0]&32)&&l!==(l=w[5].t("Gemini API Config")+"")&&F(r,l),(!p||k[0]&32&&u!==(u=w[5].t("API Base URL")))&&f(o,"placeholder",u),k[0]&2&&o.value!==w[1].gemini.GEMINI_API_BASE_URL&&le(o,w[1].gemini.GEMINI_API_BASE_URL);const D={};k[0]&32&&(D.placeholder=w[5].t("API Key")),!g&&k[0]&2&&(g=!0,D.value=w[1].gemini.GEMINI_API_KEY,Xe(()=>g=!1)),E.$set(D)},i(w){p||(Y(E.$$.fragment,w),p=!0)},o(w){W(E.$$.fragment,w),p=!1},d(w){w&&c(e),pe(E),m=!1,b()}}}function Yo(s){let e,t,l=s[5].t("OpenAI API Config")+"",r,i,a,o,u,d,E,g,p,m,b;function I(w){s[31](w)}let T={placeholder:s[5].t("API Key")};return s[1].openai.OPENAI_API_KEY!==void 0&&(T.value=s[1].openai.OPENAI_API_KEY),E=new pl({props:T}),Je.push(()=>Qe(E,"value",I)),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("input"),d=A(),de(E.$$.fragment),this.h()},l(w){e=h(w,"DIV",{});var k=v(e);t=h(k,"DIV",{class:!0});var D=v(t);r=G(D,l),D.forEach(c),i=$(k),a=h(k,"DIV",{class:!0});var y=v(a);o=h(y,"INPUT",{class:!0,placeholder:!0}),d=$(y),_e(E.$$.fragment,y),y.forEach(c),k.forEach(c),this.h()},h(){f(t,"class","mb-1.5 text-sm font-medium"),f(o,"class","flex-1 w-full text-sm bg-transparent outline-hidden"),f(o,"placeholder",u=s[5].t("API Base URL")),o.required=!0,f(a,"class","flex gap-2 mb-1")},m(w,k){U(w,e,k),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),le(o,s[1].openai.OPENAI_API_BASE_URL),n(a,d),he(E,a,null),p=!0,m||(b=ue(o,"input",s[30]),m=!0)},p(w,k){(!p||k[0]&32)&&l!==(l=w[5].t("OpenAI API Config")+"")&&F(r,l),(!p||k[0]&32&&u!==(u=w[5].t("API Base URL")))&&f(o,"placeholder",u),k[0]&2&&o.value!==w[1].openai.OPENAI_API_BASE_URL&&le(o,w[1].openai.OPENAI_API_BASE_URL);const D={};k[0]&32&&(D.placeholder=w[5].t("API Key")),!g&&k[0]&2&&(g=!0,D.value=w[1].openai.OPENAI_API_KEY,Xe(()=>g=!1)),E.$set(D)},i(w){p||(Y(E.$$.fragment,w),p=!0)},o(w){W(E.$$.fragment,w),p=!1},d(w){w&&c(e),pe(E),m=!1,b()}}}function Fo(s){let e,t,l=s[5].t("ComfyUI Base URL")+"",r,i,a,o,u,d,E,g,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',m,b,I,T=s[5].t("ComfyUI API Key")+"",w,k,D,y,O,N,S,V,M,R=s[5].t("ComfyUI Workflow")+"",ee,Z,C,L,P,B,q,z,x=s[5].t("Click here to upload a workflow.json file.")+"",re,te,Q,J=s[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"",j,X,K,ie,fe,ne;function Ie(ae){s[24](ae)}let ke={placeholder:s[5].t("sk-1234"),required:!1};s[1].comfyui.COMFYUI_API_KEY!==void 0&&(ke.value=s[1].comfyui.COMFYUI_API_KEY),O=new pl({props:ke}),Je.push(()=>Qe(O,"value",Ie));let be=s[1].comfyui.COMFYUI_WORKFLOW&&Or(s),ce=s[1].comfyui.COMFYUI_WORKFLOW&&Nr(s);return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("div"),u=_("input"),E=A(),g=_("button"),g.innerHTML=p,m=A(),b=_("div"),I=_("div"),w=H(T),k=A(),D=_("div"),y=_("div"),de(O.$$.fragment),S=A(),V=_("div"),M=_("div"),ee=H(R),Z=A(),be&&be.c(),C=A(),L=_("div"),P=_("div"),B=_("input"),q=A(),z=_("button"),re=H(x),te=A(),Q=_("div"),j=H(J),X=A(),ce&&ce.c(),K=Lt(),this.h()},l(ae){e=h(ae,"DIV",{class:!0});var ve=v(e);t=h(ve,"DIV",{class:!0});var Te=v(t);r=G(Te,l),Te.forEach(c),i=$(ve),a=h(ve,"DIV",{class:!0});var ge=v(a);o=h(ge,"DIV",{class:!0});var $e=v(o);u=h($e,"INPUT",{class:!0,placeholder:!0}),$e.forEach(c),E=$(ge),g=h(ge,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-6bmm9v"&&(g.innerHTML=p),ge.forEach(c),ve.forEach(c),m=$(ae),b=h(ae,"DIV",{class:!0});var Ve=v(b);I=h(Ve,"DIV",{class:!0});var oe=v(I);w=G(oe,T),oe.forEach(c),k=$(Ve),D=h(Ve,"DIV",{class:!0});var we=v(D);y=h(we,"DIV",{class:!0});var De=v(y);_e(O.$$.fragment,De),De.forEach(c),we.forEach(c),Ve.forEach(c),S=$(ae),V=h(ae,"DIV",{class:!0});var Ne=v(V);M=h(Ne,"DIV",{class:!0});var se=v(M);ee=G(se,R),se.forEach(c),Z=$(Ne),be&&be.l(Ne),C=$(Ne),L=h(Ne,"DIV",{class:!0});var Ae=v(L);P=h(Ae,"DIV",{class:!0});var Ue=v(P);B=h(Ue,"INPUT",{id:!0,type:!0,accept:!0}),q=$(Ue),z=h(Ue,"BUTTON",{class:!0,type:!0});var Le=v(z);re=G(Le,x),Le.forEach(c),Ue.forEach(c),Ae.forEach(c),te=$(Ne),Q=h(Ne,"DIV",{class:!0});var Ce=v(Q);j=G(Ce,J),Ce.forEach(c),Ne.forEach(c),X=$(ae),ce&&ce.l(ae),K=Lt(),this.h()},h(){f(t,"class","mb-2 text-sm font-medium"),f(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(u,"placeholder",d=s[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),f(o,"class","flex-1 mr-2"),f(g,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),f(g,"type","button"),f(a,"class","flex w-full"),f(e,"class",""),f(I,"class","mb-2 text-sm font-medium"),f(y,"class","flex-1 mr-2"),f(D,"class","flex w-full"),f(b,"class",""),f(M,"class","mb-2 text-sm font-medium"),f(B,"id","upload-comfyui-workflow-input"),B.hidden=!0,f(B,"type","file"),f(B,"accept",".json"),f(z,"class","w-full text-sm font-medium py-2 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl"),f(z,"type","button"),f(P,"class","flex-1"),f(L,"class","flex w-full"),f(Q,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),f(V,"class","")},m(ae,ve){U(ae,e,ve),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,u),le(u,s[1].comfyui.COMFYUI_BASE_URL),n(a,E),n(a,g),U(ae,m,ve),U(ae,b,ve),n(b,I),n(I,w),n(b,k),n(b,D),n(D,y),he(O,y,null),U(ae,S,ve),U(ae,V,ve),n(V,M),n(M,ee),n(V,Z),be&&be.m(V,null),n(V,C),n(V,L),n(L,P),n(P,B),n(P,q),n(P,z),n(z,re),n(V,te),n(V,Q),n(Q,j),U(ae,X,ve),ce&&ce.m(ae,ve),U(ae,K,ve),ie=!0,fe||(ne=[ue(u,"input",s[22]),ue(g,"click",s[23]),ue(B,"change",s[26]),ue(z,"click",s[27])],fe=!0)},p(ae,ve){(!ie||ve[0]&32)&&l!==(l=ae[5].t("ComfyUI Base URL")+"")&&F(r,l),(!ie||ve[0]&32&&d!==(d=ae[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&f(u,"placeholder",d),ve[0]&2&&u.value!==ae[1].comfyui.COMFYUI_BASE_URL&&le(u,ae[1].comfyui.COMFYUI_BASE_URL),(!ie||ve[0]&32)&&T!==(T=ae[5].t("ComfyUI API Key")+"")&&F(w,T);const Te={};ve[0]&32&&(Te.placeholder=ae[5].t("sk-1234")),!N&&ve[0]&2&&(N=!0,Te.value=ae[1].comfyui.COMFYUI_API_KEY,Xe(()=>N=!1)),O.$set(Te),(!ie||ve[0]&32)&&R!==(R=ae[5].t("ComfyUI Workflow")+"")&&F(ee,R),ae[1].comfyui.COMFYUI_WORKFLOW?be?be.p(ae,ve):(be=Or(ae),be.c(),be.m(V,C)):be&&(be.d(1),be=null),(!ie||ve[0]&32)&&x!==(x=ae[5].t("Click here to upload a workflow.json file.")+"")&&F(re,x),(!ie||ve[0]&32)&&J!==(J=ae[5].t("Make sure to export a workflow.json file as API format from ComfyUI.")+"")&&F(j,J),ae[1].comfyui.COMFYUI_WORKFLOW?ce?(ce.p(ae,ve),ve[0]&2&&Y(ce,1)):(ce=Nr(ae),ce.c(),Y(ce,1),ce.m(K.parentNode,K)):ce&&(at(),W(ce,1,1,()=>{ce=null}),nt())},i(ae){ie||(Y(O.$$.fragment,ae),Y(ce),ie=!0)},o(ae){W(O.$$.fragment,ae),W(ce),ie=!1},d(ae){ae&&(c(e),c(m),c(b),c(S),c(V),c(X),c(K)),pe(O),be&&be.d(),ce&&ce.d(ae),fe=!1,zt(ne)}}}function qo(s){let e,t,l=s[5].t("AUTOMATIC1111 Base URL")+"",r,i,a,o,u,d,E,g,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',m,b,I=s[5].t("Include `--api` flag when running stable-diffusion-webui")+"",T,w,k,D=s[5].t("(e.g. `sh webui.sh --api`)")+"",y,O,N,S,V=s[5].t("AUTOMATIC1111 Api Auth String")+"",M,R,ee,Z,C,L,P=s[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"",B,q,z,x=s[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"",re,te,Q,J,j=s[5].t("Set Sampler")+"",X,K,ie,fe,ne,Ie,ke,be,ce=s[5].t("Set Scheduler")+"",ae,ve,Te,ge,$e,Ve,oe,we,De=s[5].t("Set CFG Scale")+"",Ne,se,Ae,Ue,Le,Ce,Ze,We;function xe(Ee){s[18](Ee)}let Be={placeholder:s[5].t("Enter api auth string (e.g. username:password)"),required:!1};return s[1].automatic1111.AUTOMATIC1111_API_AUTH!==void 0&&(Be.value=s[1].automatic1111.AUTOMATIC1111_API_AUTH),ee=new pl({props:Be}),Je.push(()=>Qe(ee,"value",xe)),ne=new Ot({props:{content:s[5].t("Enter Sampler (e.g. Euler a)"),placement:"top-start",$$slots:{default:[Jo]},$$scope:{ctx:s}}}),$e=new Ot({props:{content:s[5].t("Enter Scheduler (e.g. Karras)"),placement:"top-start",$$slots:{default:[zo]},$$scope:{ctx:s}}}),Le=new Ot({props:{content:s[5].t("Enter CFG Scale (e.g. 7.0)"),placement:"top-start",$$slots:{default:[Xo]},$$scope:{ctx:s}}}),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("div"),u=_("input"),E=A(),g=_("button"),g.innerHTML=p,m=A(),b=_("div"),T=H(I),w=A(),k=_("a"),y=H(D),O=A(),N=_("div"),S=_("div"),M=H(V),R=A(),de(ee.$$.fragment),C=A(),L=_("div"),B=H(P),q=A(),z=_("a"),re=H(x),te=A(),Q=_("div"),J=_("div"),X=H(j),K=A(),ie=_("div"),fe=_("div"),de(ne.$$.fragment),Ie=A(),ke=_("div"),be=_("div"),ae=H(ce),ve=A(),Te=_("div"),ge=_("div"),de($e.$$.fragment),Ve=A(),oe=_("div"),we=_("div"),Ne=H(De),se=A(),Ae=_("div"),Ue=_("div"),de(Le.$$.fragment),this.h()},l(Ee){e=h(Ee,"DIV",{});var Oe=v(e);t=h(Oe,"DIV",{class:!0});var rt=v(t);r=G(rt,l),rt.forEach(c),i=$(Oe),a=h(Oe,"DIV",{class:!0});var et=v(a);o=h(et,"DIV",{class:!0});var _t=v(o);u=h(_t,"INPUT",{class:!0,placeholder:!0}),_t.forEach(c),E=$(et),g=h(et,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Rt(g)!=="svelte-6bmm9v"&&(g.innerHTML=p),et.forEach(c),m=$(Oe),b=h(Oe,"DIV",{class:!0});var Fe=v(b);T=G(Fe,I),w=$(Fe),k=h(Fe,"A",{class:!0,href:!0,target:!0});var gt=v(k);y=G(gt,D),gt.forEach(c),Fe.forEach(c),Oe.forEach(c),O=$(Ee),N=h(Ee,"DIV",{});var vt=v(N);S=h(vt,"DIV",{class:!0});var Me=v(S);M=G(Me,V),Me.forEach(c),R=$(vt),_e(ee.$$.fragment,vt),C=$(vt),L=h(vt,"DIV",{class:!0});var mt=v(L);B=G(mt,P),q=$(mt),z=h(mt,"A",{class:!0,href:!0,target:!0});var kt=v(z);re=G(kt,x),kt.forEach(c),mt.forEach(c),vt.forEach(c),te=$(Ee),Q=h(Ee,"DIV",{});var it=v(Q);J=h(it,"DIV",{class:!0});var ot=v(J);X=G(ot,j),ot.forEach(c),K=$(it),ie=h(it,"DIV",{class:!0});var ht=v(ie);fe=h(ht,"DIV",{class:!0});var Et=v(fe);_e(ne.$$.fragment,Et),Et.forEach(c),ht.forEach(c),it.forEach(c),Ie=$(Ee),ke=h(Ee,"DIV",{});var Tt=v(ke);be=h(Tt,"DIV",{class:!0});var pt=v(be);ae=G(pt,ce),pt.forEach(c),ve=$(Tt),Te=h(Tt,"DIV",{class:!0});var ft=v(Te);ge=h(ft,"DIV",{class:!0});var Se=v(ge);_e($e.$$.fragment,Se),Se.forEach(c),ft.forEach(c),Tt.forEach(c),Ve=$(Ee),oe=h(Ee,"DIV",{});var Ke=v(oe);we=h(Ke,"DIV",{class:!0});var Pt=v(we);Ne=G(Pt,De),Pt.forEach(c),se=$(Ke),Ae=h(Ke,"DIV",{class:!0});var dt=v(Ae);Ue=h(dt,"DIV",{class:!0});var Pe=v(Ue);_e(Le.$$.fragment,Pe),Pe.forEach(c),dt.forEach(c),Ke.forEach(c),this.h()},h(){f(t,"class","mb-2 text-sm font-medium"),f(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(u,"placeholder",d=s[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")),f(o,"class","flex-1 mr-2"),f(g,"class","px-2.5 bg-gray-50 hover:bg-gray-100 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),f(g,"type","button"),f(a,"class","flex w-full"),f(k,"class","text-gray-300 font-medium"),f(k,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734"),f(k,"target","_blank"),f(b,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),f(S,"class","mb-2 text-sm font-medium"),f(z,"class","text-gray-300 font-medium"),f(z,"href","https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/13993"),f(z,"target","_blank"),f(L,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),f(J,"class","mb-2.5 text-sm font-medium"),f(fe,"class","flex-1 mr-2"),f(ie,"class","flex w-full"),f(be,"class","mb-2.5 text-sm font-medium"),f(ge,"class","flex-1 mr-2"),f(Te,"class","flex w-full"),f(we,"class","mb-2.5 text-sm font-medium"),f(Ue,"class","flex-1 mr-2"),f(Ae,"class","flex w-full")},m(Ee,Oe){U(Ee,e,Oe),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,u),le(u,s[1].automatic1111.AUTOMATIC1111_BASE_URL),n(a,E),n(a,g),n(e,m),n(e,b),n(b,T),n(b,w),n(b,k),n(k,y),U(Ee,O,Oe),U(Ee,N,Oe),n(N,S),n(S,M),n(N,R),he(ee,N,null),n(N,C),n(N,L),n(L,B),n(L,q),n(L,z),n(z,re),U(Ee,te,Oe),U(Ee,Q,Oe),n(Q,J),n(J,X),n(Q,K),n(Q,ie),n(ie,fe),he(ne,fe,null),U(Ee,Ie,Oe),U(Ee,ke,Oe),n(ke,be),n(be,ae),n(ke,ve),n(ke,Te),n(Te,ge),he($e,ge,null),U(Ee,Ve,Oe),U(Ee,oe,Oe),n(oe,we),n(we,Ne),n(oe,se),n(oe,Ae),n(Ae,Ue),he(Le,Ue,null),Ce=!0,Ze||(We=[ue(u,"input",s[16]),ue(g,"click",s[17])],Ze=!0)},p(Ee,Oe){(!Ce||Oe[0]&32)&&l!==(l=Ee[5].t("AUTOMATIC1111 Base URL")+"")&&F(r,l),(!Ce||Oe[0]&32&&d!==(d=Ee[5].t("Enter URL (e.g. http://127.0.0.1:7860/)")))&&f(u,"placeholder",d),Oe[0]&2&&u.value!==Ee[1].automatic1111.AUTOMATIC1111_BASE_URL&&le(u,Ee[1].automatic1111.AUTOMATIC1111_BASE_URL),(!Ce||Oe[0]&32)&&I!==(I=Ee[5].t("Include `--api` flag when running stable-diffusion-webui")+"")&&F(T,I),(!Ce||Oe[0]&32)&&D!==(D=Ee[5].t("(e.g. `sh webui.sh --api`)")+"")&&F(y,D),(!Ce||Oe[0]&32)&&V!==(V=Ee[5].t("AUTOMATIC1111 Api Auth String")+"")&&F(M,V);const rt={};Oe[0]&32&&(rt.placeholder=Ee[5].t("Enter api auth string (e.g. username:password)")),!Z&&Oe[0]&2&&(Z=!0,rt.value=Ee[1].automatic1111.AUTOMATIC1111_API_AUTH,Xe(()=>Z=!1)),ee.$set(rt),(!Ce||Oe[0]&32)&&P!==(P=Ee[5].t("Include `--api-auth` flag when running stable-diffusion-webui")+"")&&F(B,P),(!Ce||Oe[0]&32)&&x!==(x=Ee[5].t("(e.g. `sh webui.sh --api --api-auth username_password`)").replace("_",":")+"")&&F(re,x),(!Ce||Oe[0]&32)&&j!==(j=Ee[5].t("Set Sampler")+"")&&F(X,j);const et={};Oe[0]&32&&(et.content=Ee[5].t("Enter Sampler (e.g. Euler a)")),Oe[0]&34|Oe[1]&8388608&&(et.$$scope={dirty:Oe,ctx:Ee}),ne.$set(et),(!Ce||Oe[0]&32)&&ce!==(ce=Ee[5].t("Set Scheduler")+"")&&F(ae,ce);const _t={};Oe[0]&32&&(_t.content=Ee[5].t("Enter Scheduler (e.g. Karras)")),Oe[0]&34|Oe[1]&8388608&&(_t.$$scope={dirty:Oe,ctx:Ee}),$e.$set(_t),(!Ce||Oe[0]&32)&&De!==(De=Ee[5].t("Set CFG Scale")+"")&&F(Ne,De);const Fe={};Oe[0]&32&&(Fe.content=Ee[5].t("Enter CFG Scale (e.g. 7.0)")),Oe[0]&34|Oe[1]&8388608&&(Fe.$$scope={dirty:Oe,ctx:Ee}),Le.$set(Fe)},i(Ee){Ce||(Y(ee.$$.fragment,Ee),Y(ne.$$.fragment,Ee),Y($e.$$.fragment,Ee),Y(Le.$$.fragment,Ee),Ce=!0)},o(Ee){W(ee.$$.fragment,Ee),W(ne.$$.fragment,Ee),W($e.$$.fragment,Ee),W(Le.$$.fragment,Ee),Ce=!1},d(Ee){Ee&&(c(e),c(O),c(N),c(te),c(Q),c(Ie),c(ke),c(Ve),c(oe)),pe(ee),pe(ne),pe($e),pe(Le),Ze=!1,zt(We)}}}function Or(s){let e,t,l;return{c(){e=_("textarea"),this.h()},l(r){e=h(r,"TEXTAREA",{class:!0,rows:!0}),v(e).forEach(c),this.h()},h(){f(e,"class","w-full rounded-lg mb-1 py-2 px-4 text-xs bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden disabled:text-gray-600 resize-none"),f(e,"rows","10"),e.required=!0},m(r,i){U(r,e,i),le(e,s[1].comfyui.COMFYUI_WORKFLOW),t||(l=ue(e,"input",s[25]),t=!0)},p(r,i){i[0]&2&&le(e,r[1].comfyui.COMFYUI_WORKFLOW)},d(r){r&&c(e),t=!1,l()}}}function Nr(s){let e,t,l=s[5].t("ComfyUI Workflow Nodes")+"",r,i,a,o,u,d=s[5].t("*Prompt node ID(s) are required for image generation")+"",E,g,p=st(s[4]),m=[];for(let I=0;I<p.length;I+=1)m[I]=Pr(Dr(s,p,I));const b=I=>W(m[I],1,1,()=>{m[I]=null});return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div");for(let I=0;I<m.length;I+=1)m[I].c();o=A(),u=_("div"),E=H(d),this.h()},l(I){e=h(I,"DIV",{class:!0});var T=v(e);t=h(T,"DIV",{class:!0});var w=v(t);r=G(w,l),w.forEach(c),i=$(T),a=h(T,"DIV",{class:!0});var k=v(a);for(let y=0;y<m.length;y+=1)m[y].l(k);k.forEach(c),o=$(T),u=h(T,"DIV",{class:!0});var D=v(u);E=G(D,d),D.forEach(c),T.forEach(c),this.h()},h(){f(t,"class","mb-2 text-sm font-medium"),f(a,"class","text-xs flex flex-col gap-1.5"),f(u,"class","mt-2 text-xs text-right text-gray-400 dark:text-gray-500"),f(e,"class","")},m(I,T){U(I,e,T),n(e,t),n(t,r),n(e,i),n(e,a);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(a,null);n(e,o),n(e,u),n(u,E),g=!0},p(I,T){if((!g||T[0]&32)&&l!==(l=I[5].t("ComfyUI Workflow Nodes")+"")&&F(r,l),T[0]&16){p=st(I[4]);let w;for(w=0;w<p.length;w+=1){const k=Dr(I,p,w);m[w]?(m[w].p(k,T),Y(m[w],1)):(m[w]=Pr(k),m[w].c(),Y(m[w],1),m[w].m(a,null))}for(at(),w=p.length;w<m.length;w+=1)b(w);nt()}(!g||T[0]&32)&&d!==(d=I[5].t("*Prompt node ID(s) are required for image generation")+"")&&F(E,d)},i(I){if(!g){for(let T=0;T<p.length;T+=1)Y(m[T]);g=!0}},o(I){m=m.filter(Boolean);for(let T=0;T<m.length;T+=1)W(m[T]);g=!1},d(I){I&&c(e),xt(m,I)}}}function Wo(s){let e,t,l;function r(){s[28].call(e,s[52],s[53])}return{c(){e=_("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){f(e,"class","py-1 px-3 w-24 text-xs text-center bg-transparent outline-hidden border-r dark:border-gray-850"),f(e,"placeholder","Key"),e.required=!0},m(i,a){U(i,e,a),le(e,s[51].key),t||(l=ue(e,"input",r),t=!0)},p(i,a){s=i,a[0]&16&&e.value!==s[51].key&&le(e,s[51].key)},d(i){i&&c(e),t=!1,l()}}}function Zo(s){let e,t,l;function r(){s[29].call(e,s[52],s[53])}return{c(){e=_("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){f(e,"class","w-full py-1 px-4 rounded-r-lg text-xs bg-transparent outline-hidden"),f(e,"placeholder","Node Ids")},m(i,a){U(i,e,a),le(e,s[51].node_ids),t||(l=ue(e,"input",r),t=!0)},p(i,a){s=i,a[0]&16&&e.value!==s[51].node_ids&&le(e,s[51].node_ids)},d(i){i&&c(e),t=!1,l()}}}function Pr(s){let e,t,l,r=s[51].type+"",i,a=s[51].type==="prompt"?"*":"",o,u,d,E,g,p,m,b,I;return E=new Ot({props:{content:"Input Key (e.g. text, unet_name, steps)",$$slots:{default:[Wo]},$$scope:{ctx:s}}}),m=new Ot({props:{content:"Comma separated Node Ids (e.g. 1 or 1,2)",placement:"top-start",$$slots:{default:[Zo]},$$scope:{ctx:s}}}),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),o=H(a),u=A(),d=_("div"),de(E.$$.fragment),g=A(),p=_("div"),de(m.$$.fragment),b=A(),this.h()},l(T){e=h(T,"DIV",{class:!0});var w=v(e);t=h(w,"DIV",{class:!0});var k=v(t);l=h(k,"DIV",{class:!0});var D=v(l);i=G(D,r),o=G(D,a),D.forEach(c),k.forEach(c),u=$(w),d=h(w,"DIV",{class:!0});var y=v(d);_e(E.$$.fragment,y),y.forEach(c),g=$(w),p=h(w,"DIV",{class:!0});var O=v(p);_e(m.$$.fragment,O),O.forEach(c),b=$(w),w.forEach(c),this.h()},h(){f(l,"class","capitalize line-clamp-1 font-medium px-3 py-1 w-20 text-center rounded-l-lg bg-green-500/10 text-green-700 dark:text-green-200"),f(t,"class","shrink-0"),f(d,"class",""),f(p,"class","w-full"),f(e,"class","flex w-full items-center border dark:border-gray-850 rounded-lg")},m(T,w){U(T,e,w),n(e,t),n(t,l),n(l,i),n(l,o),n(e,u),n(e,d),he(E,d,null),n(e,g),n(e,p),he(m,p,null),n(e,b),I=!0},p(T,w){(!I||w[0]&16)&&r!==(r=T[51].type+"")&&F(i,r),(!I||w[0]&16)&&a!==(a=T[51].type==="prompt"?"*":"")&&F(o,a);const k={};w[0]&16|w[1]&8388608&&(k.$$scope={dirty:w,ctx:T}),E.$set(k);const D={};w[0]&16|w[1]&8388608&&(D.$$scope={dirty:w,ctx:T}),m.$set(D)},i(T){I||(Y(E.$$.fragment,T),Y(m.$$.fragment,T),I=!0)},o(T){W(E.$$.fragment,T),W(m.$$.fragment,T),I=!1},d(T){T&&c(e),pe(E),pe(m)}}}function Sr(s){let e,t=s[48]+"",l;return{c(){e=_("option"),l=H(t),this.h()},l(r){e=h(r,"OPTION",{});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){e.__value=s[48],le(e,e.__value)},m(r,i){U(r,e,i),n(e,l)},p:tt,d(r){r&&c(e)}}}function Jo(s){let e,t,l,r,i,a,o=st(s[7]??[]),u=[];for(let d=0;d<o.length;d+=1)u[d]=Sr(Ar(s,o,d));return{c(){e=_("input"),l=A(),r=_("datalist");for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=h(d,"INPUT",{list:!0,class:!0,placeholder:!0}),l=$(d),r=h(d,"DATALIST",{id:!0});var E=v(r);for(let g=0;g<u.length;g+=1)u[g].l(E);E.forEach(c),this.h()},h(){f(e,"list","sampler-list"),f(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(e,"placeholder",t=s[5].t("Enter Sampler (e.g. Euler a)")),f(r,"id","sampler-list")},m(d,E){U(d,e,E),le(e,s[1].automatic1111.AUTOMATIC1111_SAMPLER),U(d,l,E),U(d,r,E);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(r,null);i||(a=ue(e,"input",s[19]),i=!0)},p(d,E){if(E[0]&32&&t!==(t=d[5].t("Enter Sampler (e.g. Euler a)"))&&f(e,"placeholder",t),E[0]&2&&e.value!==d[1].automatic1111.AUTOMATIC1111_SAMPLER&&le(e,d[1].automatic1111.AUTOMATIC1111_SAMPLER),E[0]&128){o=st(d[7]??[]);let g;for(g=0;g<o.length;g+=1){const p=Ar(d,o,g);u[g]?u[g].p(p,E):(u[g]=Sr(p),u[g].c(),u[g].m(r,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=o.length}},d(d){d&&(c(e),c(l),c(r)),xt(u,d),i=!1,a()}}}function Mr(s){let e,t=s[45]+"",l;return{c(){e=_("option"),l=H(t),this.h()},l(r){e=h(r,"OPTION",{});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){e.__value=s[45],le(e,e.__value)},m(r,i){U(r,e,i),n(e,l)},p:tt,d(r){r&&c(e)}}}function zo(s){let e,t,l,r,i,a,o=st(s[8]??[]),u=[];for(let d=0;d<o.length;d+=1)u[d]=Mr(yr(s,o,d));return{c(){e=_("input"),l=A(),r=_("datalist");for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=h(d,"INPUT",{list:!0,class:!0,placeholder:!0}),l=$(d),r=h(d,"DATALIST",{id:!0});var E=v(r);for(let g=0;g<u.length;g+=1)u[g].l(E);E.forEach(c),this.h()},h(){f(e,"list","scheduler-list"),f(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(e,"placeholder",t=s[5].t("Enter Scheduler (e.g. Karras)")),f(r,"id","scheduler-list")},m(d,E){U(d,e,E),le(e,s[1].automatic1111.AUTOMATIC1111_SCHEDULER),U(d,l,E),U(d,r,E);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(r,null);i||(a=ue(e,"input",s[20]),i=!0)},p(d,E){if(E[0]&32&&t!==(t=d[5].t("Enter Scheduler (e.g. Karras)"))&&f(e,"placeholder",t),E[0]&2&&e.value!==d[1].automatic1111.AUTOMATIC1111_SCHEDULER&&le(e,d[1].automatic1111.AUTOMATIC1111_SCHEDULER),E[0]&256){o=st(d[8]??[]);let g;for(g=0;g<o.length;g+=1){const p=yr(d,o,g);u[g]?u[g].p(p,E):(u[g]=Mr(p),u[g].c(),u[g].m(r,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=o.length}},d(d){d&&(c(e),c(l),c(r)),xt(u,d),i=!1,a()}}}function Xo(s){let e,t,l,r;return{c(){e=_("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){f(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(e,"placeholder",t=s[5].t("Enter CFG Scale (e.g. 7.0)"))},m(i,a){U(i,e,a),le(e,s[1].automatic1111.AUTOMATIC1111_CFG_SCALE),l||(r=ue(e,"input",s[21]),l=!0)},p(i,a){a[0]&32&&t!==(t=i[5].t("Enter CFG Scale (e.g. 7.0)"))&&f(e,"placeholder",t),a[0]&2&&e.value!==i[1].automatic1111.AUTOMATIC1111_CFG_SCALE&&le(e,i[1].automatic1111.AUTOMATIC1111_CFG_SCALE)},d(i){i&&c(e),l=!1,r()}}}function Rr(s){let e,t,l,r,i=s[5].t("Set Default Model")+"",a,o,u,d,E,g,p,m,b,I,T=s[5].t("Set Image Size")+"",w,k,D,y,O,N,S,V,M=s[5].t("Set Steps")+"",R,ee,Z,C,L,P;return p=new Ot({props:{content:s[5].t("Enter Model ID"),placement:"top-start",$$slots:{default:[Qo]},$$scope:{ctx:s}}}),O=new Ot({props:{content:s[5].t("Enter Image Size (e.g. 512x512)"),placement:"top-start",$$slots:{default:[xo]},$$scope:{ctx:s}}}),L=new Ot({props:{content:s[5].t("Enter Number of Steps (e.g. 50)"),placement:"top-start",$$slots:{default:[eu]},$$scope:{ctx:s}}}),{c(){e=_("hr"),t=A(),l=_("div"),r=_("div"),a=H(i),o=A(),u=_("div"),d=_("div"),E=_("div"),g=_("div"),de(p.$$.fragment),m=A(),b=_("div"),I=_("div"),w=H(T),k=A(),D=_("div"),y=_("div"),de(O.$$.fragment),N=A(),S=_("div"),V=_("div"),R=H(M),ee=A(),Z=_("div"),C=_("div"),de(L.$$.fragment),this.h()},l(B){e=h(B,"HR",{class:!0}),t=$(B),l=h(B,"DIV",{});var q=v(l);r=h(q,"DIV",{class:!0});var z=v(r);a=G(z,i),z.forEach(c),o=$(q),u=h(q,"DIV",{class:!0});var x=v(u);d=h(x,"DIV",{class:!0});var re=v(d);E=h(re,"DIV",{class:!0});var te=v(E);g=h(te,"DIV",{class:!0});var Q=v(g);_e(p.$$.fragment,Q),Q.forEach(c),te.forEach(c),re.forEach(c),x.forEach(c),q.forEach(c),m=$(B),b=h(B,"DIV",{});var J=v(b);I=h(J,"DIV",{class:!0});var j=v(I);w=G(j,T),j.forEach(c),k=$(J),D=h(J,"DIV",{class:!0});var X=v(D);y=h(X,"DIV",{class:!0});var K=v(y);_e(O.$$.fragment,K),K.forEach(c),X.forEach(c),J.forEach(c),N=$(B),S=h(B,"DIV",{});var ie=v(S);V=h(ie,"DIV",{class:!0});var fe=v(V);R=G(fe,M),fe.forEach(c),ee=$(ie),Z=h(ie,"DIV",{class:!0});var ne=v(Z);C=h(ne,"DIV",{class:!0});var Ie=v(C);_e(L.$$.fragment,Ie),Ie.forEach(c),ne.forEach(c),ie.forEach(c),this.h()},h(){f(e,"class","border-gray-100 dark:border-gray-850"),f(r,"class","mb-2.5 text-sm font-medium"),f(g,"class","flex-1"),f(E,"class","flex w-full"),f(d,"class","flex-1 mr-2"),f(u,"class","flex w-full"),f(I,"class","mb-2.5 text-sm font-medium"),f(y,"class","flex-1 mr-2"),f(D,"class","flex w-full"),f(V,"class","mb-2.5 text-sm font-medium"),f(C,"class","flex-1 mr-2"),f(Z,"class","flex w-full")},m(B,q){U(B,e,q),U(B,t,q),U(B,l,q),n(l,r),n(r,a),n(l,o),n(l,u),n(u,d),n(d,E),n(E,g),he(p,g,null),U(B,m,q),U(B,b,q),n(b,I),n(I,w),n(b,k),n(b,D),n(D,y),he(O,y,null),U(B,N,q),U(B,S,q),n(S,V),n(V,R),n(S,ee),n(S,Z),n(Z,C),he(L,C,null),P=!0},p(B,q){(!P||q[0]&32)&&i!==(i=B[5].t("Set Default Model")+"")&&F(a,i);const z={};q[0]&32&&(z.content=B[5].t("Enter Model ID")),q[0]&12|q[1]&8388608&&(z.$$scope={dirty:q,ctx:B}),p.$set(z),(!P||q[0]&32)&&T!==(T=B[5].t("Set Image Size")+"")&&F(w,T);const x={};q[0]&32&&(x.content=B[5].t("Enter Image Size (e.g. 512x512)")),q[0]&36|q[1]&8388608&&(x.$$scope={dirty:q,ctx:B}),O.$set(x),(!P||q[0]&32)&&M!==(M=B[5].t("Set Steps")+"")&&F(R,M);const re={};q[0]&32&&(re.content=B[5].t("Enter Number of Steps (e.g. 50)")),q[0]&36|q[1]&8388608&&(re.$$scope={dirty:q,ctx:B}),L.$set(re)},i(B){P||(Y(p.$$.fragment,B),Y(O.$$.fragment,B),Y(L.$$.fragment,B),P=!0)},o(B){W(p.$$.fragment,B),W(O.$$.fragment,B),W(L.$$.fragment,B),P=!1},d(B){B&&(c(e),c(t),c(l),c(m),c(b),c(N),c(S)),pe(p),pe(O),pe(L)}}}function Lr(s){let e,t=s[42].name+"",l,r;return{c(){e=_("option"),l=H(t),this.h()},l(i){e=h(i,"OPTION",{});var a=v(e);l=G(a,t),a.forEach(c),this.h()},h(){e.__value=r=s[42].id,le(e,e.__value)},m(i,a){U(i,e,a),n(e,l)},p(i,a){a[0]&8&&t!==(t=i[42].name+"")&&F(l,t),a[0]&8&&r!==(r=i[42].id)&&(e.__value=r,le(e,e.__value))},d(i){i&&c(e)}}}function Qo(s){let e,t,l,r,i,a=st(s[3]??[]),o=[];for(let u=0;u<a.length;u+=1)o[u]=Lr(Tr(s,a,u));return{c(){e=_("input"),t=A(),l=_("datalist");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=h(u,"INPUT",{list:!0,class:!0,placeholder:!0}),t=$(u),l=h(u,"DATALIST",{id:!0});var d=v(l);for(let E=0;E<o.length;E+=1)o[E].l(d);d.forEach(c),this.h()},h(){f(e,"list","model-list"),f(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(e,"placeholder","Select a model"),e.required=!0,f(l,"id","model-list")},m(u,d){U(u,e,d),le(e,s[2].MODEL),U(u,t,d),U(u,l,d);for(let E=0;E<o.length;E+=1)o[E]&&o[E].m(l,null);r||(i=ue(e,"input",s[34]),r=!0)},p(u,d){if(d[0]&4&&e.value!==u[2].MODEL&&le(e,u[2].MODEL),d[0]&8){a=st(u[3]??[]);let E;for(E=0;E<a.length;E+=1){const g=Tr(u,a,E);o[E]?o[E].p(g,d):(o[E]=Lr(g),o[E].c(),o[E].m(l,null))}for(;E<o.length;E+=1)o[E].d(1);o.length=a.length}},d(u){u&&(c(e),c(t),c(l)),xt(o,u),r=!1,i()}}}function xo(s){let e,t,l,r;return{c(){e=_("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){f(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(e,"placeholder",t=s[5].t("Enter Image Size (e.g. 512x512)")),e.required=!0},m(i,a){U(i,e,a),le(e,s[2].IMAGE_SIZE),l||(r=ue(e,"input",s[35]),l=!0)},p(i,a){a[0]&32&&t!==(t=i[5].t("Enter Image Size (e.g. 512x512)"))&&f(e,"placeholder",t),a[0]&4&&e.value!==i[2].IMAGE_SIZE&&le(e,i[2].IMAGE_SIZE)},d(i){i&&c(e),l=!1,r()}}}function eu(s){let e,t,l,r;return{c(){e=_("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){f(e,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(e,"placeholder",t=s[5].t("Enter Number of Steps (e.g. 50)")),e.required=!0},m(i,a){U(i,e,a),le(e,s[2].IMAGE_STEPS),l||(r=ue(e,"input",s[36]),l=!0)},p(i,a){a[0]&32&&t!==(t=i[5].t("Enter Number of Steps (e.g. 50)"))&&f(e,"placeholder",t),a[0]&4&&e.value!==i[2].IMAGE_STEPS&&le(e,i[2].IMAGE_STEPS)},d(i){i&&c(e),l=!1,r()}}}function Ur(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function tu(s){let e,t,l,r,i,a=s[5].t("Save")+"",o,u,d,E,g,p,m=s[1]&&s[2]&&$r(s),b=s[0]&&Ur();return{c(){e=_("form"),t=_("div"),m&&m.c(),l=A(),r=_("div"),i=_("button"),o=H(a),u=A(),b&&b.c(),this.h()},l(I){e=h(I,"FORM",{class:!0});var T=v(e);t=h(T,"DIV",{class:!0});var w=v(t);m&&m.l(w),w.forEach(c),l=$(T),r=h(T,"DIV",{class:!0});var k=v(r);i=h(k,"BUTTON",{class:!0,type:!0});var D=v(i);o=G(D,a),u=$(D),b&&b.l(D),D.forEach(c),k.forEach(c),T.forEach(c),this.h()},h(){f(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden pr-2"),f(i,"class",d="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),f(i,"type","submit"),i.disabled=s[0],f(r,"class","flex justify-end pt-3 text-sm font-medium"),f(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(I,T){U(I,e,T),n(e,t),m&&m.m(t,null),n(e,l),n(e,r),n(r,i),n(i,o),n(i,u),b&&b.m(i,null),E=!0,g||(p=ue(e,"submit",Ml(s[37])),g=!0)},p(I,T){I[1]&&I[2]?m?(m.p(I,T),T[0]&6&&Y(m,1)):(m=$r(I),m.c(),Y(m,1),m.m(t,null)):m&&(at(),W(m,1,1,()=>{m=null}),nt()),(!E||T[0]&32)&&a!==(a=I[5].t("Save")+"")&&F(o,a),I[0]?b||(b=Ur(),b.c(),b.m(i,null)):b&&(b.d(1),b=null),(!E||T[0]&1&&d!==(d="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(I[0]?" cursor-not-allowed":"")))&&f(i,"class",d),(!E||T[0]&1)&&(i.disabled=I[0])},i(I){E||(Y(m),E=!0)},o(I){W(m),E=!1},d(I){I&&c(e),m&&m.d(),b&&b.d(),g=!1,p()}}}function lu(s,e,t){let l,r;Vt(s,Ds,ne=>t(38,l=ne));const i=zl(),a=bl("i18n");Vt(s,a,ne=>t(5,r=ne));let o=!1,u=null,d=null,E=null,g=["DPM++ 2M","DPM++ SDE","DPM++ 2M SDE","DPM++ 2M SDE Heun","DPM++ 2S a","DPM++ 3M SDE","Euler a","Euler","LMS","Heun","DPM2","DPM2 a","DPM fast","DPM adaptive","Restart","DDIM","DDIM CFG++","PLMS","UniPC"],p=["Automatic","Uniform","Karras","Exponential","Polyexponential","SGM Uniform","KL Optimal","Align Your Steps","Simple","Normal","DDIM","Beta"],m=[{type:"prompt",key:"text",node_ids:""},{type:"model",key:"ckpt_name",node_ids:""},{type:"width",key:"width",node_ids:""},{type:"height",key:"height",node_ids:""},{type:"steps",key:"steps",node_ids:""},{type:"seed",key:"seed",node_ids:""}];const b=async()=>{t(3,E=await di(localStorage.token).catch(ne=>(Ge.error(`${ne}`),null)))},I=async()=>{const ne=await Ys(localStorage.token,u).catch(Ie=>(Ge.error(`${Ie}`),null)).catch(Ie=>(Ge.error(`${Ie}`),null));ne&&t(1,u=ne),u.enabled&&(Pl.set(await gs()),b())},T=ne=>{try{const Ie=JSON.parse(ne);if(Ie&&typeof Ie=="object")return!0}catch{}return!1},w=async()=>{var ne,Ie;if(t(0,o=!0),(ne=u==null?void 0:u.comfyui)!=null&&ne.COMFYUI_WORKFLOW&&!T(u.comfyui.COMFYUI_WORKFLOW)){Ge.error("Invalid JSON format for ComfyUI Workflow."),t(0,o=!1);return}(Ie=u==null?void 0:u.comfyui)!=null&&Ie.COMFYUI_WORKFLOW&&t(1,u.comfyui.COMFYUI_WORKFLOW_NODES=m.map(ke=>({type:ke.type,key:ke.key,node_ids:ke.node_ids.trim()===""?[]:ke.node_ids.split(",").map(be=>be.trim())})),u),await Ys(localStorage.token,u).catch(ke=>(Ge.error(`${ke}`),t(0,o=!1),null)),await _i(localStorage.token,d).catch(ke=>(Ge.error(`${ke}`),t(0,o=!1),null)),b(),i("save"),t(0,o=!1)};Vl(async()=>{if(l.role==="admin"){const ne=await fi(localStorage.token).catch(ke=>(Ge.error(`${ke}`),null));ne&&t(1,u=ne),u.enabled&&b(),u.comfyui.COMFYUI_WORKFLOW&&t(1,u.comfyui.COMFYUI_WORKFLOW=JSON.stringify(JSON.parse(u.comfyui.COMFYUI_WORKFLOW),null,2),u),t(4,m=m.map(ke=>{const be=u.comfyui.COMFYUI_WORKFLOW_NODES.find(ce=>ce.type===ke.type)??ke;return console.log(be),{type:be.type,key:be.key,node_ids:typeof be.node_ids=="string"?be.node_ids:be.node_ids.join(",")}}));const Ie=await ci(localStorage.token).catch(ke=>(Ge.error(`${ke}`),null));Ie&&t(2,d=Ie)}});function k(ne){s.$$.not_equal(u.enabled,ne)&&(u.enabled=ne,t(1,u))}const D=ne=>{ne.detail&&(u.engine==="automatic1111"&&u.automatic1111.AUTOMATIC1111_BASE_URL===""?(Ge.error(r.t("AUTOMATIC1111 Base URL is required.")),t(1,u.enabled=!1,u)):u.engine==="comfyui"&&u.comfyui.COMFYUI_BASE_URL===""?(Ge.error(r.t("ComfyUI Base URL is required.")),t(1,u.enabled=!1,u)):u.engine==="openai"&&u.openai.OPENAI_API_KEY===""?(Ge.error(r.t("OpenAI API Key is required.")),t(1,u.enabled=!1,u)):u.engine==="gemini"&&u.gemini.GEMINI_API_KEY===""&&(Ge.error(r.t("Gemini API Key is required.")),t(1,u.enabled=!1,u))),I()};function y(ne){s.$$.not_equal(u.prompt_generation,ne)&&(u.prompt_generation=ne,t(1,u))}function O(){u.engine=vl(this),t(1,u)}const N=async()=>{I()};function S(){u.automatic1111.AUTOMATIC1111_BASE_URL=this.value,t(1,u)}const V=async()=>{await I(),await Fs(localStorage.token).catch(Ie=>(Ge.error(`${Ie}`),null))&&Ge.success(r.t("Server connection verified"))};function M(ne){s.$$.not_equal(u.automatic1111.AUTOMATIC1111_API_AUTH,ne)&&(u.automatic1111.AUTOMATIC1111_API_AUTH=ne,t(1,u))}function R(){u.automatic1111.AUTOMATIC1111_SAMPLER=this.value,t(1,u)}function ee(){u.automatic1111.AUTOMATIC1111_SCHEDULER=this.value,t(1,u)}function Z(){u.automatic1111.AUTOMATIC1111_CFG_SCALE=this.value,t(1,u)}function C(){u.comfyui.COMFYUI_BASE_URL=this.value,t(1,u)}const L=async()=>{await I(),await Fs(localStorage.token).catch(Ie=>(Ge.error(`${Ie}`),null))&&Ge.success(r.t("Server connection verified"))};function P(ne){s.$$.not_equal(u.comfyui.COMFYUI_API_KEY,ne)&&(u.comfyui.COMFYUI_API_KEY=ne,t(1,u))}function B(){u.comfyui.COMFYUI_WORKFLOW=this.value,t(1,u)}const q=ne=>{const Ie=ne.target.files[0],ke=new FileReader;ke.onload=be=>{t(1,u.comfyui.COMFYUI_WORKFLOW=be.target.result,u),be.target.value=null},ke.readAsText(Ie)},z=()=>{var ne;(ne=document.getElementById("upload-comfyui-workflow-input"))==null||ne.click()};function x(ne,Ie){ne[Ie].key=this.value,t(4,m)}function re(ne,Ie){ne[Ie].node_ids=this.value,t(4,m)}function te(){u.openai.OPENAI_API_BASE_URL=this.value,t(1,u)}function Q(ne){s.$$.not_equal(u.openai.OPENAI_API_KEY,ne)&&(u.openai.OPENAI_API_KEY=ne,t(1,u))}function J(){u.gemini.GEMINI_API_BASE_URL=this.value,t(1,u)}function j(ne){s.$$.not_equal(u.gemini.GEMINI_API_KEY,ne)&&(u.gemini.GEMINI_API_KEY=ne,t(1,u))}function X(){d.MODEL=this.value,t(2,d)}function K(){d.IMAGE_SIZE=this.value,t(2,d)}function ie(){d.IMAGE_STEPS=this.value,t(2,d)}return[o,u,d,E,m,r,a,g,p,I,w,k,D,y,O,N,S,V,M,R,ee,Z,C,L,P,B,q,z,x,re,te,Q,J,j,X,K,ie,async()=>{w()}]}class su extends _l{constructor(e){super(),hl(this,e,lu,tu,dl,{},null,[-1,-1])}}function Cr(s,e,t){const l=s.slice();return l[35]=e[t],l[36]=e,l[37]=t,l}function Br(s,e,t){const l=s.slice();return l[38]=e[t],l[39]=e,l[40]=t,l}function Hr(s,e,t){const l=s.slice();return l[41]=e[t],l}function Gr(s,e,t){const l=s.slice();return l[41]=e[t],l}function jr(s){let e,t,l,r,i=s[3].t("Tasks")+"",a,o,u,d,E,g,p=s[3].t("Set Task Model")+"",m,b,I,T,w,k,D,y=s[3].t("Local Models")+"",O,N,S,V,M=s[3].t("Current Model")+"",R,ee,Z,C,L,P=s[3].t("External Models")+"",B,q,z,x,re=s[3].t("Current Model")+"",te,Q,J,j,X,K=s[3].t("Title Generation")+"",ie,fe,ne,Ie,ke,be,ce,ae,ve=s[3].t("Tags Generation")+"",Te,ge,$e,Ve,oe,we,De,Ne,se=s[3].t("Retrieval Query Generation")+"",Ae,Ue,Le,Ce,Ze,We,xe,Be=s[3].t("Web Search Query Generation")+"",Ee,Oe,rt,et,_t,Fe,gt,vt=s[3].t("Query Generation Prompt")+"",Me,mt,kt,it,ot,ht,Et=s[3].t("Autocomplete Generation")+"",Tt,pt,ft,Se,Ke,Pt,dt,Pe=s[3].t("Image Prompt Generation Prompt")+"",Ye,bt,It,Dt,ut,me,Re=s[3].t("Tools Function Calling Prompt")+"",wt,Ht,Ct,Gt,Yt,Bt,el=s[3].t("UI")+"",Wt,Ut,Nt,ct,je,lt,jt,tl=s[3].t("Banners")+"",At,ll,Ft,Kt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',rl,nl,al,yl,Dl,gl,El,Il=s[3].t("Save")+"",Al,qt,il,jl;I=new Ot({props:{content:s[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries"),$$slots:{default:[ru]},$$scope:{ctx:s}}});let Ul=st(s[4].filter(xr)),wl=[];for(let ye=0;ye<Ul.length;ye+=1)wl[ye]=Kr(Gr(s,Ul,ye));let Cl=st(s[4]),kl=[];for(let ye=0;ye<Cl.length;ye+=1)kl[ye]=Yr(Hr(s,Cl,ye));function Xl(ye){s[11](ye)}let Jl={};s[0].ENABLE_TITLE_GENERATION!==void 0&&(Jl.state=s[0].ENABLE_TITLE_GENERATION),ne=new cl({props:Jl}),Je.push(()=>Qe(ne,"state",Xl));let Xt=s[0].ENABLE_TITLE_GENERATION&&Fr(s);function ss(ye){s[13](ye)}let ul={};s[0].ENABLE_TAGS_GENERATION!==void 0&&(ul.state=s[0].ENABLE_TAGS_GENERATION),$e=new cl({props:ul}),Je.push(()=>Qe($e,"state",ss));let St=s[0].ENABLE_TAGS_GENERATION&&qr(s);function fl(ye){s[15](ye)}let rs={};s[0].ENABLE_RETRIEVAL_QUERY_GENERATION!==void 0&&(rs.state=s[0].ENABLE_RETRIEVAL_QUERY_GENERATION),Le=new cl({props:rs}),Je.push(()=>Qe(Le,"state",fl));function as(ye){s[16](ye)}let ns={};s[0].ENABLE_SEARCH_QUERY_GENERATION!==void 0&&(ns.state=s[0].ENABLE_SEARCH_QUERY_GENERATION),rt=new cl({props:ns}),Je.push(()=>Qe(rt,"state",as)),kt=new Ot({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[iu]},$$scope:{ctx:s}}}),ft=new Ot({props:{content:s[3].t("Enable autocomplete generation for chat messages"),$$slots:{default:[ou]},$$scope:{ctx:s}}});let ol=s[0].ENABLE_AUTOCOMPLETE_GENERATION&&Wr(s);It=new Ot({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[fu]},$$scope:{ctx:s}}}),Ct=new Ot({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[cu]},$$scope:{ctx:s}}});let He=st(s[2]),qe=[];for(let ye=0;ye<He.length;ye+=1)qe[ye]=Jr(Br(s,He,ye));const is=ye=>W(qe[ye],1,1,()=>{qe[ye]=null});let sl=s[5].role==="admin"&&zr(s);return{c(){e=_("form"),t=_("div"),l=_("div"),r=_("div"),a=H(i),o=A(),u=_("hr"),d=A(),E=_("div"),g=_("div"),m=H(p),b=A(),de(I.$$.fragment),T=A(),w=_("div"),k=_("div"),D=_("div"),O=H(y),N=A(),S=_("select"),V=_("option"),R=H(M);for(let ye=0;ye<wl.length;ye+=1)wl[ye].c();Z=A(),C=_("div"),L=_("div"),B=H(P),q=A(),z=_("select"),x=_("option"),te=H(re);for(let ye=0;ye<kl.length;ye+=1)kl[ye].c();J=A(),j=_("div"),X=_("div"),ie=H(K),fe=A(),de(ne.$$.fragment),ke=A(),Xt&&Xt.c(),be=A(),ce=_("div"),ae=_("div"),Te=H(ve),ge=A(),de($e.$$.fragment),oe=A(),St&&St.c(),we=A(),De=_("div"),Ne=_("div"),Ae=H(se),Ue=A(),de(Le.$$.fragment),Ze=A(),We=_("div"),xe=_("div"),Ee=H(Be),Oe=A(),de(rt.$$.fragment),_t=A(),Fe=_("div"),gt=_("div"),Me=H(vt),mt=A(),de(kt.$$.fragment),it=A(),ot=_("div"),ht=_("div"),Tt=H(Et),pt=A(),de(ft.$$.fragment),Se=A(),ol&&ol.c(),Ke=A(),Pt=_("div"),dt=_("div"),Ye=H(Pe),bt=A(),de(It.$$.fragment),Dt=A(),ut=_("div"),me=_("div"),wt=H(Re),Ht=A(),de(Ct.$$.fragment),Gt=A(),Yt=_("div"),Bt=_("div"),Wt=H(el),Ut=A(),Nt=_("hr"),ct=A(),je=_("div"),lt=_("div"),jt=_("div"),At=H(tl),ll=A(),Ft=_("button"),Ft.innerHTML=Kt,rl=A(),nl=_("div");for(let ye=0;ye<qe.length;ye+=1)qe[ye].c();yl=A(),sl&&sl.c(),Dl=A(),gl=_("div"),El=_("button"),Al=H(Il),this.h()},l(ye){e=h(ye,"FORM",{class:!0});var ze=v(e);t=h(ze,"DIV",{class:!0});var Qt=v(t);l=h(Qt,"DIV",{class:!0});var Mt=v(l);r=h(Mt,"DIV",{class:!0});var Bl=v(r);a=G(Bl,i),Bl.forEach(c),o=$(Mt),u=h(Mt,"HR",{class:!0}),d=$(Mt),E=h(Mt,"DIV",{class:!0});var Rl=v(E);g=h(Rl,"DIV",{class:!0});var Ll=v(g);m=G(Ll,p),Ll.forEach(c),b=$(Rl),_e(I.$$.fragment,Rl),Rl.forEach(c),T=$(Mt),w=h(Mt,"DIV",{class:!0});var Hl=v(w);k=h(Hl,"DIV",{class:!0});var Kl=v(k);D=h(Kl,"DIV",{class:!0});var Ql=v(D);O=G(Ql,y),Ql.forEach(c),N=$(Kl),S=h(Kl,"SELECT",{class:!0,placeholder:!0});var Gl=v(S);V=h(Gl,"OPTION",{});var $t=v(V);R=G($t,M),$t.forEach(c);for(let Sl=0;Sl<wl.length;Sl+=1)wl[Sl].l(Gl);Gl.forEach(c),Kl.forEach(c),Z=$(Hl),C=h(Hl,"DIV",{class:!0});var Nl=v(C);L=h(Nl,"DIV",{class:!0});var Yl=v(L);B=G(Yl,P),Yl.forEach(c),q=$(Nl),z=h(Nl,"SELECT",{class:!0,placeholder:!0});var bs=v(z);x=h(bs,"OPTION",{});var os=v(x);te=G(os,re),os.forEach(c);for(let Sl=0;Sl<kl.length;Sl+=1)kl[Sl].l(bs);bs.forEach(c),Nl.forEach(c),Hl.forEach(c),J=$(Mt),j=h(Mt,"DIV",{class:!0});var us=v(j);X=h(us,"DIV",{class:!0});var ys=v(X);ie=G(ys,K),ys.forEach(c),fe=$(us),_e(ne.$$.fragment,us),us.forEach(c),ke=$(Mt),Xt&&Xt.l(Mt),be=$(Mt),ce=h(Mt,"DIV",{class:!0});var xl=v(ce);ae=h(xl,"DIV",{class:!0});var As=v(ae);Te=G(As,ve),As.forEach(c),ge=$(xl),_e($e.$$.fragment,xl),xl.forEach(c),oe=$(Mt),St&&St.l(Mt),we=$(Mt),De=h(Mt,"DIV",{class:!0});var fs=v(De);Ne=h(fs,"DIV",{class:!0});var Fl=v(Ne);Ae=G(Fl,se),Fl.forEach(c),Ue=$(fs),_e(Le.$$.fragment,fs),fs.forEach(c),Ze=$(Mt),We=h(Mt,"DIV",{class:!0});var cs=v(We);xe=h(cs,"DIV",{class:!0});var ds=v(xe);Ee=G(ds,Be),ds.forEach(c),Oe=$(cs),_e(rt.$$.fragment,cs),cs.forEach(c),_t=$(Mt),Fe=h(Mt,"DIV",{class:!0});var _s=v(Fe);gt=h(_s,"DIV",{class:!0});var $s=v(gt);Me=G($s,vt),$s.forEach(c),mt=$(_s),_e(kt.$$.fragment,_s),_s.forEach(c),it=$(Mt),ot=h(Mt,"DIV",{class:!0});var es=v(ot);ht=h(es,"DIV",{class:!0});var Vs=v(ht);Tt=G(Vs,Et),Vs.forEach(c),pt=$(es),_e(ft.$$.fragment,es),es.forEach(c),Se=$(Mt),ol&&ol.l(Mt),Ke=$(Mt),Pt=h(Mt,"DIV",{class:!0});var hs=v(Pt);dt=h(hs,"DIV",{class:!0});var ql=v(dt);Ye=G(ql,Pe),ql.forEach(c),bt=$(hs),_e(It.$$.fragment,hs),hs.forEach(c),Dt=$(Mt),ut=h(Mt,"DIV",{class:!0});var ps=v(ut);me=h(ps,"DIV",{class:!0});var vs=v(me);wt=G(vs,Re),vs.forEach(c),Ht=$(ps),_e(Ct.$$.fragment,ps),ps.forEach(c),Mt.forEach(c),Gt=$(Qt),Yt=h(Qt,"DIV",{class:!0});var Wl=v(Yt);Bt=h(Wl,"DIV",{class:!0});var Os=v(Bt);Wt=G(Os,el),Os.forEach(c),Ut=$(Wl),Nt=h(Wl,"HR",{class:!0}),ct=$(Wl),je=h(Wl,"DIV",{class:!0});var ms=v(je);lt=h(ms,"DIV",{class:!0});var ts=v(lt);jt=h(ts,"DIV",{class:!0});var Ns=v(jt);At=G(Ns,tl),Ns.forEach(c),ll=$(ts),Ft=h(ts,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Rt(Ft)!=="svelte-62xclb"&&(Ft.innerHTML=Kt),ts.forEach(c),rl=$(ms),nl=h(ms,"DIV",{class:!0});var Ps=v(nl);for(let Sl=0;Sl<qe.length;Sl+=1)qe[Sl].l(Ps);Ps.forEach(c),ms.forEach(c),yl=$(Wl),sl&&sl.l(Wl),Wl.forEach(c),Qt.forEach(c),Dl=$(ze),gl=h(ze,"DIV",{class:!0});var Ss=v(gl);El=h(Ss,"BUTTON",{class:!0,type:!0});var Ms=v(El);Al=G(Ms,Il),Ms.forEach(c),Ss.forEach(c),ze.forEach(c),this.h()},h(){f(r,"class","mb-2.5 text-base font-medium"),f(u,"class","border-gray-100 dark:border-gray-850 my-2"),f(g,"class","text-xs mr-1"),f(E,"class","mb-1 font-medium flex items-center"),f(D,"class","text-xs mb-1"),V.__value="",le(V,V.__value),V.selected=!0,f(S,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(S,"placeholder",ee=s[3].t("Select a model")),s[0].TASK_MODEL===void 0&&ml(()=>s[9].call(S)),f(k,"class","flex-1"),f(L,"class","text-xs mb-1"),x.__value="",le(x,x.__value),x.selected=!0,f(z,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(z,"placeholder",Q=s[3].t("Select a model")),s[0].TASK_MODEL_EXTERNAL===void 0&&ml(()=>s[10].call(z)),f(C,"class","flex-1"),f(w,"class","mb-2.5 flex w-full gap-2"),f(X,"class","self-center text-xs font-medium"),f(j,"class","mb-2.5 flex w-full items-center justify-between"),f(ae,"class","self-center text-xs font-medium"),f(ce,"class","mb-2.5 flex w-full items-center justify-between"),f(Ne,"class","self-center text-xs font-medium"),f(De,"class","mb-2.5 flex w-full items-center justify-between"),f(xe,"class","self-center text-xs font-medium"),f(We,"class","mb-2.5 flex w-full items-center justify-between"),f(gt,"class","mb-1 text-xs font-medium"),f(Fe,"class","mb-2.5"),f(ht,"class","self-center text-xs font-medium"),f(ot,"class","mb-2.5 flex w-full items-center justify-between"),f(dt,"class","mb-1 text-xs font-medium"),f(Pt,"class","mb-2.5"),f(me,"class","mb-1 text-xs font-medium"),f(ut,"class","mb-2.5"),f(l,"class","mb-3.5"),f(Bt,"class","mb-2.5 text-base font-medium"),f(Nt,"class","border-gray-100 dark:border-gray-850 my-2"),f(jt,"class","self-center text-sm font-semibold"),f(Ft,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(Ft,"type","button"),f(lt,"class","mb-2.5 flex w-full justify-between"),f(nl,"class","flex flex-col space-y-1"),f(je,"class",al=s[2].length>0?" mb-3":""),f(Yt,"class","mb-3.5"),f(t,"class","overflow-y-scroll scrollbar-hidden h-full pr-1.5"),f(El,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(El,"type","submit"),f(gl,"class","flex justify-end text-sm font-medium"),f(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ye,ze){U(ye,e,ze),n(e,t),n(t,l),n(l,r),n(r,a),n(l,o),n(l,u),n(l,d),n(l,E),n(E,g),n(g,m),n(E,b),he(I,E,null),n(l,T),n(l,w),n(w,k),n(k,D),n(D,O),n(k,N),n(k,S),n(S,V),n(V,R);for(let Qt=0;Qt<wl.length;Qt+=1)wl[Qt]&&wl[Qt].m(S,null);yt(S,s[0].TASK_MODEL,!0),n(w,Z),n(w,C),n(C,L),n(L,B),n(C,q),n(C,z),n(z,x),n(x,te);for(let Qt=0;Qt<kl.length;Qt+=1)kl[Qt]&&kl[Qt].m(z,null);yt(z,s[0].TASK_MODEL_EXTERNAL,!0),n(l,J),n(l,j),n(j,X),n(X,ie),n(j,fe),he(ne,j,null),n(l,ke),Xt&&Xt.m(l,null),n(l,be),n(l,ce),n(ce,ae),n(ae,Te),n(ce,ge),he($e,ce,null),n(l,oe),St&&St.m(l,null),n(l,we),n(l,De),n(De,Ne),n(Ne,Ae),n(De,Ue),he(Le,De,null),n(l,Ze),n(l,We),n(We,xe),n(xe,Ee),n(We,Oe),he(rt,We,null),n(l,_t),n(l,Fe),n(Fe,gt),n(gt,Me),n(Fe,mt),he(kt,Fe,null),n(l,it),n(l,ot),n(ot,ht),n(ht,Tt),n(ot,pt),he(ft,ot,null),n(l,Se),ol&&ol.m(l,null),n(l,Ke),n(l,Pt),n(Pt,dt),n(dt,Ye),n(Pt,bt),he(It,Pt,null),n(l,Dt),n(l,ut),n(ut,me),n(me,wt),n(ut,Ht),he(Ct,ut,null),n(t,Gt),n(t,Yt),n(Yt,Bt),n(Bt,Wt),n(Yt,Ut),n(Yt,Nt),n(Yt,ct),n(Yt,je),n(je,lt),n(lt,jt),n(jt,At),n(lt,ll),n(lt,Ft),n(je,rl),n(je,nl);for(let Qt=0;Qt<qe.length;Qt+=1)qe[Qt]&&qe[Qt].m(nl,null);n(Yt,yl),sl&&sl.m(Yt,null),n(e,Dl),n(e,gl),n(gl,El),n(El,Al),qt=!0,il||(jl=[ue(S,"change",s[9]),ue(z,"change",s[10]),ue(Ft,"click",s[22]),ue(e,"submit",Ml(s[32]))],il=!0)},p(ye,ze){(!qt||ze[0]&8)&&i!==(i=ye[3].t("Tasks")+"")&&F(a,i),(!qt||ze[0]&8)&&p!==(p=ye[3].t("Set Task Model")+"")&&F(m,p);const Qt={};if(ze[0]&8&&(Qt.content=ye[3].t("A task model is used when performing tasks such as generating titles for chats and web search queries")),ze[1]&32768&&(Qt.$$scope={dirty:ze,ctx:ye}),I.$set(Qt),(!qt||ze[0]&8)&&y!==(y=ye[3].t("Local Models")+"")&&F(O,y),(!qt||ze[0]&8)&&M!==(M=ye[3].t("Current Model")+"")&&F(R,M),ze[0]&16){Ul=st(ye[4].filter(xr));let $t;for($t=0;$t<Ul.length;$t+=1){const Nl=Gr(ye,Ul,$t);wl[$t]?wl[$t].p(Nl,ze):(wl[$t]=Kr(Nl),wl[$t].c(),wl[$t].m(S,null))}for(;$t<wl.length;$t+=1)wl[$t].d(1);wl.length=Ul.length}if((!qt||ze[0]&8&&ee!==(ee=ye[3].t("Select a model")))&&f(S,"placeholder",ee),ze[0]&17&&yt(S,ye[0].TASK_MODEL),(!qt||ze[0]&8)&&P!==(P=ye[3].t("External Models")+"")&&F(B,P),(!qt||ze[0]&8)&&re!==(re=ye[3].t("Current Model")+"")&&F(te,re),ze[0]&16){Cl=st(ye[4]);let $t;for($t=0;$t<Cl.length;$t+=1){const Nl=Hr(ye,Cl,$t);kl[$t]?kl[$t].p(Nl,ze):(kl[$t]=Yr(Nl),kl[$t].c(),kl[$t].m(z,null))}for(;$t<kl.length;$t+=1)kl[$t].d(1);kl.length=Cl.length}(!qt||ze[0]&8&&Q!==(Q=ye[3].t("Select a model")))&&f(z,"placeholder",Q),ze[0]&17&&yt(z,ye[0].TASK_MODEL_EXTERNAL),(!qt||ze[0]&8)&&K!==(K=ye[3].t("Title Generation")+"")&&F(ie,K);const Mt={};!Ie&&ze[0]&1&&(Ie=!0,Mt.state=ye[0].ENABLE_TITLE_GENERATION,Xe(()=>Ie=!1)),ne.$set(Mt),ye[0].ENABLE_TITLE_GENERATION?Xt?(Xt.p(ye,ze),ze[0]&1&&Y(Xt,1)):(Xt=Fr(ye),Xt.c(),Y(Xt,1),Xt.m(l,be)):Xt&&(at(),W(Xt,1,1,()=>{Xt=null}),nt()),(!qt||ze[0]&8)&&ve!==(ve=ye[3].t("Tags Generation")+"")&&F(Te,ve);const Bl={};!Ve&&ze[0]&1&&(Ve=!0,Bl.state=ye[0].ENABLE_TAGS_GENERATION,Xe(()=>Ve=!1)),$e.$set(Bl),ye[0].ENABLE_TAGS_GENERATION?St?(St.p(ye,ze),ze[0]&1&&Y(St,1)):(St=qr(ye),St.c(),Y(St,1),St.m(l,we)):St&&(at(),W(St,1,1,()=>{St=null}),nt()),(!qt||ze[0]&8)&&se!==(se=ye[3].t("Retrieval Query Generation")+"")&&F(Ae,se);const Rl={};!Ce&&ze[0]&1&&(Ce=!0,Rl.state=ye[0].ENABLE_RETRIEVAL_QUERY_GENERATION,Xe(()=>Ce=!1)),Le.$set(Rl),(!qt||ze[0]&8)&&Be!==(Be=ye[3].t("Web Search Query Generation")+"")&&F(Ee,Be);const Ll={};!et&&ze[0]&1&&(et=!0,Ll.state=ye[0].ENABLE_SEARCH_QUERY_GENERATION,Xe(()=>et=!1)),rt.$set(Ll),(!qt||ze[0]&8)&&vt!==(vt=ye[3].t("Query Generation Prompt")+"")&&F(Me,vt);const Hl={};ze[0]&8&&(Hl.content=ye[3].t("Leave empty to use the default prompt, or enter a custom prompt")),ze[0]&9|ze[1]&32768&&(Hl.$$scope={dirty:ze,ctx:ye}),kt.$set(Hl),(!qt||ze[0]&8)&&Et!==(Et=ye[3].t("Autocomplete Generation")+"")&&F(Tt,Et);const Kl={};ze[0]&8&&(Kl.content=ye[3].t("Enable autocomplete generation for chat messages")),ze[0]&1|ze[1]&32768&&(Kl.$$scope={dirty:ze,ctx:ye}),ft.$set(Kl),ye[0].ENABLE_AUTOCOMPLETE_GENERATION?ol?(ol.p(ye,ze),ze[0]&1&&Y(ol,1)):(ol=Wr(ye),ol.c(),Y(ol,1),ol.m(l,Ke)):ol&&(at(),W(ol,1,1,()=>{ol=null}),nt()),(!qt||ze[0]&8)&&Pe!==(Pe=ye[3].t("Image Prompt Generation Prompt")+"")&&F(Ye,Pe);const Ql={};ze[0]&8&&(Ql.content=ye[3].t("Leave empty to use the default prompt, or enter a custom prompt")),ze[0]&9|ze[1]&32768&&(Ql.$$scope={dirty:ze,ctx:ye}),It.$set(Ql),(!qt||ze[0]&8)&&Re!==(Re=ye[3].t("Tools Function Calling Prompt")+"")&&F(wt,Re);const Gl={};if(ze[0]&8&&(Gl.content=ye[3].t("Leave empty to use the default prompt, or enter a custom prompt")),ze[0]&9|ze[1]&32768&&(Gl.$$scope={dirty:ze,ctx:ye}),Ct.$set(Gl),(!qt||ze[0]&8)&&el!==(el=ye[3].t("UI")+"")&&F(Wt,el),(!qt||ze[0]&8)&&tl!==(tl=ye[3].t("Banners")+"")&&F(At,tl),ze[0]&12){He=st(ye[2]);let $t;for($t=0;$t<He.length;$t+=1){const Nl=Br(ye,He,$t);qe[$t]?(qe[$t].p(Nl,ze),Y(qe[$t],1)):(qe[$t]=Jr(Nl),qe[$t].c(),Y(qe[$t],1),qe[$t].m(nl,null))}for(at(),$t=He.length;$t<qe.length;$t+=1)is($t);nt()}(!qt||ze[0]&4&&al!==(al=ye[2].length>0?" mb-3":""))&&f(je,"class",al),ye[5].role==="admin"?sl?sl.p(ye,ze):(sl=zr(ye),sl.c(),sl.m(Yt,null)):sl&&(sl.d(1),sl=null),(!qt||ze[0]&8)&&Il!==(Il=ye[3].t("Save")+"")&&F(Al,Il)},i(ye){if(!qt){Y(I.$$.fragment,ye),Y(ne.$$.fragment,ye),Y(Xt),Y($e.$$.fragment,ye),Y(St),Y(Le.$$.fragment,ye),Y(rt.$$.fragment,ye),Y(kt.$$.fragment,ye),Y(ft.$$.fragment,ye),Y(ol),Y(It.$$.fragment,ye),Y(Ct.$$.fragment,ye);for(let ze=0;ze<He.length;ze+=1)Y(qe[ze]);qt=!0}},o(ye){W(I.$$.fragment,ye),W(ne.$$.fragment,ye),W(Xt),W($e.$$.fragment,ye),W(St),W(Le.$$.fragment,ye),W(rt.$$.fragment,ye),W(kt.$$.fragment,ye),W(ft.$$.fragment,ye),W(ol),W(It.$$.fragment,ye),W(Ct.$$.fragment,ye),qe=qe.filter(Boolean);for(let ze=0;ze<qe.length;ze+=1)W(qe[ze]);qt=!1},d(ye){ye&&c(e),pe(I),xt(wl,ye),xt(kl,ye),pe(ne),Xt&&Xt.d(),pe($e),St&&St.d(),pe(Le),pe(rt),pe(kt),pe(ft),ol&&ol.d(),pe(It),pe(Ct),xt(qe,ye),sl&&sl.d(),il=!1,zt(jl)}}}function ru(s){let e,t;return{c(){e=Zt("svg"),t=Zt("path"),this.h()},l(l){e=Jt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=v(e);t=Jt(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),v(t).forEach(c),r.forEach(c),this.h()},h(){f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke-width","1.5"),f(e,"stroke","currentColor"),f(e,"class","size-3.5")},m(l,r){U(l,e,r),n(e,t)},p:tt,d(l){l&&c(e)}}}function Kr(s){let e,t=s[41].name+"",l,r,i;return{c(){e=_("option"),l=H(t),r=A(),this.h()},l(a){e=h(a,"OPTION",{class:!0});var o=v(e);l=G(o,t),r=$(o),o.forEach(c),this.h()},h(){e.__value=i=s[41].id,le(e,e.__value),f(e,"class","bg-gray-100 dark:bg-gray-700")},m(a,o){U(a,e,o),n(e,l),n(e,r)},p(a,o){o[0]&16&&t!==(t=a[41].name+"")&&F(l,t),o[0]&16&&i!==(i=a[41].id)&&(e.__value=i,le(e,e.__value))},d(a){a&&c(e)}}}function Yr(s){let e,t=s[41].name+"",l,r,i;return{c(){e=_("option"),l=H(t),r=A(),this.h()},l(a){e=h(a,"OPTION",{class:!0});var o=v(e);l=G(o,t),r=$(o),o.forEach(c),this.h()},h(){e.__value=i=s[41].id,le(e,e.__value),f(e,"class","bg-gray-100 dark:bg-gray-700")},m(a,o){U(a,e,o),n(e,l),n(e,r)},p(a,o){o[0]&16&&t!==(t=a[41].name+"")&&F(l,t),o[0]&16&&i!==(i=a[41].id)&&(e.__value=i,le(e,e.__value))},d(a){a&&c(e)}}}function Fr(s){let e,t,l=s[3].t("Title Generation Prompt")+"",r,i,a,o;return a=new Ot({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[au]},$$scope:{ctx:s}}}),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),de(a.$$.fragment),this.h()},l(u){e=h(u,"DIV",{class:!0});var d=v(e);t=h(d,"DIV",{class:!0});var E=v(t);r=G(E,l),E.forEach(c),i=$(d),_e(a.$$.fragment,d),d.forEach(c),this.h()},h(){f(t,"class","mb-1 text-xs font-medium"),f(e,"class","mb-2.5")},m(u,d){U(u,e,d),n(e,t),n(t,r),n(e,i),he(a,e,null),o=!0},p(u,d){(!o||d[0]&8)&&l!==(l=u[3].t("Title Generation Prompt")+"")&&F(r,l);const E={};d[0]&8&&(E.content=u[3].t("Leave empty to use the default prompt, or enter a custom prompt")),d[0]&9|d[1]&32768&&(E.$$scope={dirty:d,ctx:u}),a.$set(E)},i(u){o||(Y(a.$$.fragment,u),o=!0)},o(u){W(a.$$.fragment,u),o=!1},d(u){u&&c(e),pe(a)}}}function au(s){let e,t,l;function r(a){s[12](a)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].TITLE_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].TITLE_GENERATION_PROMPT_TEMPLATE),e=new Es({props:i}),Je.push(()=>Qe(e,"value",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};o[0]&8&&(u.placeholder=a[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&o[0]&1&&(t=!0,u.value=a[0].TITLE_GENERATION_PROMPT_TEMPLATE,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function qr(s){let e,t,l=s[3].t("Tags Generation Prompt")+"",r,i,a,o;return a=new Ot({props:{content:s[3].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[nu]},$$scope:{ctx:s}}}),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),de(a.$$.fragment),this.h()},l(u){e=h(u,"DIV",{class:!0});var d=v(e);t=h(d,"DIV",{class:!0});var E=v(t);r=G(E,l),E.forEach(c),i=$(d),_e(a.$$.fragment,d),d.forEach(c),this.h()},h(){f(t,"class","mb-1 text-xs font-medium"),f(e,"class","mb-2.5")},m(u,d){U(u,e,d),n(e,t),n(t,r),n(e,i),he(a,e,null),o=!0},p(u,d){(!o||d[0]&8)&&l!==(l=u[3].t("Tags Generation Prompt")+"")&&F(r,l);const E={};d[0]&8&&(E.content=u[3].t("Leave empty to use the default prompt, or enter a custom prompt")),d[0]&9|d[1]&32768&&(E.$$scope={dirty:d,ctx:u}),a.$set(E)},i(u){o||(Y(a.$$.fragment,u),o=!0)},o(u){W(a.$$.fragment,u),o=!1},d(u){u&&c(e),pe(a)}}}function nu(s){let e,t,l;function r(a){s[14](a)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].TAGS_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].TAGS_GENERATION_PROMPT_TEMPLATE),e=new Es({props:i}),Je.push(()=>Qe(e,"value",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};o[0]&8&&(u.placeholder=a[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&o[0]&1&&(t=!0,u.value=a[0].TAGS_GENERATION_PROMPT_TEMPLATE,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function iu(s){let e,t,l;function r(a){s[17](a)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].QUERY_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].QUERY_GENERATION_PROMPT_TEMPLATE),e=new Es({props:i}),Je.push(()=>Qe(e,"value",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};o[0]&8&&(u.placeholder=a[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&o[0]&1&&(t=!0,u.value=a[0].QUERY_GENERATION_PROMPT_TEMPLATE,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function ou(s){let e,t,l;function r(a){s[18](a)}let i={};return s[0].ENABLE_AUTOCOMPLETE_GENERATION!==void 0&&(i.state=s[0].ENABLE_AUTOCOMPLETE_GENERATION),e=new cl({props:i}),Je.push(()=>Qe(e,"state",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};!t&&o[0]&1&&(t=!0,u.state=a[0].ENABLE_AUTOCOMPLETE_GENERATION,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function Wr(s){let e,t,l=s[3].t("Autocomplete Generation Input Max Length")+"",r,i,a,o;return a=new Ot({props:{content:s[3].t("Character limit for autocomplete generation input"),placement:"top-start",$$slots:{default:[uu]},$$scope:{ctx:s}}}),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),de(a.$$.fragment),this.h()},l(u){e=h(u,"DIV",{class:!0});var d=v(e);t=h(d,"DIV",{class:!0});var E=v(t);r=G(E,l),E.forEach(c),i=$(d),_e(a.$$.fragment,d),d.forEach(c),this.h()},h(){f(t,"class","mb-1 text-xs font-medium"),f(e,"class","mb-2.5")},m(u,d){U(u,e,d),n(e,t),n(t,r),n(e,i),he(a,e,null),o=!0},p(u,d){(!o||d[0]&8)&&l!==(l=u[3].t("Autocomplete Generation Input Max Length")+"")&&F(r,l);const E={};d[0]&8&&(E.content=u[3].t("Character limit for autocomplete generation input")),d[0]&9|d[1]&32768&&(E.$$scope={dirty:d,ctx:u}),a.$set(E)},i(u){o||(Y(a.$$.fragment,u),o=!0)},o(u){W(a.$$.fragment,u),o=!1},d(u){u&&c(e),pe(a)}}}function uu(s){let e,t,l,r;return{c(){e=_("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,placeholder:!0}),this.h()},h(){f(e,"class","w-full outline-hidden bg-transparent"),f(e,"placeholder",t=s[3].t("-1 for no limit, or a positive integer for a specific limit"))},m(i,a){U(i,e,a),le(e,s[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH),l||(r=ue(e,"input",s[19]),l=!0)},p(i,a){a[0]&8&&t!==(t=i[3].t("-1 for no limit, or a positive integer for a specific limit"))&&f(e,"placeholder",t),a[0]&17&&e.value!==i[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH&&le(e,i[0].AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH)},d(i){i&&c(e),l=!1,r()}}}function fu(s){let e,t,l;function r(a){s[20](a)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE),e=new Es({props:i}),Je.push(()=>Qe(e,"value",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};o[0]&8&&(u.placeholder=a[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&o[0]&1&&(t=!0,u.value=a[0].IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function cu(s){let e,t,l;function r(a){s[21](a)}let i={placeholder:s[3].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[0].TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE!==void 0&&(i.value=s[0].TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE),e=new Es({props:i}),Je.push(()=>Qe(e,"value",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};o[0]&8&&(u.placeholder=a[3].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&o[0]&1&&(t=!0,u.value=a[0].TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function Zr(s){let e,t=s[3].t("Type")+"",l;return{c(){e=_("option"),l=H(t),this.h()},l(r){e=h(r,"OPTION",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){e.__value="",le(e,e.__value),e.selected=!0,e.disabled=!0,f(e,"class","text-gray-900")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&8&&t!==(t=r[3].t("Type")+"")&&F(l,t)},d(r){r&&c(e)}}}function du(s){let e,t,l;function r(a){s[25](a,s[38])}let i={};return s[38].dismissible!==void 0&&(i.state=s[38].dismissible),e=new cl({props:i}),Je.push(()=>Qe(e,"state",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){s=a;const u={};!t&&o[0]&4&&(t=!0,u.state=s[38].dismissible,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function Jr(s){let e,t,l,r,i=s[3].t("Info")+"",a,o,u=s[3].t("Warning")+"",d,E,g=s[3].t("Error")+"",p,m,b=s[3].t("Success")+"",I,T,w,k,D,y,O,N,S,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',M,R,ee,Z,C=s[38].type==""&&Zr(s);function L(){s[23].call(l,s[39],s[40])}function P(){s[24].call(w,s[39],s[40])}O=new Ot({props:{content:s[3].t("Dismissible"),className:"flex h-fit items-center",$$slots:{default:[du]},$$scope:{ctx:s}}});function B(){return s[26](s[40])}return{c(){e=_("div"),t=_("div"),l=_("select"),C&&C.c(),r=_("option"),a=H(i),o=_("option"),d=H(u),E=_("option"),p=H(g),m=_("option"),I=H(b),T=A(),w=_("input"),D=A(),y=_("div"),de(O.$$.fragment),N=A(),S=_("button"),S.innerHTML=V,M=A(),this.h()},l(q){e=h(q,"DIV",{class:!0});var z=v(e);t=h(z,"DIV",{class:!0});var x=v(t);l=h(x,"SELECT",{class:!0});var re=v(l);C&&C.l(re),r=h(re,"OPTION",{class:!0});var te=v(r);a=G(te,i),te.forEach(c),o=h(re,"OPTION",{class:!0});var Q=v(o);d=G(Q,u),Q.forEach(c),E=h(re,"OPTION",{class:!0});var J=v(E);p=G(J,g),J.forEach(c),m=h(re,"OPTION",{class:!0});var j=v(m);I=G(j,b),j.forEach(c),re.forEach(c),T=$(x),w=h(x,"INPUT",{class:!0,placeholder:!0}),D=$(x),y=h(x,"DIV",{class:!0});var X=v(y);_e(O.$$.fragment,X),X.forEach(c),x.forEach(c),N=$(z),S=h(z,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Rt(S)!=="svelte-xxjdq8"&&(S.innerHTML=V),M=$(z),z.forEach(c),this.h()},h(){r.__value="info",le(r,r.__value),f(r,"class","text-gray-900"),o.__value="warning",le(o,o.__value),f(o,"class","text-gray-900"),E.__value="error",le(E,E.__value),f(E,"class","text-gray-900"),m.__value="success",le(m,m.__value),f(m,"class","text-gray-900"),f(l,"class","w-fit capitalize rounded-xl py-2 px-4 text-xs bg-transparent outline-hidden"),l.required=!0,s[38].type===void 0&&ml(L),f(w,"class","pr-5 py-1.5 text-xs w-full bg-transparent outline-hidden"),f(w,"placeholder",k=s[3].t("Content")),f(y,"class","relative top-1.5 -left-2"),f(t,"class","flex flex-row flex-1 border rounded-xl border-gray-100 dark:border-gray-850"),f(S,"class","px-2"),f(S,"type","button"),f(e,"class","flex justify-between")},m(q,z){U(q,e,z),n(e,t),n(t,l),C&&C.m(l,null),n(l,r),n(r,a),n(l,o),n(o,d),n(l,E),n(E,p),n(l,m),n(m,I),yt(l,s[38].type,!0),n(t,T),n(t,w),le(w,s[38].content),n(t,D),n(t,y),he(O,y,null),n(e,N),n(e,S),n(e,M),R=!0,ee||(Z=[ue(l,"change",L),ue(w,"input",P),ue(S,"click",B)],ee=!0)},p(q,z){s=q,s[38].type==""?C?C.p(s,z):(C=Zr(s),C.c(),C.m(l,r)):C&&(C.d(1),C=null),(!R||z[0]&8)&&i!==(i=s[3].t("Info")+"")&&F(a,i),(!R||z[0]&8)&&u!==(u=s[3].t("Warning")+"")&&F(d,u),(!R||z[0]&8)&&g!==(g=s[3].t("Error")+"")&&F(p,g),(!R||z[0]&8)&&b!==(b=s[3].t("Success")+"")&&F(I,b),z[0]&4&&yt(l,s[38].type),(!R||z[0]&8&&k!==(k=s[3].t("Content")))&&f(w,"placeholder",k),z[0]&4&&w.value!==s[38].content&&le(w,s[38].content);const x={};z[0]&8&&(x.content=s[3].t("Dismissible")),z[0]&4|z[1]&32768&&(x.$$scope={dirty:z,ctx:s}),O.$set(x)},i(q){R||(Y(O.$$.fragment,q),R=!0)},o(q){W(O.$$.fragment,q),R=!1},d(q){q&&c(e),C&&C.d(),pe(O),ee=!1,zt(Z)}}}function zr(s){let e,t,l,r=s[3].t("Default Prompt Suggestions")+"",i,a,o,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',d,E,g,p,m,b=st(s[1]),I=[];for(let w=0;w<b.length;w+=1)I[w]=Xr(Cr(s,b,w));let T=s[1].length>0&&Qr(s);return{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("button"),o.innerHTML=u,d=A(),E=_("div");for(let w=0;w<I.length;w+=1)I[w].c();g=A(),T&&T.c(),this.h()},l(w){e=h(w,"DIV",{class:!0});var k=v(e);t=h(k,"DIV",{class:!0});var D=v(t);l=h(D,"DIV",{class:!0});var y=v(l);i=G(y,r),y.forEach(c),a=$(D),o=h(D,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Rt(o)!=="svelte-huk1q2"&&(o.innerHTML=u),D.forEach(c),d=$(k),E=h(k,"DIV",{class:!0});var O=v(E);for(let N=0;N<I.length;N+=1)I[N].l(O);O.forEach(c),g=$(k),T&&T.l(k),k.forEach(c),this.h()},h(){f(l,"class","self-center text-sm font-semibold"),f(o,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(o,"type","button"),f(t,"class","flex w-full justify-between mb-2"),f(E,"class","grid lg:grid-cols-2 flex-col gap-1.5"),f(e,"class","space-y-3")},m(w,k){U(w,e,k),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(e,d),n(e,E);for(let D=0;D<I.length;D+=1)I[D]&&I[D].m(E,null);n(e,g),T&&T.m(e,null),p||(m=ue(o,"click",s[27]),p=!0)},p(w,k){if(k[0]&8&&r!==(r=w[3].t("Default Prompt Suggestions")+"")&&F(i,r),k[0]&10){b=st(w[1]);let D;for(D=0;D<b.length;D+=1){const y=Cr(w,b,D);I[D]?I[D].p(y,k):(I[D]=Xr(y),I[D].c(),I[D].m(E,null))}for(;D<I.length;D+=1)I[D].d(1);I.length=b.length}w[1].length>0?T?T.p(w,k):(T=Qr(w),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},d(w){w&&c(e),xt(I,w),T&&T.d(),p=!1,m()}}}function Xr(s){let e,t,l,r,i,a,o,u,d,E,g,p,m,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',I,T,w;function k(){s[28].call(r,s[36],s[37])}function D(){s[29].call(o,s[36],s[37])}function y(){s[30].call(E,s[36],s[37])}function O(){return s[31](s[37])}return{c(){e=_("div"),t=_("div"),l=_("div"),r=_("input"),a=A(),o=_("input"),d=A(),E=_("textarea"),p=A(),m=_("button"),m.innerHTML=b,I=A(),this.h()},l(N){e=h(N,"DIV",{class:!0});var S=v(e);t=h(S,"DIV",{class:!0});var V=v(t);l=h(V,"DIV",{class:!0});var M=v(l);r=h(M,"INPUT",{class:!0,placeholder:!0}),a=$(M),o=h(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(c),d=$(V),E=h(V,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),v(E).forEach(c),V.forEach(c),p=$(S),m=h(S,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Rt(m)!=="svelte-nde82b"&&(m.innerHTML=b),I=$(S),S.forEach(c),this.h()},h(){f(r,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850"),f(r,"placeholder",i=s[3].t("Title (e.g. Tell me a fun fact)")),f(o,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850"),f(o,"placeholder",u=s[3].t("Subtitle (e.g. about the Roman Empire)")),f(l,"class","flex border-b border-gray-100 dark:border-gray-850 w-full"),f(E,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-hidden border-r border-gray-100 dark:border-gray-850 resize-none"),f(E,"placeholder",g=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)")),f(E,"rows","3"),f(t,"class","flex flex-col flex-1 pl-1"),f(m,"class","px-3"),f(m,"type","button"),f(e,"class","flex border border-gray-100 dark:border-none dark:bg-gray-850 rounded-xl py-1.5")},m(N,S){U(N,e,S),n(e,t),n(t,l),n(l,r),le(r,s[35].title[0]),n(l,a),n(l,o),le(o,s[35].title[1]),n(t,d),n(t,E),le(E,s[35].content),n(e,p),n(e,m),n(e,I),T||(w=[ue(r,"input",k),ue(o,"input",D),ue(E,"input",y),ue(m,"click",O)],T=!0)},p(N,S){s=N,S[0]&8&&i!==(i=s[3].t("Title (e.g. Tell me a fun fact)"))&&f(r,"placeholder",i),S[0]&2&&r.value!==s[35].title[0]&&le(r,s[35].title[0]),S[0]&8&&u!==(u=s[3].t("Subtitle (e.g. about the Roman Empire)"))&&f(o,"placeholder",u),S[0]&2&&o.value!==s[35].title[1]&&le(o,s[35].title[1]),S[0]&8&&g!==(g=s[3].t("Prompt (e.g. Tell me a fun fact about the Roman Empire)"))&&f(E,"placeholder",g),S[0]&2&&le(E,s[35].content)},d(N){N&&c(e),T=!1,zt(w)}}}function Qr(s){let e,t=s[3].t("Adjusting these settings will apply changes universally to all users.")+"",l;return{c(){e=_("div"),l=H(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","text-xs text-left w-full mt-2")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&8&&t!==(t=r[3].t("Adjusting these settings will apply changes universally to all users.")+"")&&F(l,t)},d(r){r&&c(e)}}}function _u(s){let e,t,l=s[0]&&jr(s);return{c(){l&&l.c(),e=Lt()},l(r){l&&l.l(r),e=Lt()},m(r,i){l&&l.m(r,i),U(r,e,i),t=!0},p(r,i){r[0]?l?(l.p(r,i),i[0]&1&&Y(l,1)):(l=jr(r),l.c(),Y(l,1),l.m(e.parentNode,e)):l&&(at(),W(l,1,1,()=>{l=null}),nt())},i(r){t||(Y(l),t=!0)},o(r){W(l),t=!1},d(r){r&&c(e),l&&l.d(r)}}}const xr=s=>s.owned_by==="ollama";function hu(s,e,t){let l,r,i,a;Vt(s,Pl,Q=>t(33,l=Q)),Vt(s,Tl,Q=>t(4,i=Q)),Vt(s,Ds,Q=>t(5,a=Q));const o=zl(),u=bl("i18n");Vt(s,u,Q=>t(3,r=Q));let d={TASK_MODEL:"",TASK_MODEL_EXTERNAL:"",ENABLE_TITLE_GENERATION:!0,TITLE_GENERATION_PROMPT_TEMPLATE:"",IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE:"",ENABLE_AUTOCOMPLETE_GENERATION:!0,AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH:-1,TAGS_GENERATION_PROMPT_TEMPLATE:"",ENABLE_TAGS_GENERATION:!0,ENABLE_SEARCH_QUERY_GENERATION:!0,ENABLE_RETRIEVAL_QUERY_GENERATION:!0,QUERY_GENERATION_PROMPT_TEMPLATE:"",TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE:""},E=[],g=[];const p=async()=>{t(0,d=await Bn(localStorage.token,d)),t(1,E=await Fn(localStorage.token,E)),await m(),await Pl.set(await gs())};Vl(async()=>{t(0,d=await Cn(localStorage.token)),t(1,E=(l==null?void 0:l.default_prompt_suggestions)??[]),t(2,g=await Yn(localStorage.token))});const m=async()=>{yn.set(await qn(localStorage.token,g))};function b(){d.TASK_MODEL=vl(this),t(0,d)}function I(){d.TASK_MODEL_EXTERNAL=vl(this),t(0,d)}function T(Q){s.$$.not_equal(d.ENABLE_TITLE_GENERATION,Q)&&(d.ENABLE_TITLE_GENERATION=Q,t(0,d))}function w(Q){s.$$.not_equal(d.TITLE_GENERATION_PROMPT_TEMPLATE,Q)&&(d.TITLE_GENERATION_PROMPT_TEMPLATE=Q,t(0,d))}function k(Q){s.$$.not_equal(d.ENABLE_TAGS_GENERATION,Q)&&(d.ENABLE_TAGS_GENERATION=Q,t(0,d))}function D(Q){s.$$.not_equal(d.TAGS_GENERATION_PROMPT_TEMPLATE,Q)&&(d.TAGS_GENERATION_PROMPT_TEMPLATE=Q,t(0,d))}function y(Q){s.$$.not_equal(d.ENABLE_RETRIEVAL_QUERY_GENERATION,Q)&&(d.ENABLE_RETRIEVAL_QUERY_GENERATION=Q,t(0,d))}function O(Q){s.$$.not_equal(d.ENABLE_SEARCH_QUERY_GENERATION,Q)&&(d.ENABLE_SEARCH_QUERY_GENERATION=Q,t(0,d))}function N(Q){s.$$.not_equal(d.QUERY_GENERATION_PROMPT_TEMPLATE,Q)&&(d.QUERY_GENERATION_PROMPT_TEMPLATE=Q,t(0,d))}function S(Q){s.$$.not_equal(d.ENABLE_AUTOCOMPLETE_GENERATION,Q)&&(d.ENABLE_AUTOCOMPLETE_GENERATION=Q,t(0,d))}function V(){d.AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH=this.value,t(0,d)}function M(Q){s.$$.not_equal(d.IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE,Q)&&(d.IMAGE_PROMPT_GENERATION_PROMPT_TEMPLATE=Q,t(0,d))}function R(Q){s.$$.not_equal(d.TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE,Q)&&(d.TOOLS_FUNCTION_CALLING_PROMPT_TEMPLATE=Q,t(0,d))}const ee=()=>{(g.length===0||g.at(-1).content!=="")&&t(2,g=[...g,{id:ai(),type:"",title:"",content:"",dismissible:!0,timestamp:Math.floor(Date.now()/1e3)}])};function Z(Q,J){Q[J].type=vl(this),t(2,g)}function C(Q,J){Q[J].content=this.value,t(2,g)}function L(Q,J){s.$$.not_equal(J.dismissible,Q)&&(J.dismissible=Q,t(2,g))}const P=Q=>{g.splice(Q,1),t(2,g)},B=()=>{(E.length===0||E.at(-1).content!=="")&&t(1,E=[...E,{content:"",title:["",""]}])};function q(Q,J){Q[J].title[0]=this.value,t(1,E)}function z(Q,J){Q[J].title[1]=this.value,t(1,E)}function x(Q,J){Q[J].content=this.value,t(1,E)}return[d,E,g,r,i,a,o,u,p,b,I,T,w,k,D,y,O,N,S,V,M,R,ee,Z,C,L,P,B,q,z,x,Q=>{E.splice(Q,1),t(1,E)},()=>{p(),o("save")}]}class pu extends _l{constructor(e){super(),hl(this,e,hu,_u,dl,{},null,[-1,-1])}}function ea(s,e,t){const l=s.slice();return l[11]=e[t],l[13]=t,l}function vu(s){let e,t=s[3].t("No models found")+"",l;return{c(){e=_("div"),l=H(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","text-gray-500 text-xs text-center py-2")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i&8&&t!==(t=r[3].t("No models found")+"")&&F(l,t)},i:tt,o:tt,d(r){r&&c(e)}}}function mu(s){let e,t=[],l=new Map,r,i=st(s[0]);const a=o=>o[11];for(let o=0;o<i.length;o+=1){let u=ea(s,i,o),d=a(u);l.set(d,t[o]=ta(d,u))}return{c(){e=_("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=h(o,"DIV",{class:!0});var u=v(e);for(let d=0;d<t.length;d+=1)t[d].l(u);u.forEach(c),this.h()},h(){f(e,"class","flex flex-col -translate-x-1")},m(o,u){U(o,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);s[7](e),r=!0},p(o,u){u&5&&(i=st(o[0]),at(),t=gn(t,u,a,1,o,i,l,e,En,ta,null,ea),nt())},i(o){if(!r){for(let u=0;u<i.length;u+=1)Y(t[u]);r=!0}},o(o){for(let u=0;u<t.length;u+=1)W(t[u]);r=!1},d(o){o&&c(e);for(let u=0;u<t.length;u+=1)t[u].d();s[7](null)}}}function gu(s){let e=s[11]+"",t;return{c(){t=H(e)},l(l){t=G(l,e)},m(l,r){U(l,t,r)},p(l,r){r&1&&e!==(e=l[11]+"")&&F(t,e)},d(l){l&&c(t)}}}function Eu(s){let e=s[2].find(l).name+"",t;function l(...r){return s[6](s[11],...r)}return{c(){t=H(e)},l(r){t=G(r,e)},m(r,i){U(r,t,i)},p(r,i){s=r,i&5&&e!==(e=s[2].find(l).name+"")&&F(t,e)},d(r){r&&c(t)}}}function bu(s){let e,t,l,r,i,a;function o(...g){return s[5](s[11],...g)}t=new Ii({props:{className:"size-4 cursor-move"}});function u(g,p){return p&5&&(i=null),i==null&&(i=!!g[2].find(o)),i?Eu:gu}let d=u(s,-1),E=d(s);return{c(){e=_("div"),de(t.$$.fragment),l=A(),r=_("div"),E.c(),this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);_e(t.$$.fragment,p),l=$(p),r=h(p,"DIV",{class:!0});var m=v(r);E.l(m),m.forEach(c),p.forEach(c),this.h()},h(){f(r,"class","text-sm flex-1 py-1 rounded-lg"),f(e,"class","flex items-center gap-1")},m(g,p){U(g,e,p),he(t,e,null),n(e,l),n(e,r),E.m(r,null),a=!0},p(g,p){s=g,d===(d=u(s,p))&&E?E.p(s,p):(E.d(1),E=d(s),E&&(E.c(),E.m(r,null)))},i(g){a||(Y(t.$$.fragment,g),a=!0)},o(g){W(t.$$.fragment,g),a=!1},d(g){g&&c(e),pe(t),E.d()}}}function ta(s,e){let t,l,r,i,a;return l=new Ot({props:{content:e[11],placement:"top-start",$$slots:{default:[bu]},$$scope:{ctx:e}}}),{key:s,first:null,c(){t=_("div"),de(l.$$.fragment),r=A(),this.h()},l(o){t=h(o,"DIV",{class:!0,id:!0});var u=v(t);_e(l.$$.fragment,u),r=$(u),u.forEach(c),this.h()},h(){f(t,"class","flex gap-2 w-full justify-between items-center"),f(t,"id",i="model-item-"+e[11]),this.first=t},m(o,u){U(o,t,u),he(l,t,null),n(t,r),a=!0},p(o,u){e=o;const d={};u&1&&(d.content=e[11]),u&16389&&(d.$$scope={dirty:u,ctx:e}),l.$set(d),(!a||u&1&&i!==(i="model-item-"+e[11]))&&f(t,"id",i)},i(o){a||(Y(l.$$.fragment,o),a=!0)},o(o){W(l.$$.fragment,o),a=!1},d(o){o&&c(t),pe(l)}}}function Iu(s){let e,t,l,r;const i=[mu,vu],a=[];function o(u,d){return u[0].length>0?0:1}return e=o(s),t=a[e]=i[e](s),{c(){t.c(),l=Lt()},l(u){t.l(u),l=Lt()},m(u,d){a[e].m(u,d),U(u,l,d),r=!0},p(u,[d]){let E=e;e=o(u),e===E?a[e].p(u,d):(at(),W(a[E],1,1,()=>{a[E]=null}),nt(),t=a[e],t?t.p(u,d):(t=a[e]=i[e](u),t.c()),Y(t,1),t.m(l.parentNode,l))},i(u){r||(Y(t),r=!0)},o(u){W(t),r=!1},d(u){u&&c(l),a[e].d(u)}}}function wu(s,e,t){let l,r;Vt(s,Tl,b=>t(2,l=b));const i=bl("i18n");Vt(s,i,b=>t(3,r=b));let{modelIds:a=[]}=e,o=null,u=null;const d=()=>{const b=Array.from(u.children).map(I=>I.id.replace("model-item-",""));t(0,a=b)},E=()=>{o&&o.destroy(),u&&(o=bi.create(u,{animation:150,onUpdate:async b=>{d()}}))},g=(b,I)=>I.id===b,p=(b,I)=>I.id===b;function m(b){Je[b?"unshift":"push"](()=>{u=b,t(1,u)})}return s.$$set=b=>{"modelIds"in b&&t(0,a=b.modelIds)},s.$$.update=()=>{s.$$.dirty&1&&a&&E()},[a,u,l,r,i,g,p,m]}class ku extends _l{constructor(e){super(),hl(this,e,wu,Iu,dl,{modelIds:0})}}function la(s,e,t){const l=s.slice();return l[28]=e[t],l[30]=t,l}function sa(s,e,t){const l=s.slice();return l[31]=e[t],l}function Tu(s){let e,t,l;return t=new ls({}),{c(){e=_("div"),de(t.$$.fragment)},l(r){e=h(r,"DIV",{});var i=v(e);_e(t.$$.fragment,i),i.forEach(c)},m(r,i){U(r,e,i),he(t,e,null),l=!0},p:tt,i(r){l||(Y(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t)}}}function Du(s){let e,t,l,r,i,a=s[10].t("Reorder Models")+"",o,u,d,E,g,p,m,b,I,T,w,k,D,y,O=s[10].t("Default Models")+"",N,S,V,M,R,ee=s[10].t("Select a model")+"",Z,C,L,P,B,q,z,x,re,te,Q=s[10].t("Save")+"",J,j,X,K,ie,fe;const ne=[Au,yu],Ie=[];function ke(oe,we){return oe[6]==="model"?0:1}d=ke(s),E=Ie[d]=ne[d](s);function be(oe){s[18](oe)}let ce={};s[5]!==void 0&&(ce.modelIds=s[5]),p=new ku({props:ce}),Je.push(()=>Qe(p,"modelIds",be));let ae=st(s[11]),ve=[];for(let oe=0;oe<ae.length;oe+=1)ve[oe]=ra(sa(s,ae,oe));const Te=[Nu,Ou],ge=[];function $e(oe,we){return oe[4].length>0?0:1}P=$e(s),B=ge[P]=Te[P](s),x=new Ot({props:{content:s[10].t("This will delete all models including custom models"),$$slots:{default:[Pu]},$$scope:{ctx:s}}});let Ve=s[8]&&na();return{c(){e=_("form"),t=_("div"),l=_("div"),r=_("button"),i=_("div"),o=H(a),u=A(),E.c(),g=A(),de(p.$$.fragment),b=A(),I=_("hr"),T=A(),w=_("div"),k=_("div"),D=_("div"),y=_("div"),N=H(O),S=A(),V=_("div"),M=_("select"),R=_("option"),Z=H(ee);for(let oe=0;oe<ve.length;oe+=1)ve[oe].c();L=A(),B.c(),q=A(),z=_("div"),de(x.$$.fragment),re=A(),te=_("button"),J=H(Q),j=A(),Ve&&Ve.c(),this.h()},l(oe){e=h(oe,"FORM",{class:!0});var we=v(e);t=h(we,"DIV",{});var De=v(t);l=h(De,"DIV",{class:!0});var Ne=v(l);r=h(Ne,"BUTTON",{class:!0,type:!0});var se=v(r);i=h(se,"DIV",{class:!0});var Ae=v(i);o=G(Ae,a),Ae.forEach(c),u=$(se),E.l(se),se.forEach(c),g=$(Ne),_e(p.$$.fragment,Ne),Ne.forEach(c),De.forEach(c),b=$(we),I=h(we,"HR",{class:!0}),T=$(we),w=h(we,"DIV",{});var Ue=v(w);k=h(Ue,"DIV",{class:!0});var Le=v(k);D=h(Le,"DIV",{class:!0});var Ce=v(D);y=h(Ce,"DIV",{class:!0});var Ze=v(y);N=G(Ze,O),Ze.forEach(c),Ce.forEach(c),S=$(Le),V=h(Le,"DIV",{class:!0});var We=v(V);M=h(We,"SELECT",{class:!0});var xe=v(M);R=h(xe,"OPTION",{});var Be=v(R);Z=G(Be,ee),Be.forEach(c);for(let rt=0;rt<ve.length;rt+=1)ve[rt].l(xe);xe.forEach(c),We.forEach(c),L=$(Le),B.l(Le),Le.forEach(c),Ue.forEach(c),q=$(we),z=h(we,"DIV",{class:!0});var Ee=v(z);_e(x.$$.fragment,Ee),re=$(Ee),te=h(Ee,"BUTTON",{class:!0,type:!0});var Oe=v(te);J=G(Oe,Q),j=$(Oe),Ve&&Ve.l(Oe),Oe.forEach(c),Ee.forEach(c),we.forEach(c),this.h()},h(){f(i,"class","text-xs text-gray-500"),f(r,"class","mb-1 flex gap-2"),f(r,"type","button"),f(l,"class","flex flex-col w-full"),f(I,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),f(y,"class","text-xs text-gray-500"),f(D,"class","mb-1 flex justify-between"),R.__value="",le(R,R.__value),f(M,"class",C="w-full py-1 text-sm rounded-lg bg-transparent "+(s[2]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),s[2]===void 0&&ml(()=>s[19].call(M)),f(V,"class","flex items-center -mr-1"),f(k,"class","flex flex-col w-full"),f(te,"class",X="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[8]?" cursor-not-allowed":"")),f(te,"type","submit"),te.disabled=s[8],f(z,"class","flex justify-between pt-3 text-sm font-medium gap-1.5"),f(e,"class","flex flex-col w-full")},m(oe,we){U(oe,e,we),n(e,t),n(t,l),n(l,r),n(r,i),n(i,o),n(r,u),Ie[d].m(r,null),n(l,g),he(p,l,null),n(e,b),n(e,I),n(e,T),n(e,w),n(w,k),n(k,D),n(D,y),n(y,N),n(k,S),n(k,V),n(V,M),n(M,R),n(R,Z);for(let De=0;De<ve.length;De+=1)ve[De]&&ve[De].m(M,null);yt(M,s[2],!0),n(k,L),ge[P].m(k,null),n(e,q),n(e,z),he(x,z,null),n(z,re),n(z,te),n(te,J),n(te,j),Ve&&Ve.m(te,null),K=!0,ie||(fe=[ue(r,"click",s[17]),ue(M,"change",s[19]),ue(e,"submit",Ml(s[23]))],ie=!0)},p(oe,we){(!K||we[0]&1024)&&a!==(a=oe[10].t("Reorder Models")+"")&&F(o,a);let De=d;d=ke(oe),d===De?Ie[d].p(oe,we):(at(),W(Ie[De],1,1,()=>{Ie[De]=null}),nt(),E=Ie[d],E?E.p(oe,we):(E=Ie[d]=ne[d](oe),E.c()),Y(E,1),E.m(r,null));const Ne={};if(!m&&we[0]&32&&(m=!0,Ne.modelIds=oe[5],Xe(()=>m=!1)),p.$set(Ne),(!K||we[0]&1024)&&O!==(O=oe[10].t("Default Models")+"")&&F(N,O),(!K||we[0]&1024)&&ee!==(ee=oe[10].t("Select a model")+"")&&F(Z,ee),we[0]&2048){ae=st(oe[11]);let Ue;for(Ue=0;Ue<ae.length;Ue+=1){const Le=sa(oe,ae,Ue);ve[Ue]?ve[Ue].p(Le,we):(ve[Ue]=ra(Le),ve[Ue].c(),ve[Ue].m(M,null))}for(;Ue<ve.length;Ue+=1)ve[Ue].d(1);ve.length=ae.length}(!K||we[0]&2052&&C!==(C="w-full py-1 text-sm rounded-lg bg-transparent "+(oe[2]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"))&&f(M,"class",C),we[0]&2052&&yt(M,oe[2]);let se=P;P=$e(oe),P===se?ge[P].p(oe,we):(at(),W(ge[se],1,1,()=>{ge[se]=null}),nt(),B=ge[P],B?B.p(oe,we):(B=ge[P]=Te[P](oe),B.c()),Y(B,1),B.m(k,null));const Ae={};we[0]&1024&&(Ae.content=oe[10].t("This will delete all models including custom models")),we[0]&1536|we[1]&8&&(Ae.$$scope={dirty:we,ctx:oe}),x.$set(Ae),(!K||we[0]&1024)&&Q!==(Q=oe[10].t("Save")+"")&&F(J,Q),oe[8]?Ve||(Ve=na(),Ve.c(),Ve.m(te,null)):Ve&&(Ve.d(1),Ve=null),(!K||we[0]&256&&X!==(X="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(oe[8]?" cursor-not-allowed":"")))&&f(te,"class",X),(!K||we[0]&256)&&(te.disabled=oe[8])},i(oe){K||(Y(E),Y(p.$$.fragment,oe),Y(B),Y(x.$$.fragment,oe),K=!0)},o(oe){W(E),W(p.$$.fragment,oe),W(B),W(x.$$.fragment,oe),K=!1},d(oe){oe&&c(e),Ie[d].d(),pe(p),xt(ve,oe),ge[P].d(),pe(x),Ve&&Ve.d(),ie=!1,zt(fe)}}}function yu(s){let e,t,l;return t=new bn({props:{className:"size-3"}}),{c(){e=_("span"),de(t.$$.fragment),this.h()},l(r){e=h(r,"SPAN",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){f(e,"class","invisible")},m(r,i){U(r,e,i),he(t,e,null),l=!0},p:tt,i(r){l||(Y(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t)}}}function Au(s){let e,t,l,r;const i=[Vu,$u],a=[];function o(u,d){return u[7]==="asc"?0:1}return t=o(s),l=a[t]=i[t](s),{c(){e=_("span"),l.c(),this.h()},l(u){e=h(u,"SPAN",{class:!0});var d=v(e);l.l(d),d.forEach(c),this.h()},h(){f(e,"class","font-normal self-center")},m(u,d){U(u,e,d),a[t].m(e,null),r=!0},p(u,d){let E=t;t=o(u),t!==E&&(at(),W(a[E],1,1,()=>{a[E]=null}),nt(),l=a[t],l||(l=a[t]=i[t](u),l.c()),Y(l,1),l.m(e,null))},i(u){r||(Y(l),r=!0)},o(u){W(l),r=!1},d(u){u&&c(e),a[t].d()}}}function $u(s){let e,t;return e=new wi({props:{className:"size-3"}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Vu(s){let e,t;return e=new bn({props:{className:"size-3"}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function ra(s){let e,t=s[31].name+"",l,r;return{c(){e=_("option"),l=H(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var a=v(e);l=G(a,t),a.forEach(c),this.h()},h(){e.__value=r=s[31].id,le(e,e.__value),f(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,a){U(i,e,a),n(e,l)},p(i,a){a[0]&2048&&t!==(t=i[31].name+"")&&F(l,t),a[0]&2048&&r!==(r=i[31].id)&&(e.__value=r,le(e,e.__value))},d(i){i&&c(e)}}}function Ou(s){let e,t=s[10].t("No models selected")+"",l;return{c(){e=_("div"),l=H(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","text-gray-500 text-xs text-center py-2")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&1024&&t!==(t=r[10].t("No models selected")+"")&&F(l,t)},i:tt,o:tt,d(r){r&&c(e)}}}function Nu(s){let e,t,l=st(s[4]),r=[];for(let a=0;a<l.length;a+=1)r[a]=aa(la(s,l,a));const i=a=>W(r[a],1,1,()=>{r[a]=null});return{c(){e=_("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=h(a,"DIV",{class:!0});var o=v(e);for(let u=0;u<r.length;u+=1)r[u].l(o);o.forEach(c),this.h()},h(){f(e,"class","flex flex-col")},m(a,o){U(a,e,o);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);t=!0},p(a,o){if(o[0]&2064){l=st(a[4]);let u;for(u=0;u<l.length;u+=1){const d=la(a,l,u);r[u]?(r[u].p(d,o),Y(r[u],1)):(r[u]=aa(d),r[u].c(),Y(r[u],1),r[u].m(e,null))}for(at(),u=l.length;u<r.length;u+=1)i(u);nt()}},i(a){if(!t){for(let o=0;o<l.length;o+=1)Y(r[o]);t=!0}},o(a){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)W(r[o]);t=!1},d(a){a&&c(e),xt(r,a)}}}function aa(s){var I;let e,t,l=((I=s[11].find(m))==null?void 0:I.name)+"",r,i,a,o,u,d,E,g,p;function m(...T){return s[20](s[28],...T)}u=new Tn({props:{strokeWidth:"2",className:"size-3.5"}});function b(){return s[21](s[30])}return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("button"),de(u.$$.fragment),d=A(),this.h()},l(T){e=h(T,"DIV",{class:!0});var w=v(e);t=h(w,"DIV",{class:!0});var k=v(t);r=G(k,l),k.forEach(c),i=$(w),a=h(w,"DIV",{class:!0});var D=v(a);o=h(D,"BUTTON",{type:!0});var y=v(o);_e(u.$$.fragment,y),y.forEach(c),D.forEach(c),d=$(w),w.forEach(c),this.h()},h(){f(t,"class","text-sm flex-1 py-1 rounded-lg"),f(o,"type","button"),f(a,"class","shrink-0"),f(e,"class","flex gap-2 w-full justify-between items-center")},m(T,w){U(T,e,w),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),he(u,o,null),n(e,d),E=!0,g||(p=ue(o,"click",b),g=!0)},p(T,w){var k;s=T,(!E||w[0]&2064)&&l!==(l=((k=s[11].find(m))==null?void 0:k.name)+"")&&F(r,l)},i(T){E||(Y(u.$$.fragment,T),E=!0)},o(T){W(u.$$.fragment,T),E=!1},d(T){T&&c(e),pe(u),g=!1,p()}}}function Pu(s){let e,t=s[10].t("Reset All Models")+"",l,r,i;return{c(){e=_("button"),l=H(t),this.h()},l(a){e=h(a,"BUTTON",{class:!0,type:!0});var o=v(e);l=G(o,t),o.forEach(c),this.h()},h(){f(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),f(e,"type","button")},m(a,o){U(a,e,o),n(e,l),r||(i=ue(e,"click",s[22]),r=!0)},p(a,o){o[0]&1024&&t!==(t=a[10].t("Reset All Models")+"")&&F(l,t)},d(a){a&&c(e),r=!1,i()}}}function na(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}
												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-178pk2u"&&(e.innerHTML=t),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function Su(s){let e,t,l,r=s[10].t("Settings")+"",i,a,o,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,E,g,p,m,b,I,T;const w=[Du,Tu],k=[];function D(y,O){return y[3]?0:1}return p=D(s),m=k[p]=w[p](s),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("button"),o.innerHTML=u,d=A(),E=_("div"),g=_("div"),m.c(),this.h()},l(y){e=h(y,"DIV",{});var O=v(e);t=h(O,"DIV",{class:!0});var N=v(t);l=h(N,"DIV",{class:!0});var S=v(l);i=G(S,r),S.forEach(c),a=$(N),o=h(N,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(o)!=="svelte-745w2y"&&(o.innerHTML=u),N.forEach(c),d=$(O),E=h(O,"DIV",{class:!0});var V=v(E);g=h(V,"DIV",{class:!0});var M=v(g);m.l(M),M.forEach(c),V.forEach(c),O.forEach(c),this.h()},h(){f(l,"class","text-lg font-medium self-center font-primary"),f(o,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),f(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(E,"class","flex flex-col md:flex-row w-full px-5 pb-4 md:space-x-4 dark:text-gray-200")},m(y,O){U(y,e,O),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(e,d),n(e,E),n(E,g),k[p].m(g,null),b=!0,I||(T=ue(o,"click",s[16]),I=!0)},p(y,O){(!b||O[0]&1024)&&r!==(r=y[10].t("Settings")+"")&&F(i,r);let N=p;p=D(y),p===N?k[p].p(y,O):(at(),W(k[N],1,1,()=>{k[N]=null}),nt(),m=k[p],m?m.p(y,O):(m=k[p]=w[p](y),m.c()),Y(m,1),m.m(g,null))},i(y){b||(Y(m),b=!0)},o(y){W(m),b=!1},d(y){y&&c(e),k[p].d(),I=!1,T()}}}function Mu(s){let e,t,l,r,i,a;function o(g){s[15](g)}let u={title:s[10].t("Reset All Models"),message:s[10].t("This will delete all models including custom models and cannot be undone."),onConfirm:s[14]};s[9]!==void 0&&(u.show=s[9]),e=new Us({props:u}),Je.push(()=>Qe(e,"show",o));function d(g){s[24](g)}let E={size:"sm",$$slots:{default:[Su]},$$scope:{ctx:s}};return s[0]!==void 0&&(E.show=s[0]),r=new Cs({props:E}),Je.push(()=>Qe(r,"show",d)),{c(){de(e.$$.fragment),l=A(),de(r.$$.fragment)},l(g){_e(e.$$.fragment,g),l=$(g),_e(r.$$.fragment,g)},m(g,p){he(e,g,p),U(g,l,p),he(r,g,p),a=!0},p(g,p){const m={};p[0]&1024&&(m.title=g[10].t("Reset All Models")),p[0]&1024&&(m.message=g[10].t("This will delete all models including custom models and cannot be undone.")),p[0]&1026&&(m.onConfirm=g[14]),!t&&p[0]&512&&(t=!0,m.show=g[9],Xe(()=>t=!1)),e.$set(m);const b={};p[0]&4093|p[1]&8&&(b.$$scope={dirty:p,ctx:g}),!i&&p[0]&1&&(i=!0,b.show=g[0],Xe(()=>i=!1)),r.$set(b)},i(g){a||(Y(e.$$.fragment,g),Y(r.$$.fragment,g),a=!0)},o(g){W(e.$$.fragment,g),W(r.$$.fragment,g),a=!1},d(g){g&&c(l),pe(e,g),pe(r,g)}}}function Ru(s,e,t){let l,r;Vt(s,Tl,L=>t(11,r=L));const i=bl("i18n");Vt(s,i,L=>t(10,l=L)),zl();let{show:a=!1}=e,{initHandler:o=()=>{}}=e,u=null,d="",E=[],g=[],p="",m="",b=!1,I=!1;const T=()=>{if(d!==""){if(E.includes(d)){t(2,d="");return}t(4,E=[...E,d]),t(2,d="")}},w=async()=>{t(3,u=await Wn(localStorage.token)),u!=null&&u.DEFAULT_MODELS?t(4,E=u==null?void 0:u.DEFAULT_MODELS.split(",").filter(q=>q)):t(4,E=[]);const L=u.MODEL_ORDER_LIST||[],P=r.map(q=>q.id),B=new Set(L);t(5,g=[...L.filter(q=>B.has(q)&&P.includes(q)),...P.filter(q=>!B.has(q)).sort((q,z)=>q.localeCompare(z))]),t(6,p=""),t(7,m="")},k=async()=>{t(8,b=!0),await Zn(localStorage.token,{DEFAULT_MODELS:E.join(","),MODEL_ORDER_LIST:g})?(Ge.success(l.t("Models configuration saved successfully")),o(),t(0,a=!1)):Ge.error(l.t("Failed to save models configuration")),t(8,b=!1)};Vl(async()=>{w()});const D=async()=>{hi(localStorage.token)&&(Ge.success(l.t("All models deleted successfully")),o())};function y(L){I=L,t(9,I)}const O=()=>{t(0,a=!1)},N=()=>{t(6,p="model"),m==="asc"?t(7,m="desc"):t(7,m="asc"),t(5,g=g.filter(L=>L!=="").sort((L,P)=>{var z,x;const B=((z=r.find(re=>re.id===L))==null?void 0:z.name)||L,q=((x=r.find(re=>re.id===P))==null?void 0:x.name)||P;return m==="desc"?B.localeCompare(q):q.localeCompare(B)}))};function S(L){g=L,t(5,g)}function V(){d=vl(this),t(2,d)}const M=(L,P)=>P.id===L,R=L=>{t(4,E=E.filter((P,B)=>B!==L))},ee=()=>{t(9,I=!0)},Z=()=>{k()};function C(L){a=L,t(0,a)}return s.$$set=L=>{"show"in L&&t(0,a=L.show),"initHandler"in L&&t(1,o=L.initHandler)},s.$$.update=()=>{s.$$.dirty[0]&1&&a&&w(),s.$$.dirty[0]&4&&d&&T()},[a,o,d,u,E,g,p,m,b,I,l,r,i,k,D,y,O,N,S,V,M,R,ee,Z,C]}class Lu extends _l{constructor(e){super(),hl(this,e,Ru,Mu,dl,{show:0,initHandler:1},null,[-1,-1])}}function ia(s,e,t){const l=s.slice();return l[57]=e[t],l}function oa(s,e,t){const l=s.slice();return l[57]=e[t],l}function Uu(s){let e,t,l;return t=new ls({}),{c(){e=_("div"),de(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){f(e,"class","flex justify-center items-center w-full h-full py-3")},m(r,i){U(r,e,i),he(t,e,null),l=!0},p:tt,i(r){l||(Y(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t)}}}function Cu(s){let e,t=s[23].t("Failed to fetch models")+"",l;return{c(){e=_("div"),l=H(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","flex justify-center items-center w-full h-full text-xs py-3")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&8388608&&t!==(t=r[23].t("Failed to fetch models")+"")&&F(l,t)},i:tt,o:tt,d(r){r&&c(e)}}}function Bu(s){let e,t,l,r,i,a,o=s[23].t("Pull a model from Ollama.com")+"",u,d,E,g,p,m,b,I,T,w,k,D,y,O=s[23].t("To access the available model names for downloading,")+"",N,S,V,M=s[23].t("click here.")+"",R,ee,Z,C=Object.keys(s[22]).length>0,L,P,B,q=s[23].t("Delete a model")+"",z,x,re,te,Q,J,j,X,K,ie='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',fe,ne,Ie,ke=s[23].t("Create a model")+"",be,ce,ae,ve,Te,ge,$e,Ve,oe,we,De,Ne,se,Ae,Ue,Le,Ce,Ze,We,xe=s[23].t("Experimental")+"",Be,Ee,Oe,rt=(s[6]?s[23].t("Hide"):s[23].t("Show"))+"",et,_t,Fe,gt,vt;g=new Ot({props:{content:"Update All Models",placement:"top",$$slots:{default:[Hu]},$$scope:{ctx:s}}});function Me(Se,Ke){return Se[7]?ju:Gu}let mt=Me(s),kt=mt(s),it=s[4]&&ua(s),ot=C&&fa(s),ht=!s[21]&&ha(s),Et=st(s[3]),Tt=[];for(let Se=0;Se<Et.length;Se+=1)Tt[Se]=pa(ia(s,Et,Se));let pt=s[12]!==""&&va(s),ft=s[6]&&ga(s);return{c(){e=_("div"),t=_("div"),l=_("div"),r=_("div"),i=_("div"),a=_("div"),u=H(o),d=A(),E=_("div"),de(g.$$.fragment),p=A(),m=_("div"),b=_("div"),I=_("input"),w=A(),k=_("button"),kt.c(),D=A(),y=_("div"),N=H(O),S=A(),V=_("a"),R=H(M),ee=A(),it&&it.c(),Z=A(),ot&&ot.c(),L=A(),P=_("div"),B=_("div"),z=H(q),x=A(),re=_("div"),te=_("div"),Q=_("select"),ht&&ht.c(),J=Lt();for(let Se=0;Se<Tt.length;Se+=1)Tt[Se].c();X=A(),K=_("button"),K.innerHTML=ie,fe=A(),ne=_("div"),Ie=_("div"),be=H(ke),ce=A(),ae=_("div"),ve=_("div"),Te=_("input"),$e=A(),Ve=_("textarea"),oe=A(),we=_("div"),De=_("button"),Ne=Zt("svg"),se=Zt("path"),Ae=Zt("path"),Ue=A(),pt&&pt.c(),Le=A(),Ce=_("div"),Ze=_("div"),We=_("div"),Be=H(xe),Ee=A(),Oe=_("button"),et=H(rt),_t=A(),ft&&ft.c(),this.h()},l(Se){e=h(Se,"DIV",{class:!0});var Ke=v(e);t=h(Ke,"DIV",{});var Pt=v(t);l=h(Pt,"DIV",{class:!0});var dt=v(l);r=h(dt,"DIV",{});var Pe=v(r);i=h(Pe,"DIV",{class:!0});var Ye=v(i);a=h(Ye,"DIV",{});var bt=v(a);u=G(bt,o),bt.forEach(c),d=$(Ye),E=h(Ye,"DIV",{});var It=v(E);_e(g.$$.fragment,It),It.forEach(c),Ye.forEach(c),p=$(Pe),m=h(Pe,"DIV",{class:!0});var Dt=v(m);b=h(Dt,"DIV",{class:!0});var ut=v(b);I=h(ut,"INPUT",{class:!0,placeholder:!0}),ut.forEach(c),w=$(Dt),k=h(Dt,"BUTTON",{class:!0});var me=v(k);kt.l(me),me.forEach(c),Dt.forEach(c),D=$(Pe),y=h(Pe,"DIV",{class:!0});var Re=v(y);N=G(Re,O),S=$(Re),V=h(Re,"A",{class:!0,href:!0,target:!0});var wt=v(V);R=G(wt,M),wt.forEach(c),Re.forEach(c),ee=$(Pe),it&&it.l(Pe),Z=$(Pe),ot&&ot.l(Pe),Pe.forEach(c),L=$(dt),P=h(dt,"DIV",{});var Ht=v(P);B=h(Ht,"DIV",{class:!0});var Ct=v(B);z=G(Ct,q),Ct.forEach(c),x=$(Ht),re=h(Ht,"DIV",{class:!0});var Gt=v(re);te=h(Gt,"DIV",{class:!0});var Yt=v(te);Q=h(Yt,"SELECT",{class:!0,placeholder:!0});var Bt=v(Q);ht&&ht.l(Bt),J=Lt();for(let Ft=0;Ft<Tt.length;Ft+=1)Tt[Ft].l(Bt);Bt.forEach(c),Yt.forEach(c),X=$(Gt),K=h(Gt,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(K)!=="svelte-1c45g2d"&&(K.innerHTML=ie),Gt.forEach(c),Ht.forEach(c),fe=$(dt),ne=h(dt,"DIV",{});var el=v(ne);Ie=h(el,"DIV",{class:!0});var Wt=v(Ie);be=G(Wt,ke),Wt.forEach(c),ce=$(el),ae=h(el,"DIV",{class:!0});var Ut=v(ae);ve=h(Ut,"DIV",{class:!0});var Nt=v(ve);Te=h(Nt,"INPUT",{class:!0,placeholder:!0}),$e=$(Nt),Ve=h(Nt,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),v(Ve).forEach(c),Nt.forEach(c),oe=$(Ut),we=h(Ut,"DIV",{class:!0});var ct=v(we);De=h(ct,"BUTTON",{class:!0});var je=v(De);Ne=Jt(je,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var lt=v(Ne);se=Jt(lt,"path",{d:!0}),v(se).forEach(c),Ae=Jt(lt,"path",{d:!0}),v(Ae).forEach(c),lt.forEach(c),je.forEach(c),ct.forEach(c),Ut.forEach(c),Ue=$(el),pt&&pt.l(el),el.forEach(c),Le=$(dt),Ce=h(dt,"DIV",{class:!0});var jt=v(Ce);Ze=h(jt,"DIV",{class:!0});var tl=v(Ze);We=h(tl,"DIV",{class:!0});var At=v(We);Be=G(At,xe),At.forEach(c),Ee=$(tl),Oe=h(tl,"BUTTON",{class:!0,type:!0});var ll=v(Oe);et=G(ll,rt),ll.forEach(c),tl.forEach(c),jt.forEach(c),_t=$(dt),ft&&ft.l(dt),dt.forEach(c),Pt.forEach(c),Ke.forEach(c),this.h()},h(){f(i,"class","mb-2 text-sm font-medium flex items-center gap-1.5"),f(I,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(I,"placeholder",T=s[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})),f(b,"class","flex-1 mr-2"),f(k,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),k.disabled=s[7],f(m,"class","flex w-full"),f(V,"class","text-gray-500 dark:text-gray-300 font-medium underline"),f(V,"href","https://ollama.com/library"),f(V,"target","_blank"),f(y,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),f(B,"class","mb-2 text-sm font-medium"),f(Q,"class","w-full py-2 px-4 text-sm outline-hidden bg-transparent"),f(Q,"placeholder",j=s[23].t("Select a model")),s[21]===void 0&&ml(()=>s[38].call(Q)),f(te,"class","flex-1 mr-2 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),f(K,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),f(re,"class","flex w-full"),f(Ie,"class","mb-2 text-sm font-medium"),f(Te,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(Te,"placeholder",ge=s[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})),Te.disabled=s[9],f(Ve,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none scrollbar-hidden"),f(Ve,"rows","6"),f(Ve,"placeholder",'e.g. {"model": "my-modelfile", "from": "ollama:7b"})'),Ve.disabled=s[9],f(ve,"class","flex-1 mr-2 flex flex-col gap-2"),f(se,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),f(Ae,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),f(Ne,"xmlns","http://www.w3.org/2000/svg"),f(Ne,"viewBox","0 0 16 16"),f(Ne,"fill","currentColor"),f(Ne,"class","size-4"),f(De,"class","px-2.5 py-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition disabled:cursor-not-allowed"),De.disabled=s[9],f(we,"class","flex self-start"),f(ae,"class","flex w-full"),f(We,"class","text-sm font-medium"),f(Oe,"class","text-xs font-medium text-gray-500"),f(Oe,"type","button"),f(Ze,"class","flex justify-between items-center text-xs"),f(Ce,"class","pt-1"),f(l,"class","space-y-2"),f(e,"class","flex flex-col w-full")},m(Se,Ke){U(Se,e,Ke),n(e,t),n(t,l),n(l,r),n(r,i),n(i,a),n(a,u),n(i,d),n(i,E),he(g,E,null),n(r,p),n(r,m),n(m,b),n(b,I),le(I,s[8]),n(m,w),n(m,k),kt.m(k,null),n(r,D),n(r,y),n(y,N),n(y,S),n(y,V),n(V,R),n(r,ee),it&&it.m(r,null),n(r,Z),ot&&ot.m(r,null),n(l,L),n(l,P),n(P,B),n(B,z),n(P,x),n(P,re),n(re,te),n(te,Q),ht&&ht.m(Q,null),n(Q,J);for(let Pt=0;Pt<Tt.length;Pt+=1)Tt[Pt]&&Tt[Pt].m(Q,null);yt(Q,s[21],!0),n(re,X),n(re,K),n(l,fe),n(l,ne),n(ne,Ie),n(Ie,be),n(ne,ce),n(ne,ae),n(ae,ve),n(ve,Te),le(Te,s[10]),n(ve,$e),n(ve,Ve),le(Ve,s[11]),n(ae,oe),n(ae,we),n(we,De),n(De,Ne),n(Ne,se),n(Ne,Ae),n(ne,Ue),pt&&pt.m(ne,null),n(l,Le),n(l,Ce),n(Ce,Ze),n(Ze,We),n(We,Be),n(Ze,Ee),n(Ze,Oe),n(Oe,et),n(l,_t),ft&&ft.m(l,null),Fe=!0,gt||(vt=[ue(I,"input",s[35]),ue(k,"click",s[36]),ue(Q,"change",s[38]),ue(K,"click",s[39]),ue(Te,"input",s[40]),ue(Ve,"input",s[41]),ue(De,"click",s[42]),ue(Oe,"click",s[43])],gt=!0)},p(Se,Ke){(!Fe||Ke[0]&8388608)&&o!==(o=Se[23].t("Pull a model from Ollama.com")+"")&&F(u,o);const Pt={};if(Ke[2]&1&&(Pt.$$scope={dirty:Ke,ctx:Se}),g.$set(Pt),(!Fe||Ke[0]&8388608&&T!==(T=Se[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"mistral:7b"})))&&f(I,"placeholder",T),Ke[0]&256&&I.value!==Se[8]&&le(I,Se[8]),mt!==(mt=Me(Se))&&(kt.d(1),kt=mt(Se),kt&&(kt.c(),kt.m(k,null))),(!Fe||Ke[0]&128)&&(k.disabled=Se[7]),(!Fe||Ke[0]&8388608)&&O!==(O=Se[23].t("To access the available model names for downloading,")+"")&&F(N,O),(!Fe||Ke[0]&8388608)&&M!==(M=Se[23].t("click here.")+"")&&F(R,M),Se[4]?it?it.p(Se,Ke):(it=ua(Se),it.c(),it.m(r,Z)):it&&(it.d(1),it=null),Ke[0]&4194304&&(C=Object.keys(Se[22]).length>0),C?ot?(ot.p(Se,Ke),Ke[0]&4194304&&Y(ot,1)):(ot=fa(Se),ot.c(),Y(ot,1),ot.m(r,null)):ot&&(at(),W(ot,1,1,()=>{ot=null}),nt()),(!Fe||Ke[0]&8388608)&&q!==(q=Se[23].t("Delete a model")+"")&&F(z,q),Se[21]?ht&&(ht.d(1),ht=null):ht?ht.p(Se,Ke):(ht=ha(Se),ht.c(),ht.m(Q,J)),Ke[0]&8){Et=st(Se[3]);let dt;for(dt=0;dt<Et.length;dt+=1){const Pe=ia(Se,Et,dt);Tt[dt]?Tt[dt].p(Pe,Ke):(Tt[dt]=pa(Pe),Tt[dt].c(),Tt[dt].m(Q,null))}for(;dt<Tt.length;dt+=1)Tt[dt].d(1);Tt.length=Et.length}(!Fe||Ke[0]&8388608&&j!==(j=Se[23].t("Select a model")))&&f(Q,"placeholder",j),Ke[0]&2097160&&yt(Q,Se[21]),(!Fe||Ke[0]&8388608)&&ke!==(ke=Se[23].t("Create a model")+"")&&F(be,ke),(!Fe||Ke[0]&8388608&&ge!==(ge=Se[23].t("Enter model tag (e.g. {{modelTag}})",{modelTag:"my-modelfile"})))&&f(Te,"placeholder",ge),(!Fe||Ke[0]&512)&&(Te.disabled=Se[9]),Ke[0]&1024&&Te.value!==Se[10]&&le(Te,Se[10]),(!Fe||Ke[0]&512)&&(Ve.disabled=Se[9]),Ke[0]&2048&&le(Ve,Se[11]),(!Fe||Ke[0]&512)&&(De.disabled=Se[9]),Se[12]!==""?pt?pt.p(Se,Ke):(pt=va(Se),pt.c(),pt.m(ne,null)):pt&&(pt.d(1),pt=null),(!Fe||Ke[0]&8388608)&&xe!==(xe=Se[23].t("Experimental")+"")&&F(Be,xe),(!Fe||Ke[0]&8388672)&&rt!==(rt=(Se[6]?Se[23].t("Hide"):Se[23].t("Show"))+"")&&F(et,rt),Se[6]?ft?ft.p(Se,Ke):(ft=ga(Se),ft.c(),ft.m(l,null)):ft&&(ft.d(1),ft=null)},i(Se){Fe||(Y(g.$$.fragment,Se),Y(ot),Fe=!0)},o(Se){W(g.$$.fragment,Se),W(ot),Fe=!1},d(Se){Se&&c(e),pe(g),kt.d(),it&&it.d(),ot&&ot.d(),ht&&ht.d(),xt(Tt,Se),pt&&pt.d(),ft&&ft.d(),gt=!1,zt(vt)}}}function Hu(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',l,r;return{c(){e=_("button"),e.innerHTML=t,this.h()},l(i){e=h(i,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-91van"&&(e.innerHTML=t),this.h()},h(){f(e,"class","flex gap-2 items-center bg-transparent rounded-lg transition")},m(i,a){U(i,e,a),l||(r=ue(e,"click",s[34]),l=!0)},p:tt,d(i){i&&c(e),l=!1,r()}}}function Gu(s){let e,t,l;return{c(){e=Zt("svg"),t=Zt("path"),l=Zt("path"),this.h()},l(r){e=Jt(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=Jt(i,"path",{d:!0}),v(t).forEach(c),l=Jt(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){f(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),f(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 16 16"),f(e,"fill","currentColor"),f(e,"class","w-4 h-4")},m(r,i){U(r,e,i),n(e,t),n(e,l)},d(r){r&&c(e)}}}function ju(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}

											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-1x85grn"&&(e.innerHTML=t),this.h()},h(){f(e,"class","self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function ua(s){let e,t,l,r,i=s[5]?`(${s[5]}%)`:"",a;return{c(){e=_("div"),t=H('Updating "'),l=H(s[4]),r=H('" '),a=H(i),this.h()},l(o){e=h(o,"DIV",{class:!0});var u=v(e);t=G(u,'Updating "'),l=G(u,s[4]),r=G(u,'" '),a=G(u,i),u.forEach(c),this.h()},h(){f(e,"class","text-xs")},m(o,u){U(o,e,u),n(e,t),n(e,l),n(e,r),n(e,a)},p(o,u){u[0]&16&&F(l,o[4]),u[0]&32&&i!==(i=o[5]?`(${o[5]}%)`:"")&&F(a,i)},d(o){o&&c(e)}}}function fa(s){let e,t,l=st(Object.keys(s[22])),r=[];for(let a=0;a<l.length;a+=1)r[a]=_a(oa(s,l,a));const i=a=>W(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=Lt()},l(a){for(let o=0;o<r.length;o+=1)r[o].l(a);e=Lt()},m(a,o){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,o);U(a,e,o),t=!0},p(a,o){if(o[0]&549453824){l=st(Object.keys(a[22]));let u;for(u=0;u<l.length;u+=1){const d=oa(a,l,u);r[u]?(r[u].p(d,o),Y(r[u],1)):(r[u]=_a(d),r[u].c(),Y(r[u],1),r[u].m(e.parentNode,e))}for(at(),u=l.length;u<r.length;u+=1)i(u);nt()}},i(a){if(!t){for(let o=0;o<l.length;o+=1)Y(r[o]);t=!0}},o(a){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)W(r[o]);t=!1},d(a){a&&c(e),xt(r,a)}}}function ca(s){let e,t,l=s[57]+"",r,i,a,o,u,d,E=(s[22][s[57]].pullProgress??0)+"",g,p,m,b,I,T,w;b=new Ot({props:{content:s[23].t("Cancel"),$$slots:{default:[Ku]},$$scope:{ctx:s}}});let k="digest"in s[22][s[57]]&&da(s);return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("div"),u=_("div"),d=_("div"),g=H(E),p=H("%"),m=A(),de(b.$$.fragment),I=A(),k&&k.c(),T=A(),this.h()},l(D){e=h(D,"DIV",{class:!0});var y=v(e);t=h(y,"DIV",{class:!0});var O=v(t);r=G(O,l),O.forEach(c),i=$(y),a=h(y,"DIV",{class:!0});var N=v(a);o=h(N,"DIV",{class:!0});var S=v(o);u=h(S,"DIV",{class:!0});var V=v(u);d=h(V,"DIV",{class:!0,style:!0});var M=v(d);g=G(M,E),p=G(M,"%"),M.forEach(c),V.forEach(c),m=$(S),_e(b.$$.fragment,S),S.forEach(c),I=$(N),k&&k.l(N),N.forEach(c),T=$(y),y.forEach(c),this.h()},h(){f(t,"class","font-medium mb-1"),f(d,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Zl(d,"width",Math.max(15,s[22][s[57]].pullProgress??0)+"%"),f(u,"class","flex-1"),f(o,"class","flex flex-row justify-between space-x-4 pr-2"),f(a,"class",""),f(e,"class","flex flex-col")},m(D,y){U(D,e,y),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,u),n(u,d),n(d,g),n(d,p),n(o,m),he(b,o,null),n(a,I),k&&k.m(a,null),n(e,T),w=!0},p(D,y){(!w||y[0]&4194304)&&l!==(l=D[57]+"")&&F(r,l),(!w||y[0]&4194304)&&E!==(E=(D[22][D[57]].pullProgress??0)+"")&&F(g,E),(!w||y[0]&4194304)&&Zl(d,"width",Math.max(15,D[22][D[57]].pullProgress??0)+"%");const O={};y[0]&8388608&&(O.content=D[23].t("Cancel")),y[0]&4194304|y[2]&1&&(O.$$scope={dirty:y,ctx:D}),b.$set(O),"digest"in D[22][D[57]]?k?k.p(D,y):(k=da(D),k.c(),k.m(a,null)):k&&(k.d(1),k=null)},i(D){w||(Y(b.$$.fragment,D),w=!0)},o(D){W(b.$$.fragment,D),w=!1},d(D){D&&c(e),pe(b),k&&k.d()}}}function Ku(s){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,r;function i(){return s[37](s[57])}return{c(){e=_("button"),e.innerHTML=t,this.h()},l(a){e=h(a,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-aeotdp"&&(e.innerHTML=t),this.h()},h(){f(e,"class","text-gray-800 dark:text-gray-100")},m(a,o){U(a,e,o),l||(r=ue(e,"click",i),l=!0)},p(a,o){s=a},d(a){a&&c(e),l=!1,r()}}}function da(s){let e,t=s[22][s[57]].digest+"",l;return{c(){e=_("div"),l=H(t),this.h()},l(r){e=h(r,"DIV",{class:!0,style:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","mt-1 text-xs dark:text-gray-500"),Zl(e,"font-size","0.5rem")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&4194304&&t!==(t=r[22][r[57]].digest+"")&&F(l,t)},d(r){r&&c(e)}}}function _a(s){let e,t,l="pullProgress"in s[22][s[57]]&&ca(s);return{c(){l&&l.c(),e=Lt()},l(r){l&&l.l(r),e=Lt()},m(r,i){l&&l.m(r,i),U(r,e,i),t=!0},p(r,i){"pullProgress"in r[22][r[57]]?l?(l.p(r,i),i[0]&4194304&&Y(l,1)):(l=ca(r),l.c(),Y(l,1),l.m(e.parentNode,e)):l&&(at(),W(l,1,1,()=>{l=null}),nt())},i(r){t||(Y(l),t=!0)},o(r){W(l),t=!1},d(r){r&&c(e),l&&l.d(r)}}}function ha(s){let e,t=s[23].t("Select a model")+"",l;return{c(){e=_("option"),l=H(t),this.h()},l(r){e=h(r,"OPTION",{});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){e.__value="",le(e,e.__value),e.disabled=!0,e.selected=!0},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&8388608&&t!==(t=r[23].t("Select a model")+"")&&F(l,t)},d(r){r&&c(e)}}}function pa(s){let e,t=s[57].name+" ("+(s[57].size/1073741824).toFixed(1)+" GB)",l,r;return{c(){e=_("option"),l=H(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var a=v(e);l=G(a,t),a.forEach(c),this.h()},h(){e.__value=r=s[57].id,le(e,e.__value),f(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,a){U(i,e,a),n(e,l)},p(i,a){a[0]&8&&t!==(t=i[57].name+" ("+(i[57].size/1024**3).toFixed(1)+" GB)")&&F(l,t),a[0]&8&&r!==(r=i[57].id)&&(e.__value=r,le(e,e.__value))},d(i){i&&c(e)}}}function va(s){let e,t,l,r,i,a,o,u,d=(s[13]??0)+"",E,g,p,m=s[12]&&ma(s);return{c(){e=_("div"),t=_("div"),l=H(createModelTag),r=A(),i=_("div"),a=_("div"),o=_("div"),u=_("div"),E=H(d),g=H("%"),p=A(),m&&m.c(),this.h()},l(b){e=h(b,"DIV",{class:!0});var I=v(e);t=h(I,"DIV",{class:!0});var T=v(t);l=G(T,createModelTag),T.forEach(c),r=$(I),i=h(I,"DIV",{class:!0});var w=v(i);a=h(w,"DIV",{class:!0});var k=v(a);o=h(k,"DIV",{class:!0});var D=v(o);u=h(D,"DIV",{class:!0,style:!0});var y=v(u);E=G(y,d),g=G(y,"%"),y.forEach(c),D.forEach(c),k.forEach(c),p=$(w),m&&m.l(w),w.forEach(c),I.forEach(c),this.h()},h(){f(t,"class","font-medium mb-1"),f(u,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Zl(u,"width",Math.max(15,s[13]??0)+"%"),f(o,"class","flex-1"),f(a,"class","flex flex-row justify-between space-x-4 pr-2"),f(i,"class",""),f(e,"class","flex flex-col mt-1")},m(b,I){U(b,e,I),n(e,t),n(t,l),n(e,r),n(e,i),n(i,a),n(a,o),n(o,u),n(u,E),n(u,g),n(i,p),m&&m.m(i,null)},p(b,I){I[0]&8192&&d!==(d=(b[13]??0)+"")&&F(E,d),I[0]&8192&&Zl(u,"width",Math.max(15,b[13]??0)+"%"),b[12]?m?m.p(b,I):(m=ma(b),m.c(),m.m(i,null)):m&&(m.d(1),m=null)},d(b){b&&c(e),m&&m.d()}}}function ma(s){let e,t;return{c(){e=_("div"),t=H(s[12]),this.h()},l(l){e=h(l,"DIV",{class:!0,style:!0});var r=v(e);t=G(r,s[12]),r.forEach(c),this.h()},h(){f(e,"class","mt-1 text-xs dark:text-gray-500"),Zl(e,"font-size","0.5rem")},m(l,r){U(l,e,r),n(e,t)},p(l,r){r[0]&4096&&F(t,l[12])},d(l){l&&c(e)}}}function ga(s){let e,t,l,r=s[23].t("Upload a GGUF model")+"",i,a,o,u,d,E,g,p,m,b,I=s[23].t("To access the GGUF models available for downloading,")+"",T,w,k,D=s[23].t("click here.")+"",y,O,N,S;function V(x,re){return x[14]==="file"?Fu:Yu}let M=V(s),R=M(s);function ee(x,re){return x[14]==="file"?Wu:qu}let Z=ee(s),C=Z(s),L=(s[14]==="file"&&s[15]&&s[15].length>0||s[14]==="url"&&s[16]!=="")&&Ea(s),P=(s[14]==="file"&&s[15]&&s[15].length>0||s[14]==="url"&&s[16]!=="")&&ba(s);function B(x,re){if(x[20])return xu;if(x[19]!==null)return Qu}let q=B(s),z=q&&q(s);return{c(){e=_("form"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("button"),R.c(),u=A(),d=_("div"),E=_("div"),C.c(),g=A(),L&&L.c(),p=A(),P&&P.c(),m=A(),b=_("div"),T=H(I),w=A(),k=_("a"),y=H(D),O=A(),z&&z.c(),this.h()},l(x){e=h(x,"FORM",{});var re=v(e);t=h(re,"DIV",{class:!0});var te=v(t);l=h(te,"DIV",{class:!0});var Q=v(l);i=G(Q,r),Q.forEach(c),a=$(te),o=h(te,"BUTTON",{class:!0,type:!0});var J=v(o);R.l(J),J.forEach(c),te.forEach(c),u=$(re),d=h(re,"DIV",{class:!0});var j=v(d);E=h(j,"DIV",{class:!0});var X=v(E);C.l(X),X.forEach(c),g=$(j),L&&L.l(j),j.forEach(c),p=$(re),P&&P.l(re),m=$(re),b=h(re,"DIV",{class:!0});var K=v(b);T=G(K,I),w=$(K),k=h(K,"A",{class:!0,href:!0,target:!0});var ie=v(k);y=G(ie,D),ie.forEach(c),K.forEach(c),O=$(re),z&&z.l(re),re.forEach(c),this.h()},h(){f(l,"class","text-sm font-medium"),f(o,"class","p-1 px-3 text-xs flex rounded-sm transition"),f(o,"type","button"),f(t,"class","mb-2 flex w-full justify-between"),f(E,"class","flex flex-col w-full"),f(d,"class","flex w-full mb-1.5"),f(k,"class","text-gray-500 dark:text-gray-300 font-medium underline"),f(k,"href","https://huggingface.co/models?search=gguf"),f(k,"target","_blank"),f(b,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(x,re){U(x,e,re),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),R.m(o,null),n(e,u),n(e,d),n(d,E),C.m(E,null),n(d,g),L&&L.m(d,null),n(e,p),P&&P.m(e,null),n(e,m),n(e,b),n(b,T),n(b,w),n(b,k),n(k,y),n(e,O),z&&z.m(e,null),N||(S=[ue(o,"click",s[44]),ue(e,"submit",Ml(s[51]))],N=!0)},p(x,re){re[0]&8388608&&r!==(r=x[23].t("Upload a GGUF model")+"")&&F(i,r),M===(M=V(x))&&R?R.p(x,re):(R.d(1),R=M(x),R&&(R.c(),R.m(o,null))),Z===(Z=ee(x))&&C?C.p(x,re):(C.d(1),C=Z(x),C&&(C.c(),C.m(E,null))),x[14]==="file"&&x[15]&&x[15].length>0||x[14]==="url"&&x[16]!==""?L?L.p(x,re):(L=Ea(x),L.c(),L.m(d,null)):L&&(L.d(1),L=null),x[14]==="file"&&x[15]&&x[15].length>0||x[14]==="url"&&x[16]!==""?P?P.p(x,re):(P=ba(x),P.c(),P.m(e,m)):P&&(P.d(1),P=null),re[0]&8388608&&I!==(I=x[23].t("To access the GGUF models available for downloading,")+"")&&F(T,I),re[0]&8388608&&D!==(D=x[23].t("click here.")+"")&&F(y,D),q===(q=B(x))&&z?z.p(x,re):(z&&z.d(1),z=q&&q(x),z&&(z.c(),z.m(e,null)))},d(x){x&&c(e),R.d(),C.d(),L&&L.d(),P&&P.d(),z&&z.d(),N=!1,zt(S)}}}function Yu(s){let e,t=s[23].t("URL Mode")+"",l;return{c(){e=_("span"),l=H(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&8388608&&t!==(t=r[23].t("URL Mode")+"")&&F(l,t)},d(r){r&&c(e)}}}function Fu(s){let e,t=s[23].t("File Mode")+"",l;return{c(){e=_("span"),l=H(t),this.h()},l(r){e=h(r,"SPAN",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","ml-2 self-center")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&8388608&&t!==(t=r[23].t("File Mode")+"")&&F(l,t)},d(r){r&&c(e)}}}function qu(s){let e,t,l,r,i,a,o;return{c(){e=_("div"),t=_("input"),this.h()},l(u){e=h(u,"DIV",{class:!0});var d=v(e);t=h(d,"INPUT",{class:!0,type:!0,placeholder:!0}),d.forEach(c),this.h()},h(){f(t,"class",l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden "+(s[16]!==""?"mr-2":"")),f(t,"type","url"),t.required=!0,f(t,"placeholder",r=s[23].t("Type Hugging Face Resolve (Download) URL")),f(e,"class",i="flex-1 "+(s[16]!==""?"mr-2":""))},m(u,d){U(u,e,d),n(e,t),le(t,s[16]),a||(o=ue(t,"input",s[49]),a=!0)},p(u,d){d[0]&65536&&l!==(l="w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden "+(u[16]!==""?"mr-2":""))&&f(t,"class",l),d[0]&8388608&&r!==(r=u[23].t("Type Hugging Face Resolve (Download) URL"))&&f(t,"placeholder",r),d[0]&65536&&t.value!==u[16]&&le(t,u[16]),d[0]&65536&&i!==(i="flex-1 "+(u[16]!==""?"mr-2":""))&&f(e,"class",i)},d(u){u&&c(e),a=!1,o()}}}function Wu(s){let e,t,l,r,i,a,o;function u(g,p){return g[15]&&g[15].length>0?Ju:Zu}let d=u(s),E=d(s);return{c(){e=_("div"),t=_("input"),l=A(),r=_("button"),E.c(),this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);t=h(p,"INPUT",{id:!0,type:!0,accept:!0}),l=$(p),r=h(p,"BUTTON",{type:!0,class:!0});var m=v(r);E.l(m),m.forEach(c),p.forEach(c),this.h()},h(){f(t,"id","model-upload-input"),f(t,"type","file"),f(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,f(r,"type","button"),f(r,"class","w-full rounded-lg text-left py-2 px-4 bg-gray-50 dark:text-gray-300 dark:bg-gray-850"),f(e,"class",i="flex-1 "+(s[15]&&s[15].length>0?"mr-2":""))},m(g,p){U(g,e,p),n(e,t),s[45](t),n(e,l),n(e,r),E.m(r,null),a||(o=[ue(t,"change",s[46]),ue(t,"change",s[47]),ue(r,"click",s[48])],a=!0)},p(g,p){d===(d=u(g))&&E?E.p(g,p):(E.d(1),E=d(g),E&&(E.c(),E.m(r,null))),p[0]&32768&&i!==(i="flex-1 "+(g[15]&&g[15].length>0?"mr-2":""))&&f(e,"class",i)},d(g){g&&c(e),s[45](null),E.d(),a=!1,zt(o)}}}function Zu(s){let e=s[23].t("Click here to select")+"",t;return{c(){t=H(e)},l(l){t=G(l,e)},m(l,r){U(l,t,r)},p(l,r){r[0]&8388608&&e!==(e=l[23].t("Click here to select")+"")&&F(t,e)},d(l){l&&c(t)}}}function Ju(s){let e=s[15][0].name+"",t;return{c(){t=H(e)},l(l){t=G(l,e)},m(l,r){U(l,t,r)},p(l,r){r[0]&32768&&e!==(e=l[15][0].name+"")&&F(t,e)},d(l){l&&c(t)}}}function Ea(s){let e;function t(i,a){return i[7]?Xu:zu}let l=t(s),r=l(s);return{c(){e=_("button"),r.c(),this.h()},l(i){e=h(i,"BUTTON",{class:!0,type:!0});var a=v(e);r.l(a),a.forEach(c),this.h()},h(){f(e,"class","px-2.5 bg-gray-50 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg disabled:cursor-not-allowed transition"),f(e,"type","submit"),e.disabled=s[7]},m(i,a){U(i,e,a),r.m(e,null)},p(i,a){l!==(l=t(i))&&(r.d(1),r=l(i),r&&(r.c(),r.m(e,null))),a[0]&128&&(e.disabled=i[7])},d(i){i&&c(e),r.d()}}}function zu(s){let e,t,l;return{c(){e=Zt("svg"),t=Zt("path"),l=Zt("path"),this.h()},l(r){e=Jt(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=Jt(i,"path",{d:!0}),v(t).forEach(c),l=Jt(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){f(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),f(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 16 16"),f(e,"fill","currentColor"),f(e,"class","w-4 h-4")},m(r,i){U(r,e,i),n(e,t),n(e,l)},d(r){r&&c(e)}}}function Xu(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
														transform-origin: center;
														animation: spinner_AtaB 0.75s infinite linear;
													}

													@keyframes spinner_AtaB {
														100% {
															transform: rotate(360deg);
														}
													}
												</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-j1a4yh"&&(e.innerHTML=t),this.h()},h(){f(e,"class","self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function ba(s){let e,t,l,r=s[23].t("Modelfile Content")+"",i,a,o,u,d;return{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("textarea"),this.h()},l(E){e=h(E,"DIV",{});var g=v(e);t=h(g,"DIV",{});var p=v(t);l=h(p,"DIV",{class:!0});var m=v(l);i=G(m,r),m.forEach(c),a=$(p),o=h(p,"TEXTAREA",{class:!0,rows:!0}),v(o).forEach(c),p.forEach(c),g.forEach(c),this.h()},h(){f(l,"class","my-2.5 text-sm font-medium"),f(o,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-100 dark:bg-gray-850 outline-hidden resize-none"),f(o,"rows","6")},m(E,g){U(E,e,g),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),le(o,s[17]),u||(d=ue(o,"input",s[50]),u=!0)},p(E,g){g[0]&8388608&&r!==(r=E[23].t("Modelfile Content")+"")&&F(i,r),g[0]&131072&&le(o,E[17])},d(E){E&&c(e),u=!1,d()}}}function Qu(s){let e,t,l=s[23].t("Upload Progress")+"",r,i,a,o,u=(s[19]??0)+"",d,E,g,p,m;return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("div"),d=H(u),E=H("%"),g=A(),p=_("div"),m=H(s[18]),this.h()},l(b){e=h(b,"DIV",{class:!0});var I=v(e);t=h(I,"DIV",{class:!0});var T=v(t);r=G(T,l),T.forEach(c),i=$(I),a=h(I,"DIV",{class:!0});var w=v(a);o=h(w,"DIV",{class:!0,style:!0});var k=v(o);d=G(k,u),E=G(k,"%"),k.forEach(c),w.forEach(c),g=$(I),p=h(I,"DIV",{class:!0,style:!0});var D=v(p);m=G(D,s[18]),D.forEach(c),I.forEach(c),this.h()},h(){f(t,"class","mb-2 text-xs"),f(o,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Zl(o,"width",Math.max(15,s[19]??0)+"%"),f(a,"class","w-full rounded-full dark:bg-gray-800"),f(p,"class","mt-1 text-xs dark:text-gray-500"),Zl(p,"font-size","0.5rem"),f(e,"class","mt-2")},m(b,I){U(b,e,I),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,d),n(o,E),n(e,g),n(e,p),n(p,m)},p(b,I){I[0]&8388608&&l!==(l=b[23].t("Upload Progress")+"")&&F(r,l),I[0]&524288&&u!==(u=(b[19]??0)+"")&&F(d,u),I[0]&524288&&Zl(o,"width",Math.max(15,b[19]??0)+"%"),I[0]&262144&&F(m,b[18])},d(b){b&&c(e)}}}function xu(s){let e,t,l=s[23].t("Upload Progress")+"",r,i,a,o,u,d,E,g;return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("div"),u=H(s[20]),d=A(),E=_("div"),g=H(s[18]),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var b=v(t);r=G(b,l),b.forEach(c),i=$(m),a=h(m,"DIV",{class:!0});var I=v(a);o=h(I,"DIV",{class:!0,style:!0});var T=v(o);u=G(T,s[20]),T.forEach(c),I.forEach(c),d=$(m),E=h(m,"DIV",{class:!0,style:!0});var w=v(E);g=G(w,s[18]),w.forEach(c),m.forEach(c),this.h()},h(){f(t,"class","mb-2 text-xs"),f(o,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Zl(o,"width","100%"),f(a,"class","w-full rounded-full dark:bg-gray-800"),f(E,"class","mt-1 text-xs dark:text-gray-500"),Zl(E,"font-size","0.5rem"),f(e,"class","mt-2")},m(p,m){U(p,e,m),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,u),n(e,d),n(e,E),n(E,g)},p(p,m){m[0]&8388608&&l!==(l=p[23].t("Upload Progress")+"")&&F(r,l),m[0]&1048576&&F(u,p[20]),m[0]&262144&&F(g,p[18])},d(p){p&&c(e)}}}function ef(s){let e,t,l,r,i,a,o;function u(m){s[32](m)}let d={};s[1]!==void 0&&(d.show=s[1]),e=new Us({props:d}),Je.push(()=>Qe(e,"show",u)),e.$on("confirm",s[33]);const E=[Bu,Cu,Uu],g=[];function p(m,b){return m[2]?m[3]===null?1:2:0}return r=p(s),i=g[r]=E[r](s),{c(){de(e.$$.fragment),l=A(),i.c(),a=Lt()},l(m){_e(e.$$.fragment,m),l=$(m),i.l(m),a=Lt()},m(m,b){he(e,m,b),U(m,l,b),g[r].m(m,b),U(m,a,b),o=!0},p(m,b){const I={};!t&&b[0]&2&&(t=!0,I.show=m[1],Xe(()=>t=!1)),e.$set(I);let T=r;r=p(m),r===T?g[r].p(m,b):(at(),W(g[T],1,1,()=>{g[T]=null}),nt(),i=g[r],i?i.p(m,b):(i=g[r]=E[r](m),i.c()),Y(i,1),i.m(a.parentNode,a))},i(m){o||(Y(e.$$.fragment,m),Y(i),o=!0)},o(m){W(e.$$.fragment,m),W(i),o=!1},d(m){m&&(c(l),c(a)),pe(e,m),g[r].d(m)}}}const tf=3;function lf(s,e,t){let l,r,i,a;Vt(s,Ts,se=>t(54,l=se)),Vt(s,Pl,se=>t(55,r=se)),Vt(s,Is,se=>t(22,i=se));const o=bl("i18n");Vt(s,o,se=>t(23,a=se));let u,d=!1,E=!0,{urlIdx:g=null}=e,p=[],m=null,b=null,I=!1,T=!1,w="",k=!1,D="",y="",O="",N=null,S="",V=null,M="file",R=null,ee="",Z=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,C="",L=null,P="",B="";const q=async()=>{for(const se of p){console.log(se),t(4,m=se.id);const[Ae,Ue]=await Ws(localStorage.token,se.id,g).catch(Le=>(Ge.error(`${Le}`),null));if(Ae){const Le=Ae.body.pipeThrough(new TextDecoderStream).pipeThrough(Rs(`
`)).getReader();for(;;)try{const{value:Ce,done:Ze}=await Le.read();if(Ze)break;let We=Ce.split(`
`);for(const xe of We)if(xe!==""){let Be=JSON.parse(xe);if(console.log(Be),Be.error)throw Be.error;if(Be.detail)throw Be.detail;Be.status&&(Be.digest?(t(5,b=0),Be.completed?t(5,b=Math.round(Be.completed/Be.total*1e3)/10):t(5,b=100)):Ge.success(Be.status))}}catch(Ce){console.log(Ce)}}}t(4,m=null),t(5,b=null)},z=async()=>{var Le;const se=w.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(i),i[se]){Ge.error(a.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:se}));return}if(Object.keys(i).length===tf){Ge.error(a.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[Ae,Ue]=await Ws(localStorage.token,se,g).catch(Ce=>(Ge.error(`${Ce}`),null));if(Ae){const Ce=Ae.body.pipeThrough(new TextDecoderStream).pipeThrough(Rs(`
`)).getReader();for(Is.set({...i,[se]:{...i[se],abortController:Ue,reader:Ce,done:!1}});;)try{const{value:Ze,done:We}=await Ce.read();if(We)break;let xe=Ze.split(`
`);for(const Be of xe)if(Be!==""){let Ee=JSON.parse(Be);if(console.log(Ee),Ee.error)throw Ee.error;if(Ee.detail)throw Ee.detail;if(Ee.status)if(Ee.digest){let Oe=0;Ee.completed?Oe=Math.round(Ee.completed/Ee.total*1e3)/10:Oe=100,Is.set({...i,[se]:{...i[se],pullProgress:Oe,digest:Ee.digest}})}else Ge.success(Ee.status),Is.set({...i,[se]:{...i[se],done:Ee.status==="success"}})}}catch(Ze){console.log(Ze),typeof Ze!="string"&&(Ze=Ze.message),Ge.error(`${Ze}`)}console.log(i[se]),i[se].done?(Ge.success(a.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:se})),Tl.set(await Ol(localStorage.token,((Le=r==null?void 0:r.features)==null?void 0:Le.enable_direct_connections)&&((l==null?void 0:l.directConnections)??null)))):Ge.error(a.t("Download canceled")),delete i[se],Is.set({...i})}t(8,w=""),t(7,T=!1)},x=async()=>{var Le;t(7,T=!0);let se=!1,Ae=null,Ue="";if(M==="file"){const Ce=R?R[0]:null;Ce&&(t(20,P="Uploading..."),Ae=await Di(localStorage.token,Ce,g).catch(Ze=>(Ge.error(`${Ze}`),null)))}else t(19,L=0),Ae=await yi(localStorage.token,ee,g).catch(Ce=>(Ge.error(`${Ce}`),null));if(Ae&&Ae.ok){const Ce=Ae.body.pipeThrough(new TextDecoderStream).pipeThrough(Rs(`
`)).getReader();for(;;){const{value:Ze,done:We}=await Ce.read();if(We)break;try{let xe=Ze.split(`
`);for(const Be of xe)if(Be!==""){let Ee=JSON.parse(Be.replace(/^data: /,""));if(Ee.progress&&(P&&t(20,P=""),t(19,L=Ee.progress)),Ee.error)throw Ee.error;Ee.done&&(t(18,C=Ee.blob),Ue=Ee.name,se=!0)}}catch(xe){console.log(xe)}}}else{const Ce=await(Ae==null?void 0:Ae.json());Ge.error((Ce==null?void 0:Ce.detail)??Ce)}if(se){const Ce=await Js(localStorage.token,`${Ue}:latest`,`FROM @${C}
${Z}`);if(Ce&&Ce.ok){const Ze=Ce.body.pipeThrough(new TextDecoderStream).pipeThrough(Rs(`
`)).getReader();for(;;){const{value:We,done:xe}=await Ze.read();if(xe)break;try{let Be=We.split(`
`);for(const Ee of Be)if(Ee!==""){console.log(Ee);let Oe=JSON.parse(Ee);if(console.log(Oe),Oe.error)throw Oe.error;if(Oe.detail)throw Oe.detail;Oe.status&&(!Oe.digest&&!Oe.status.includes("writing")&&!Oe.status.includes("sha256")?Ge.success(Oe.status):Oe.digest&&(S=Oe.digest,Oe.completed?V=Math.round(Oe.completed/Oe.total*1e3)/10:V=100))}}catch(Be){console.log(Be),Ge.error(`${Be}`)}}}}t(16,ee=""),u&&t(0,u.value="",u),t(15,R=null),t(7,T=!1),t(19,L=null),Tl.set(await Ol(localStorage.token,((Le=r==null?void 0:r.features)==null?void 0:Le.enable_direct_connections)&&((l==null?void 0:l.directConnections)??null)))},re=async()=>{var Ae;await Zs(localStorage.token,B,g).catch(Ue=>{Ge.error(`${Ue}`)})&&Ge.success(a.t("Deleted {{deleteModelTag}}",{deleteModelTag:B})),t(21,B=""),Tl.set(await Ol(localStorage.token,((Ae=r==null?void 0:r.features)==null?void 0:Ae.enable_direct_connections)&&((l==null?void 0:l.directConnections)??null)))},te=async se=>{const{reader:Ae,abortController:Ue}=i[se];Ue&&Ue.abort(),Ae&&(await Ae.cancel(),delete i[se],Is.set({...i}),await Zs(localStorage.token,se),Ge.success(`${se} download has been canceled`))},Q=async()=>{var Ue;t(9,k=!0);let se={};try{se=JSON.parse(y)}catch(Le){Ge.error(`${Le}`),t(9,k=!1);return}const Ae=await Js(localStorage.token,{model:D,...se},g).catch(Le=>(Ge.error(`${Le}`),null));if(Ae&&Ae.ok){const Le=Ae.body.pipeThrough(new TextDecoderStream).pipeThrough(Rs(`
`)).getReader();for(;;){const{value:Ce,done:Ze}=await Le.read();if(Ze)break;try{let We=Ce.split(`
`);for(const xe of We)if(xe!==""){console.log(xe);let Be=JSON.parse(xe);if(console.log(Be),Be.error)throw Be.error;if(Be.detail)throw Be.detail;Be.status&&(!Be.digest&&!Be.status.includes("writing")&&!Be.status.includes("sha256")?Ge.success(Be.status):Be.digest&&(t(12,O=Be.digest),Be.completed?t(13,N=Math.round(Be.completed/Be.total*1e3)/10):t(13,N=100)))}}catch(We){console.log(We),Ge.error(`${We}`)}}}Tl.set(await Ol(localStorage.token,((Ue=r==null?void 0:r.features)==null?void 0:Ue.enable_direct_connections)&&((l==null?void 0:l.directConnections)??null))),t(9,k=!1),t(10,D=""),t(11,y=""),t(12,O=""),t(13,N=null)},J=async()=>{t(2,E=!0),t(3,p=await Ti(localStorage.token,g).catch(se=>(Ge.error(`${se}`),null))),p&&t(2,E=!1)};function j(se){d=se,t(1,d)}const X=()=>{re()},K=()=>{q()};function ie(){w=this.value,t(8,w)}const fe=()=>{z()},ne=se=>{te(se)};function Ie(){B=vl(this),t(21,B),t(3,p)}const ke=()=>{t(1,d=!0)};function be(){D=this.value,t(10,D)}function ce(){y=this.value,t(11,y)}const ae=()=>{Q()},ve=()=>{t(6,I=!I)},Te=()=>{M==="file"?t(14,M="url"):t(14,M="file")};function ge(se){Je[se?"unshift":"push"](()=>{u=se,t(0,u)})}function $e(){R=this.files,t(15,R)}const Ve=()=>{console.log(R)},oe=()=>{u.click()};function we(){ee=this.value,t(16,ee)}function De(){Z=this.value,t(17,Z)}const Ne=()=>{x()};return s.$$set=se=>{"urlIdx"in se&&t(31,g=se.urlIdx)},s.$$.update=()=>{s.$$.dirty[1]&1&&g!==null&&J()},[u,d,E,p,m,b,I,T,w,k,D,y,O,N,M,R,ee,Z,C,L,P,B,i,a,o,q,z,x,re,te,Q,g,j,X,K,ie,fe,ne,Ie,ke,be,ce,ae,ve,Te,ge,$e,Ve,oe,we,De,Ne]}class sf extends _l{constructor(e){super(),hl(this,e,lf,ef,dl,{urlIdx:31},null,[-1,-1,-1])}}function Ia(s,e,t){const l=s.slice();return l[5]=e[t],l[7]=t,l}function wa(s){let e,t,l,r,i,a,o,u,d=st(s[0].OLLAMA_BASE_URLS),E=[];for(let g=0;g<d.length;g+=1)E[g]=ka(Ia(s,d,g));return i=new sf({props:{urlIdx:s[1]}}),{c(){e=_("div"),t=_("select");for(let g=0;g<E.length;g+=1)E[g].c();r=A(),de(i.$$.fragment),this.h()},l(g){e=h(g,"DIV",{class:!0});var p=v(e);t=h(p,"SELECT",{class:!0,placeholder:!0});var m=v(t);for(let b=0;b<E.length;b+=1)E[b].l(m);m.forEach(c),p.forEach(c),r=$(g),_e(i.$$.fragment,g),this.h()},h(){f(t,"class","w-full py-2 px-4 text-sm outline-hidden bg-transparent"),f(t,"placeholder",l=s[2].t("Select an Ollama instance")),s[1]===void 0&&ml(()=>s[4].call(t)),f(e,"class","flex-1 mb-2.5 pr-1.5 rounded-lg bg-gray-50 dark:text-gray-300 dark:bg-gray-850")},m(g,p){U(g,e,p),n(e,t);for(let m=0;m<E.length;m+=1)E[m]&&E[m].m(t,null);yt(t,s[1],!0),U(g,r,p),he(i,g,p),a=!0,o||(u=ue(t,"change",s[4]),o=!0)},p(g,p){if(p&1){d=st(g[0].OLLAMA_BASE_URLS);let b;for(b=0;b<d.length;b+=1){const I=Ia(g,d,b);E[b]?E[b].p(I,p):(E[b]=ka(I),E[b].c(),E[b].m(t,null))}for(;b<E.length;b+=1)E[b].d(1);E.length=d.length}(!a||p&4&&l!==(l=g[2].t("Select an Ollama instance")))&&f(t,"placeholder",l),p&2&&yt(t,g[1]);const m={};p&2&&(m.urlIdx=g[1]),i.$set(m)},i(g){a||(Y(i.$$.fragment,g),a=!0)},o(g){W(i.$$.fragment,g),a=!1},d(g){g&&(c(e),c(r)),xt(E,g),pe(i,g),o=!1,u()}}}function ka(s){let e,t=s[5]+"",l;return{c(){e=_("option"),l=H(t),this.h()},l(r){e=h(r,"OPTION",{});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){e.__value=s[7],le(e,e.__value)},m(r,i){U(r,e,i),n(e,l)},p(r,i){i&1&&t!==(t=r[5]+"")&&F(l,t)},d(r){r&&c(e)}}}function rf(s){let e,t,l=s[0]&&wa(s);return{c(){l&&l.c(),e=Lt()},l(r){l&&l.l(r),e=Lt()},m(r,i){l&&l.m(r,i),U(r,e,i),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&Y(l,1)):(l=wa(r),l.c(),Y(l,1),l.m(e.parentNode,e)):l&&(at(),W(l,1,1,()=>{l=null}),nt())},i(r){t||(Y(l),t=!0)},o(r){W(l),t=!1},d(r){r&&c(e),l&&l.d(r)}}}function af(s,e,t){let l;const r=bl("i18n");Vt(s,r,u=>t(2,l=u));let{ollamaConfig:i=null}=e,a=0;function o(){a=vl(this),t(1,a)}return s.$$set=u=>{"ollamaConfig"in u&&t(0,i=u.ollamaConfig)},[i,a,l,r,o]}class nf extends _l{constructor(e){super(),hl(this,e,af,rf,dl,{ollamaConfig:0})}}function of(s){let e,t,l;return t=new ls({}),{c(){e=_("div"),de(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){f(e,"class","py-5")},m(r,i){U(r,e,i),he(t,e,null),l=!0},p:tt,i(r){l||(Y(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t)}}}function uf(s){let e,t,l,r=s[3].t("Ollama")+"",i,a,o,u,d,E,g,p=s[1]==="ollama"&&Ta(s);return{c(){e=_("div"),t=_("div"),l=_("button"),i=H(r),o=A(),u=_("div"),p&&p.c(),this.h()},l(m){e=h(m,"DIV",{class:!0});var b=v(e);t=h(b,"DIV",{class:!0});var I=v(t);l=h(I,"BUTTON",{class:!0});var T=v(l);i=G(T,r),T.forEach(c),I.forEach(c),o=$(b),u=h(b,"DIV",{class:!0});var w=v(u);p&&p.l(w),w.forEach(c),b.forEach(c),this.h()},h(){f(l,"class",a="min-w-fit rounded-full p-1.5 "+(s[1]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),f(t,"class","flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200"),f(u,"class","px-1.5 py-1"),f(e,"class","flex w-full flex-col")},m(m,b){U(m,e,b),n(e,t),n(t,l),n(l,i),n(e,o),n(e,u),p&&p.m(u,null),d=!0,E||(g=ue(l,"click",s[6]),E=!0)},p(m,b){(!d||b&8)&&r!==(r=m[3].t("Ollama")+"")&&F(i,r),(!d||b&2&&a!==(a="min-w-fit rounded-full p-1.5 "+(m[1]==="ollama"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"))&&f(l,"class",a),m[1]==="ollama"?p?(p.p(m,b),b&2&&Y(p,1)):(p=Ta(m),p.c(),Y(p,1),p.m(u,null)):p&&(at(),W(p,1,1,()=>{p=null}),nt())},i(m){d||(Y(p),d=!0)},o(m){W(p),d=!1},d(m){m&&c(e),p&&p.d(),E=!1,g()}}}function ff(s){let e,t,l=s[3].t("No inference engine with management support found")+"",r;return{c(){e=_("div"),t=_("div"),r=H(l),this.h()},l(i){e=h(i,"DIV",{class:!0});var a=v(e);t=h(a,"DIV",{});var o=v(t);r=G(o,l),o.forEach(c),a.forEach(c),this.h()},h(){f(e,"class","py-5 text-gray-400 text-xs")},m(i,a){U(i,e,a),n(e,t),n(t,r)},p(i,a){a&8&&l!==(l=i[3].t("No inference engine with management support found")+"")&&F(r,l)},i:tt,o:tt,d(i){i&&c(e)}}}function Ta(s){let e,t;return e=new nf({props:{ollamaConfig:s[2]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p(l,r){const i={};r&4&&(i.ollamaConfig=l[2]),e.$set(i)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function cf(s){let e,t,l,r=s[3].t("Manage Models")+"",i,a,o,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,E,g,p,m,b,I,T;const w=[ff,uf,of],k=[];function D(y,O){return y[1]===""?0:y[1]!==null?1:2}return p=D(s),m=k[p]=w[p](s),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("button"),o.innerHTML=u,d=A(),E=_("div"),g=_("div"),m.c(),this.h()},l(y){e=h(y,"DIV",{});var O=v(e);t=h(O,"DIV",{class:!0});var N=v(t);l=h(N,"DIV",{class:!0});var S=v(l);i=G(S,r),S.forEach(c),a=$(N),o=h(N,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(o)!=="svelte-745w2y"&&(o.innerHTML=u),N.forEach(c),d=$(O),E=h(O,"DIV",{class:!0});var V=v(E);g=h(V,"DIV",{class:!0});var M=v(g);m.l(M),M.forEach(c),V.forEach(c),O.forEach(c),this.h()},h(){f(l,"class","text-lg font-medium self-center font-primary"),f(o,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4"),f(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(E,"class","flex flex-col md:flex-row w-full px-3 pb-4 md:space-x-4 dark:text-gray-200")},m(y,O){U(y,e,O),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(e,d),n(e,E),n(E,g),k[p].m(g,null),b=!0,I||(T=ue(o,"click",s[5]),I=!0)},p(y,O){(!b||O&8)&&r!==(r=y[3].t("Manage Models")+"")&&F(i,r);let N=p;p=D(y),p===N?k[p].p(y,O):(at(),W(k[N],1,1,()=>{k[N]=null}),nt(),m=k[p],m?m.p(y,O):(m=k[p]=w[p](y),m.c()),Y(m,1),m.m(g,null))},i(y){b||(Y(m),b=!0)},o(y){W(m),b=!1},d(y){y&&c(e),k[p].d(),I=!1,T()}}}function df(s){let e,t,l;function r(a){s[7](a)}let i={size:"sm",$$slots:{default:[cf]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Cs({props:i}),Je.push(()=>Qe(e,"show",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,[o]){const u={};o&1039&&(u.$$scope={dirty:o,ctx:a}),!t&&o&1&&(t=!0,u.show=a[0],Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function _f(s,e,t){let l,r;Vt(s,Ds,p=>t(8,l=p));const i=bl("i18n");Vt(s,i,p=>t(3,r=p)),zl();let{show:a=!1}=e,o=null,u=null;Vl(async()=>{if(l.role==="admin"){if(await Promise.all([(async()=>{t(2,u=await In(localStorage.token))})()]),u){t(1,o="ollama");return}t(1,o="")}});const d=()=>{t(0,a=!1)},E=()=>{t(1,o="ollama")};function g(p){a=p,t(0,a)}return s.$$set=p=>{"show"in p&&t(0,a=p.show)},[a,o,u,r,i,d,E,g]}class hf extends _l{constructor(e){super(),hl(this,e,_f,df,dl,{show:0})}}function Da(s,e,t){const l=s.slice();return l[37]=e[t],l[38]=e,l[39]=t,l}function pf(s){let e,t,l;return t=new ls({}),{c(){e=_("div"),de(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){f(e,"class","h-full w-full flex justify-center items-center")},m(r,i){U(r,e,i),he(t,e,null),l=!0},p:tt,i(r){l||(Y(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t)}}}function vf(s){let e,t,l,r;const i=[gf,mf],a=[];function o(u,d){return u[5]===null?0:1}return e=o(s),t=a[e]=i[e](s),{c(){t.c(),l=Lt()},l(u){t.l(u),l=Lt()},m(u,d){a[e].m(u,d),U(u,l,d),r=!0},p(u,d){let E=e;e=o(u),e===E?a[e].p(u,d):(at(),W(a[E],1,1,()=>{a[E]=null}),nt(),t=a[e],t?t.p(u,d):(t=a[e]=i[e](u),t.c()),Y(t,1),t.m(l.parentNode,l))},i(u){r||(Y(t),r=!0)},o(u){W(t),r=!1},d(u){u&&c(l),a[e].d(u)}}}function mf(s){let e,t;return e=new Ei({props:{edit:!0,model:s[0].find(s[31]),preset:!1,onSubmit:s[32],onBack:s[33]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p(l,r){const i={};r[0]&33&&(i.model=l[0].find(l[31])),r[0]&32&&(i.onSubmit=l[32]),r[0]&32&&(i.onBack=l[33]),e.$set(i)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function gf(s){var Q;let e,t,l,r=s[10].t("Models")+"",i,a,o,u,d,E=s[4].length+"",g,p,m,b,I,T,w,k,D,y,O,N,S,V,M,R,ee,Z,C,L,P,B,q;b=new Ot({props:{content:s[10].t("Manage Models"),$$slots:{default:[Ef]},$$scope:{ctx:s}}}),T=new Ot({props:{content:s[10].t("Settings"),$$slots:{default:[bf]},$$scope:{ctx:s}}}),O=new gi({props:{className:"size-3.5"}});const z=[wf,If],x=[];function re(J,j){return J[0].length>0?0:1}ee=re(s),Z=x[ee]=z[ee](s);let te=((Q=s[11])==null?void 0:Q.role)==="admin"&&Aa(s);return{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("div"),u=A(),d=_("span"),g=H(E),p=A(),m=_("div"),de(b.$$.fragment),I=A(),de(T.$$.fragment),w=A(),k=_("div"),D=_("div"),y=_("div"),de(O.$$.fragment),N=A(),S=_("input"),M=A(),R=_("div"),Z.c(),C=A(),te&&te.c(),L=Lt(),this.h()},l(J){e=h(J,"DIV",{class:!0});var j=v(e);t=h(j,"DIV",{class:!0});var X=v(t);l=h(X,"DIV",{class:!0});var K=v(l);i=G(K,r),a=$(K),o=h(K,"DIV",{class:!0}),v(o).forEach(c),u=$(K),d=h(K,"SPAN",{class:!0});var ie=v(d);g=G(ie,E),ie.forEach(c),K.forEach(c),p=$(X),m=h(X,"DIV",{class:!0});var fe=v(m);_e(b.$$.fragment,fe),I=$(fe),_e(T.$$.fragment,fe),fe.forEach(c),X.forEach(c),w=$(j),k=h(j,"DIV",{class:!0});var ne=v(k);D=h(ne,"DIV",{class:!0});var Ie=v(D);y=h(Ie,"DIV",{class:!0});var ke=v(y);_e(O.$$.fragment,ke),ke.forEach(c),N=$(Ie),S=h(Ie,"INPUT",{class:!0,placeholder:!0}),Ie.forEach(c),ne.forEach(c),j.forEach(c),M=$(J),R=h(J,"DIV",{class:!0,id:!0});var be=v(R);Z.l(be),be.forEach(c),C=$(J),te&&te.l(J),L=Lt(),this.h()},h(){f(o,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),f(d,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),f(l,"class","flex items-center md:self-center text-xl font-medium px-0.5"),f(m,"class","flex items-center gap-1.5"),f(t,"class","flex justify-between items-center"),f(y,"class","self-center ml-1 mr-3"),f(S,"class","w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent"),f(S,"placeholder",V=s[10].t("Search Models")),f(D,"class","flex flex-1 items-center"),f(k,"class","flex flex-1 items-center w-full space-x-2"),f(e,"class","flex flex-col gap-1 mt-1.5 mb-2"),f(R,"class","my-2 mb-5"),f(R,"id","model-list")},m(J,j){U(J,e,j),n(e,t),n(t,l),n(l,i),n(l,a),n(l,o),n(l,u),n(l,d),n(d,g),n(t,p),n(t,m),he(b,m,null),n(m,I),he(T,m,null),n(e,w),n(e,k),n(k,D),n(D,y),he(O,y,null),n(D,N),n(D,S),le(S,s[1]),U(J,M,j),U(J,R,j),x[ee].m(R,null),U(J,C,j),te&&te.m(J,j),U(J,L,j),P=!0,B||(q=ue(S,"input",s[21]),B=!0)},p(J,j){var fe;(!P||j[0]&1024)&&r!==(r=J[10].t("Models")+"")&&F(i,r),(!P||j[0]&16)&&E!==(E=J[4].length+"")&&F(g,E);const X={};j[0]&1024&&(X.content=J[10].t("Manage Models")),j[0]&128|j[1]&512&&(X.$$scope={dirty:j,ctx:J}),b.$set(X);const K={};j[0]&1024&&(K.content=J[10].t("Settings")),j[0]&64|j[1]&512&&(K.$$scope={dirty:j,ctx:J}),T.$set(K),(!P||j[0]&1024&&V!==(V=J[10].t("Search Models")))&&f(S,"placeholder",V),j[0]&2&&S.value!==J[1]&&le(S,J[1]);let ie=ee;ee=re(J),ee===ie?x[ee].p(J,j):(at(),W(x[ie],1,1,()=>{x[ie]=null}),nt(),Z=x[ee],Z?Z.p(J,j):(Z=x[ee]=z[ee](J),Z.c()),Y(Z,1),Z.m(R,null)),((fe=J[11])==null?void 0:fe.role)==="admin"?te?te.p(J,j):(te=Aa(J),te.c(),te.m(L.parentNode,L)):te&&(te.d(1),te=null)},i(J){P||(Y(b.$$.fragment,J),Y(T.$$.fragment,J),Y(O.$$.fragment,J),Y(Z),P=!0)},o(J){W(b.$$.fragment,J),W(T.$$.fragment,J),W(O.$$.fragment,J),W(Z),P=!1},d(J){J&&(c(e),c(M),c(R),c(C),c(L)),pe(b),pe(T),pe(O),x[ee].d(),te&&te.d(J),B=!1,q()}}}function Ef(s){let e,t,l,r,i;return t=new ki({}),{c(){e=_("button"),de(t.$$.fragment),this.h()},l(a){e=h(a,"BUTTON",{class:!0,type:!0});var o=v(e);_e(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","p-1 rounded-full flex gap-1 items-center"),f(e,"type","button")},m(a,o){U(a,e,o),he(t,e,null),l=!0,r||(i=ue(e,"click",s[19]),r=!0)},p:tt,i(a){l||(Y(t.$$.fragment,a),l=!0)},o(a){W(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t),r=!1,i()}}}function bf(s){let e,t,l,r,i;return t=new Gs({}),{c(){e=_("button"),de(t.$$.fragment),this.h()},l(a){e=h(a,"BUTTON",{class:!0,type:!0});var o=v(e);_e(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","p-1 rounded-full flex gap-1 items-center"),f(e,"type","button")},m(a,o){U(a,e,o),he(t,e,null),l=!0,r||(i=ue(e,"click",s[20]),r=!0)},p:tt,i(a){l||(Y(t.$$.fragment,a),l=!0)},o(a){W(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t),r=!1,i()}}}function If(s){let e,t,l=s[10].t("No models found")+"",r;return{c(){e=_("div"),t=_("div"),r=H(l),this.h()},l(i){e=h(i,"DIV",{class:!0});var a=v(e);t=h(a,"DIV",{class:!0});var o=v(t);r=G(o,l),o.forEach(c),a.forEach(c),this.h()},h(){f(t,"class","text-gray-500 dark:text-gray-400 text-xs"),f(e,"class","flex flex-col items-center justify-center w-full h-20")},m(i,a){U(i,e,a),n(e,t),n(t,r)},p(i,a){a[0]&1024&&l!==(l=i[10].t("No models found")+"")&&F(r,l)},i:tt,o:tt,d(i){i&&c(e)}}}function wf(s){let e=[],t=new Map,l,r,i=st(s[4]);const a=o=>o[37].id;for(let o=0;o<i.length;o+=1){let u=Da(s,i,o),d=a(u);t.set(d,e[o]=ya(d,u))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=Lt()},l(o){for(let u=0;u<e.length;u+=1)e[u].l(o);l=Lt()},m(o,u){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(o,u);U(o,l,u),r=!0},p(o,u){u[0]&66608&&(i=st(o[4]),at(),e=gn(e,u,a,1,o,i,t,l.parentNode,En,ya,l,Da),nt())},i(o){if(!r){for(let u=0;u<i.length;u+=1)Y(e[u]);r=!0}},o(o){for(let u=0;u<e.length;u+=1)W(e[u]);r=!1},d(o){o&&c(l);for(let u=0;u<e.length;u+=1)e[u].d(o)}}}function kf(s){let e,t=s[37].name+"",l;return{c(){e=_("div"),l=H(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","font-semibold line-clamp-1")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&16&&t!==(t=r[37].name+"")&&F(l,t)},d(r){r&&c(e)}}}function Tf(s){let e,t,l;function r(o){s[24](o,s[37])}function i(){return s[25](s[37])}let a={};return s[37].is_active!==void 0&&(a.state=s[37].is_active),e=new cl({props:a}),Je.push(()=>Qe(e,"state",r)),e.$on("change",i),{c(){de(e.$$.fragment)},l(o){_e(e.$$.fragment,o)},m(o,u){he(e,o,u),l=!0},p(o,u){s=o;const d={};!t&&u[0]&16&&(t=!0,d.state=s[37].is_active,Xe(()=>t=!1)),e.$set(d)},i(o){l||(Y(e.$$.fragment,o),l=!0)},o(o){W(e.$$.fragment,o),l=!1},d(o){pe(e,o)}}}function ya(s,e){var B,q,z,x,re,te,Q,J,j,X,K,ie,fe,ne,Ie,ke,be,ce,ae;let t,l,r,i,a,o,u,d,E,g,p,m,b,I=((q=(B=e[37])==null?void 0:B.meta)!=null&&q.description?(x=(z=e[37])==null?void 0:z.meta)==null?void 0:x.description:(te=(re=e[37])==null?void 0:re.ollama)!=null&&te.digest?`${e[37].id} (${(J=(Q=e[37])==null?void 0:Q.ollama)==null?void 0:J.digest})`:e[37].id)+"",T,w,k,D,y,O='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',N,S,V,M,R,ee,Z,C;g=new Ot({props:{content:js.parse((X=(j=e[37])==null?void 0:j.meta)!=null&&X.description?(ie=(K=e[37])==null?void 0:K.meta)==null?void 0:ie.description:(ne=(fe=e[37])==null?void 0:fe.ollama)!=null&&ne.digest?`${(ke=(Ie=e[37])==null?void 0:Ie.ollama)==null?void 0:ke.digest} **(${(ce=(be=e[37])==null?void 0:be.ollama)==null?void 0:ce.modified_at})**`:e[37].id),className:" w-fit",placement:"top-start",$$slots:{default:[kf]},$$scope:{ctx:e}}});function L(){return e[22](e[37])}function P(){return e[23](e[37])}return V=new Ot({props:{content:((ae=e[37])==null?void 0:ae.is_active)??!0?e[10].t("Enabled"):e[10].t("Disabled"),$$slots:{default:[Tf]},$$scope:{ctx:e}}}),{key:s,first:null,c(){t=_("div"),l=_("button"),r=_("div"),i=_("div"),a=_("img"),d=A(),E=_("div"),de(g.$$.fragment),p=A(),m=_("div"),b=_("span"),T=H(I),k=A(),D=_("div"),y=_("button"),y.innerHTML=O,N=A(),S=_("div"),de(V.$$.fragment),M=A(),this.h()},l(ve){t=h(ve,"DIV",{class:!0,id:!0});var Te=v(t);l=h(Te,"BUTTON",{class:!0,type:!0});var ge=v(l);r=h(ge,"DIV",{class:!0});var $e=v(r);i=h($e,"DIV",{class:!0});var Ve=v(i);a=h(Ve,"IMG",{src:!0,alt:!0,class:!0}),Ve.forEach(c),$e.forEach(c),d=$(ge),E=h(ge,"DIV",{class:!0});var oe=v(E);_e(g.$$.fragment,oe),p=$(oe),m=h(oe,"DIV",{class:!0});var we=v(m);b=h(we,"SPAN",{class:!0});var De=v(b);T=G(De,I),De.forEach(c),we.forEach(c),oe.forEach(c),ge.forEach(c),k=$(Te),D=h(Te,"DIV",{class:!0});var Ne=v(D);y=h(Ne,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Rt(y)!=="svelte-1q2s9zz"&&(y.innerHTML=O),N=$(Ne),S=h(Ne,"DIV",{class:!0});var se=v(S);_e(V.$$.fragment,se),se.forEach(c),Ne.forEach(c),M=$(Te),Te.forEach(c),this.h()},h(){var ve,Te,ge,$e;ks(a.src,o=((Te=(ve=e[37])==null?void 0:ve.meta)==null?void 0:Te.profile_image_url)??"/static/favicon.png")||f(a,"src",o),f(a,"alt","modelfile profile"),f(a,"class","rounded-full w-full h-auto object-cover"),f(i,"class",u="rounded-full object-cover "+(((ge=e[37])==null?void 0:ge.is_active)??!0?"":"opacity-50 dark:opacity-50")),f(r,"class","self-center w-8"),f(b,"class","line-clamp-1"),f(m,"class","text-xs overflow-hidden text-ellipsis line-clamp-1 text-gray-500"),f(E,"class",w="flex-1 self-center "+((($e=e[37])==null?void 0:$e.is_active)??!0?"":"text-gray-500")),f(l,"class","flex flex-1 text-left space-x-3.5 cursor-pointer w-full"),f(l,"type","button"),f(y,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),f(y,"type","button"),f(S,"class","ml-1"),f(D,"class","flex flex-row gap-0.5 items-center self-center"),f(t,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-lg transition"),f(t,"id",R="model-item-"+e[37].id),this.first=t},m(ve,Te){U(ve,t,Te),n(t,l),n(l,r),n(r,i),n(i,a),n(l,d),n(l,E),he(g,E,null),n(E,p),n(E,m),n(m,b),n(b,T),n(t,k),n(t,D),n(D,y),n(D,N),n(D,S),he(V,S,null),n(t,M),ee=!0,Z||(C=[ue(l,"click",L),ue(y,"click",P)],Z=!0)},p(ve,Te){var Ve,oe,we,De,Ne,se,Ae,Ue,Le,Ce,Ze,We,xe,Be,Ee,Oe,rt,et,_t,Fe,gt,vt,Me;e=ve,(!ee||Te[0]&16&&!ks(a.src,o=((oe=(Ve=e[37])==null?void 0:Ve.meta)==null?void 0:oe.profile_image_url)??"/static/favicon.png"))&&f(a,"src",o),(!ee||Te[0]&16&&u!==(u="rounded-full object-cover "+(((we=e[37])==null?void 0:we.is_active)??!0?"":"opacity-50 dark:opacity-50")))&&f(i,"class",u);const ge={};Te[0]&16&&(ge.content=js.parse((Ne=(De=e[37])==null?void 0:De.meta)!=null&&Ne.description?(Ae=(se=e[37])==null?void 0:se.meta)==null?void 0:Ae.description:(Le=(Ue=e[37])==null?void 0:Ue.ollama)!=null&&Le.digest?`${(Ze=(Ce=e[37])==null?void 0:Ce.ollama)==null?void 0:Ze.digest} **(${(xe=(We=e[37])==null?void 0:We.ollama)==null?void 0:xe.modified_at})**`:e[37].id)),Te[0]&16|Te[1]&512&&(ge.$$scope={dirty:Te,ctx:e}),g.$set(ge),(!ee||Te[0]&16)&&I!==(I=((Ee=(Be=e[37])==null?void 0:Be.meta)!=null&&Ee.description?(rt=(Oe=e[37])==null?void 0:Oe.meta)==null?void 0:rt.description:(_t=(et=e[37])==null?void 0:et.ollama)!=null&&_t.digest?`${e[37].id} (${(gt=(Fe=e[37])==null?void 0:Fe.ollama)==null?void 0:gt.digest})`:e[37].id)+"")&&F(T,I),(!ee||Te[0]&16&&w!==(w="flex-1 self-center "+(((vt=e[37])==null?void 0:vt.is_active)??!0?"":"text-gray-500")))&&f(E,"class",w);const $e={};Te[0]&1040&&($e.content=((Me=e[37])==null?void 0:Me.is_active)??!0?e[10].t("Enabled"):e[10].t("Disabled")),Te[0]&16|Te[1]&512&&($e.$$scope={dirty:Te,ctx:e}),V.$set($e),(!ee||Te[0]&16&&R!==(R="model-item-"+e[37].id))&&f(t,"id",R)},i(ve){ee||(Y(g.$$.fragment,ve),Y(V.$$.fragment,ve),ee=!0)},o(ve){W(g.$$.fragment,ve),W(V.$$.fragment,ve),ee=!1},d(ve){ve&&c(t),pe(g),pe(V),Z=!1,zt(C)}}}function Aa(s){let e,t,l,r,i,a,o=s[10].t("Import Presets")+"",u,d,E,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',p,m,b,I=s[10].t("Export Presets")+"",T,w,k,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',y,O;return{c(){e=_("div"),t=_("div"),l=_("input"),r=A(),i=_("button"),a=_("div"),u=H(o),d=A(),E=_("div"),E.innerHTML=g,p=A(),m=_("button"),b=_("div"),T=H(I),w=A(),k=_("div"),k.innerHTML=D,this.h()},l(N){e=h(N,"DIV",{class:!0});var S=v(e);t=h(S,"DIV",{class:!0});var V=v(t);l=h(V,"INPUT",{id:!0,type:!0,accept:!0}),r=$(V),i=h(V,"BUTTON",{class:!0});var M=v(i);a=h(M,"DIV",{class:!0});var R=v(a);u=G(R,o),R.forEach(c),d=$(M),E=h(M,"DIV",{class:!0,"data-svelte-h":!0}),Rt(E)!=="svelte-1ikvh1y"&&(E.innerHTML=g),M.forEach(c),p=$(V),m=h(V,"BUTTON",{class:!0});var ee=v(m);b=h(ee,"DIV",{class:!0});var Z=v(b);T=G(Z,I),Z.forEach(c),w=$(ee),k=h(ee,"DIV",{class:!0,"data-svelte-h":!0}),Rt(k)!=="svelte-1v8dg5r"&&(k.innerHTML=D),ee.forEach(c),V.forEach(c),S.forEach(c),this.h()},h(){f(l,"id","models-import-input"),f(l,"type","file"),f(l,"accept",".json"),l.hidden=!0,f(a,"class","self-center mr-2 font-medium line-clamp-1"),f(E,"class","self-center"),f(i,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),f(b,"class","self-center mr-2 font-medium line-clamp-1"),f(k,"class","self-center"),f(m,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),f(t,"class","flex space-x-1"),f(e,"class","flex justify-end w-full mb-3")},m(N,S){U(N,e,S),n(e,t),n(t,l),s[26](l),n(t,r),n(t,i),n(i,a),n(a,u),n(i,d),n(i,E),n(t,p),n(t,m),n(m,b),n(b,T),n(m,w),n(m,k),y||(O=[ue(l,"change",s[27]),ue(l,"change",s[28]),ue(i,"click",s[29]),ue(m,"click",s[30])],y=!0)},p(N,S){S[0]&1024&&o!==(o=N[10].t("Import Presets")+"")&&F(u,o),S[0]&1024&&I!==(I=N[10].t("Export Presets")+"")&&F(T,I)},d(N){N&&c(e),s[26](null),y=!1,zt(O)}}}function Df(s){let e,t,l,r,i,a,o,u,d,E;function g(k){s[17](k)}let p={initHandler:s[14]};s[6]!==void 0&&(p.show=s[6]),e=new Lu({props:p}),Je.push(()=>Qe(e,"show",g));function m(k){s[18](k)}let b={};s[7]!==void 0&&(b.show=s[7]),r=new hf({props:b}),Je.push(()=>Qe(r,"show",m));const I=[vf,pf],T=[];function w(k,D){return k[0]!==null?0:1}return o=w(s),u=T[o]=I[o](s),{c(){de(e.$$.fragment),l=A(),de(r.$$.fragment),a=A(),u.c(),d=Lt()},l(k){_e(e.$$.fragment,k),l=$(k),_e(r.$$.fragment,k),a=$(k),u.l(k),d=Lt()},m(k,D){he(e,k,D),U(k,l,D),he(r,k,D),U(k,a,D),T[o].m(k,D),U(k,d,D),E=!0},p(k,D){const y={};!t&&D[0]&64&&(t=!0,y.show=k[6],Xe(()=>t=!1)),e.$set(y);const O={};!i&&D[0]&128&&(i=!0,O.show=k[7],Xe(()=>i=!1)),r.$set(O);let N=o;o=w(k),o===N?T[o].p(k,D):(at(),W(T[N],1,1,()=>{T[N]=null}),nt(),u=T[o],u?u.p(k,D):(u=T[o]=I[o](k),u.c()),Y(u,1),u.m(d.parentNode,d))},i(k){E||(Y(e.$$.fragment,k),Y(r.$$.fragment,k),Y(u),E=!0)},o(k){W(e.$$.fragment,k),W(r.$$.fragment,k),W(u),E=!1},d(k){k&&(c(l),c(a),c(d)),pe(e,k),pe(r,k),T[o].d(k)}}}function yf(s,e,t){let l,r,i,a;Vt(s,Ts,j=>t(8,l=j)),Vt(s,Pl,j=>t(9,r=j)),Vt(s,Ds,j=>t(11,a=j));const{saveAs:o}=mn,u=bl("i18n");Vt(s,u,j=>t(10,i=j));let d,E,g=null,p=null,m=null,b=[],I=null,T=!1,w=!1,k="";const D=async j=>{let X=new Blob([JSON.stringify(j)],{type:"application/json"});o(X,`models-export-${Date.now()}.json`)},y=async()=>{p=await pi(localStorage.token),m=await Ol(localStorage.token,null,!0),t(0,g=m.map(j=>{const X=p.find(K=>K.id===j.id);return X?{...j,...X}:{...j,id:j.id,name:j.name,is_active:!0}}))},O=async j=>{var X;j.base_model_id=null,p.find(K=>K.id===j.id)?await vi(localStorage.token,j.id,j).catch(ie=>null)&&Ge.success(i.t("Model updated successfully")):await qs(localStorage.token,j).catch(ie=>null)&&Ge.success(i.t("Model updated successfully")),Tl.set(await Ol(localStorage.token,((X=r==null?void 0:r.features)==null?void 0:X.enable_direct_connections)&&((l==null?void 0:l.directConnections)??null))),await y()},N=async j=>{var X;Object.keys(j).includes("base_model_id")?await mi(localStorage.token,j.id):await qs(localStorage.token,{id:j.id,name:j.name,base_model_id:null,meta:{},params:{},access_control:{},is_active:j.is_active}).catch(K=>null),Tl.set(await Ol(localStorage.token,((X=r==null?void 0:r.features)==null?void 0:X.enable_direct_connections)&&((l==null?void 0:l.directConnections)??null)))};Vl(async()=>{y()});function S(j){T=j,t(6,T)}function V(j){w=j,t(7,w)}const M=()=>{t(7,w=!0)},R=()=>{t(6,T=!0)};function ee(){k=this.value,t(1,k)}const Z=j=>{t(5,I=j.id)},C=j=>{t(5,I=j.id)};function L(j,X){s.$$.not_equal(X.is_active,j)&&(X.is_active=j,t(4,b),t(0,g),t(1,k))}const P=async j=>{N(j)};function B(j){Je[j?"unshift":"push"](()=>{E=j,t(3,E)})}function q(){d=this.files,t(2,d)}const z=()=>{console.log(d);let j=new FileReader;j.onload=async X=>{var ie;let K=JSON.parse(X.target.result);console.log(K);for(const fe of K)Object.keys(fe).includes("base_model_id")?fe.base_model_id===null&&O(fe):((fe==null?void 0:fe.info)??!1)&&fe.info.base_model_id===null&&O(fe.info);await Tl.set(await Ol(localStorage.token,((ie=r==null?void 0:r.features)==null?void 0:ie.enable_direct_connections)&&((l==null?void 0:l.directConnections)??null))),y()},j.readAsText(d[0])},x=()=>{E.click()},re=async()=>{D(g)},te=j=>j.id===I,Q=j=>{console.log(j),O(j),t(5,I=null)},J=()=>{t(5,I=null)};return s.$$.update=()=>{s.$$.dirty[0]&3&&g&&t(4,b=g.filter(j=>k===""||j.name.toLowerCase().includes(k.toLowerCase())).sort((j,X)=>j.name.localeCompare(X.name)))},[g,k,d,E,b,I,T,w,l,r,i,a,u,D,y,O,N,S,V,M,R,ee,Z,C,L,P,B,q,z,x,re,te,Q,J]}class Af extends _l{constructor(e){super(),hl(this,e,yf,Df,dl,{},null,[-1,-1])}}function $a(s){let e;return{c(){e=_("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),v(e).forEach(c),this.h()},h(){f(e,"class","absolute top-0 bottom-0 left-0 right-0 opacity-60 bg-white dark:bg-gray-900 z-10")},m(t,l){U(t,e,l)},d(t){t&&c(e)}}}function Va(s){let e,t,l;return t=new Ot({props:{content:"Pipelines",$$slots:{default:[$f]},$$scope:{ctx:s}}}),{c(){e=_("div"),de(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);_e(t.$$.fragment,i),i.forEach(c),this.h()},h(){f(e,"class","absolute top-0.5 right-2.5")},m(r,i){U(r,e,i),he(t,e,null),l=!0},i(r){l||(Y(t.$$.fragment,r),l=!0)},o(r){W(t.$$.fragment,r),l=!1},d(r){r&&c(e),pe(t)}}}function $f(s){let e,t,l,r;return{c(){e=Zt("svg"),t=Zt("path"),l=Zt("path"),r=Zt("path"),this.h()},l(i){e=Jt(i,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=v(e);t=Jt(a,"path",{d:!0}),v(t).forEach(c),l=Jt(a,"path",{d:!0}),v(l).forEach(c),r=Jt(a,"path",{d:!0}),v(r).forEach(c),a.forEach(c),this.h()},h(){f(t,"d","M11.644 1.59a.75.75 0 0 1 .712 0l9.75 5.25a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.712 0l-9.75-5.25a.75.75 0 0 1 0-1.32l9.75-5.25Z"),f(l,"d","m3.265 10.602 7.668 4.129a2.25 2.25 0 0 0 2.134 0l7.668-4.13 1.37.739a.75.75 0 0 1 0 1.32l-9.75 5.25a.75.75 0 0 1-.71 0l-9.75-5.25a.75.75 0 0 1 0-1.32l1.37-.738Z"),f(r,"d","m10.933 19.231-7.668-4.13-1.37.739a.75.75 0 0 0 0 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 0 0 0-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 0 1-2.134-.001Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 24 24"),f(e,"fill","currentColor"),f(e,"class","size-4")},m(i,a){U(i,e,a),n(e,t),n(e,l),n(e,r)},p:tt,d(i){i&&c(e)}}}function Vf(s){var m;let e,t,l,r,i,a,o,u,d,E,g=!(((m=s[2])==null?void 0:m.enable)??!0)&&$a(),p=s[5]&&Va(s);return{c(){g&&g.c(),e=A(),t=_("div"),l=_("div"),r=_("input"),o=A(),p&&p.c(),this.h()},l(b){g&&g.l(b),e=$(b),t=h(b,"DIV",{class:!0});var I=v(t);l=h(I,"DIV",{class:!0});var T=v(l);r=h(T,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),o=$(T),p&&p.l(T),T.forEach(c),I.forEach(c),this.h()},h(){f(r,"class",i="outline-hidden w-full bg-transparent "+(s[5]?"pr-8":"")),f(r,"placeholder",a=s[7].t("API Base URL")),f(r,"autocomplete","off"),f(l,"class","flex-1 relative"),f(t,"class","flex w-full")},m(b,I){g&&g.m(b,I),U(b,e,I),U(b,t,I),n(t,l),n(l,r),le(r,s[0]),n(l,o),p&&p.m(l,null),u=!0,d||(E=ue(r,"input",s[11]),d=!0)},p(b,I){var T;((T=b[2])==null?void 0:T.enable)??!0?g&&(g.d(1),g=null):g||(g=$a(),g.c(),g.m(e.parentNode,e)),(!u||I&32&&i!==(i="outline-hidden w-full bg-transparent "+(b[5]?"pr-8":"")))&&f(r,"class",i),(!u||I&128&&a!==(a=b[7].t("API Base URL")))&&f(r,"placeholder",a),I&1&&r.value!==b[0]&&le(r,b[0]),b[5]?p?I&32&&Y(p,1):(p=Va(b),p.c(),Y(p,1),p.m(l,null)):p&&(at(),W(p,1,1,()=>{p=null}),nt())},i(b){u||(Y(p),u=!0)},o(b){W(p),u=!1},d(b){b&&(c(e),c(t)),g&&g.d(b),p&&p.d(),d=!1,E()}}}function Of(s){let e,t,l,r,i;return t=new Gs({}),{c(){e=_("button"),de(t.$$.fragment),this.h()},l(a){e=h(a,"BUTTON",{class:!0,type:!0});var o=v(e);_e(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),f(e,"type","button")},m(a,o){U(a,e,o),he(t,e,null),l=!0,r||(i=ue(e,"click",s[12]),r=!0)},p:tt,i(a){l||(Y(t.$$.fragment,a),l=!0)},o(a){W(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t),r=!1,i()}}}function Nf(s){let e,t,l,r,i,a,o,u,d;function E(p){s[10](p)}let g={edit:!0,connection:{url:s[0],key:s[1],config:s[2]},onDelete:s[3],onSubmit:s[9]};return s[6]!==void 0&&(g.show=s[6]),e=new Hs({props:g}),Je.push(()=>Qe(e,"show",E)),i=new Ot({props:{className:"w-full relative",content:s[7].t('WebUI will make requests to "{{url}}/chat/completions"',{url:s[0]}),placement:"top-start",$$slots:{default:[Vf]},$$scope:{ctx:s}}}),u=new Ot({props:{content:s[7].t("Configure"),className:"self-start",$$slots:{default:[Of]},$$scope:{ctx:s}}}),{c(){de(e.$$.fragment),l=A(),r=_("div"),de(i.$$.fragment),a=A(),o=_("div"),de(u.$$.fragment),this.h()},l(p){_e(e.$$.fragment,p),l=$(p),r=h(p,"DIV",{class:!0});var m=v(r);_e(i.$$.fragment,m),a=$(m),o=h(m,"DIV",{class:!0});var b=v(o);_e(u.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){f(o,"class","flex gap-1"),f(r,"class","flex w-full gap-2 items-center")},m(p,m){he(e,p,m),U(p,l,m),U(p,r,m),he(i,r,null),n(r,a),n(r,o),he(u,o,null),d=!0},p(p,[m]){const b={};m&7&&(b.connection={url:p[0],key:p[1],config:p[2]}),m&8&&(b.onDelete=p[3]),m&23&&(b.onSubmit=p[9]),!t&&m&64&&(t=!0,b.show=p[6],Xe(()=>t=!1)),e.$set(b);const I={};m&129&&(I.content=p[7].t('WebUI will make requests to "{{url}}/chat/completions"',{url:p[0]})),m&8357&&(I.$$scope={dirty:m,ctx:p}),i.$set(I);const T={};m&128&&(T.content=p[7].t("Configure")),m&8256&&(T.$$scope={dirty:m,ctx:p}),u.$set(T)},i(p){d||(Y(e.$$.fragment,p),Y(i.$$.fragment,p),Y(u.$$.fragment,p),d=!0)},o(p){W(e.$$.fragment,p),W(i.$$.fragment,p),W(u.$$.fragment,p),d=!1},d(p){p&&(c(l),c(r)),pe(e,p),pe(i),pe(u)}}}function Pf(s,e,t){let l;const r=bl("i18n");Vt(s,r,T=>t(7,l=T));let{onDelete:i=()=>{}}=e,{onSubmit:a=()=>{}}=e,{pipeline:o=!1}=e,{url:u=""}=e,{key:d=""}=e,{config:E={}}=e,g=!1;const p=T=>{t(0,u=T.url),t(1,d=T.key),t(2,E=T.config),a(T)};function m(T){g=T,t(6,g)}function b(){u=this.value,t(0,u)}const I=()=>{t(6,g=!0)};return s.$$set=T=>{"onDelete"in T&&t(3,i=T.onDelete),"onSubmit"in T&&t(4,a=T.onSubmit),"pipeline"in T&&t(5,o=T.pipeline),"url"in T&&t(0,u=T.url),"key"in T&&t(1,d=T.key),"config"in T&&t(2,E=T.config)},[u,d,E,i,a,o,g,l,r,p,m,b,I]}class Sf extends _l{constructor(e){super(),hl(this,e,Pf,Nf,dl,{onDelete:3,onSubmit:4,pipeline:5,url:0,key:1,config:2})}}function Oa(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-j4zjiu"&&(e.innerHTML=t),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function Mf(s){let e,t,l,r=s[3].t("Add Kneron Device")+"",i,a,o,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',d,E,g,p,m,b,I,T=s[3].t("Device IP")+"",w,k,D,y,O,N,S,V,M=s[3].t("Add Device")+"",R,ee,Z,C,L,P=s[2]&&Oa();return{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("button"),o.innerHTML=u,d=A(),E=_("div"),g=_("div"),p=_("form"),m=_("div"),b=_("div"),I=_("div"),w=H(T),k=A(),D=_("div"),y=_("input"),N=A(),S=_("div"),V=_("button"),R=H(M),ee=A(),P&&P.c(),this.h()},l(B){e=h(B,"DIV",{});var q=v(e);t=h(q,"DIV",{class:!0});var z=v(t);l=h(z,"DIV",{class:!0});var x=v(l);i=G(x,r),x.forEach(c),a=$(z),o=h(z,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(o)!=="svelte-745w2y"&&(o.innerHTML=u),z.forEach(c),d=$(q),E=h(q,"DIV",{class:!0});var re=v(E);g=h(re,"DIV",{class:!0});var te=v(g);p=h(te,"FORM",{class:!0});var Q=v(p);m=h(Q,"DIV",{class:!0});var J=v(m);b=h(J,"DIV",{class:!0});var j=v(b);I=h(j,"DIV",{class:!0});var X=v(I);w=G(X,T),X.forEach(c),k=$(j),D=h(j,"DIV",{class:!0});var K=v(D);y=h(K,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),K.forEach(c),j.forEach(c),J.forEach(c),N=$(Q),S=h(Q,"DIV",{class:!0});var ie=v(S);V=h(ie,"BUTTON",{class:!0,type:!0});var fe=v(V);R=G(fe,M),ee=$(fe),P&&P.l(fe),fe.forEach(c),ie.forEach(c),Q.forEach(c),te.forEach(c),re.forEach(c),q.forEach(c),this.h()},h(){f(l,"class","text-lg font-medium self-center font-primary"),f(o,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),f(I,"class","mb-0.5 text-xs text-gray-500"),f(y,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),f(y,"type","text"),f(y,"placeholder",O=s[3].t("Enter device IP address")),f(y,"autocomplete","off"),y.required=!0,f(D,"class","flex-1"),f(b,"class","flex flex-col w-full"),f(m,"class","px-1"),f(V,"class",Z="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[2]?" cursor-not-allowed":"")),f(V,"type","submit"),V.disabled=s[2],f(S,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),f(p,"class","flex flex-col w-full"),f(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(E,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(B,q){U(B,e,q),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(e,d),n(e,E),n(E,g),n(g,p),n(p,m),n(m,b),n(b,I),n(I,w),n(b,k),n(b,D),n(D,y),le(y,s[1]),n(p,N),n(p,S),n(S,V),n(V,R),n(V,ee),P&&P.m(V,null),C||(L=[ue(o,"click",s[7]),ue(y,"input",s[8]),ue(p,"submit",s[9])],C=!0)},p(B,q){q&8&&r!==(r=B[3].t("Add Kneron Device")+"")&&F(i,r),q&8&&T!==(T=B[3].t("Device IP")+"")&&F(w,T),q&8&&O!==(O=B[3].t("Enter device IP address"))&&f(y,"placeholder",O),q&2&&y.value!==B[1]&&le(y,B[1]),q&8&&M!==(M=B[3].t("Add Device")+"")&&F(R,M),B[2]?P||(P=Oa(),P.c(),P.m(V,null)):P&&(P.d(1),P=null),q&4&&Z!==(Z="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(B[2]?" cursor-not-allowed":""))&&f(V,"class",Z),q&4&&(V.disabled=B[2])},d(B){B&&c(e),P&&P.d(),C=!1,zt(L)}}}function Rf(s){let e,t,l;function r(a){s[10](a)}let i={size:"sm",$$slots:{default:[Mf]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Cs({props:i}),Je.push(()=>Qe(e,"show",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,[o]){const u={};o&2063&&(u.$$scope={dirty:o,ctx:a}),!t&&o&1&&(t=!0,u.show=a[0],Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function Lf(s,e,t){let l;const r=bl("i18n");Vt(s,r,b=>t(3,l=b));let{onSubmit:i=()=>{}}=e,{show:a=!1}=e,o="",u=!1;const d=async()=>{if(t(2,u=!0),!o){t(2,u=!1),Ge.error("Device IP is required");return}await $i(localStorage.token,o).catch(I=>(Ge.error(`${I}`),t(2,u=!1),null))&&(Ge.success(l.t("Device added successfully")),await i(),t(1,o=""),t(0,a=!1)),t(2,u=!1)};Vl(()=>{a&&t(1,o="")});const E=()=>{t(0,a=!1)};function g(){o=this.value,t(1,o)}const p=b=>{b.preventDefault(),d()};function m(b){a=b,t(0,a)}return s.$$set=b=>{"onSubmit"in b&&t(6,i=b.onSubmit),"show"in b&&t(0,a=b.show)},[a,o,u,l,r,d,i,E,g,p,m]}class Uf extends _l{constructor(e){super(),hl(this,e,Lf,Rf,dl,{onSubmit:6,show:0})}}function Na(s,e,t){const l=s.slice();return l[9]=e[t],l}function Cf(s){let e,t,l,r,i;return t=new Bs({}),{c(){e=_("button"),de(t.$$.fragment),this.h()},l(a){e=h(a,"BUTTON",{class:!0,type:!0});var o=v(e);_e(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","px-1"),f(e,"type","button")},m(a,o){U(a,e,o),he(t,e,null),l=!0,r||(i=ue(e,"click",s[7]),r=!0)},p:tt,i(a){l||(Y(t.$$.fragment,a),l=!0)},o(a){W(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t),r=!1,i()}}}function Bf(s){let e,t=st(s[0]),l=[];for(let r=0;r<t.length;r+=1)l[r]=Pa(Na(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=Lt()},l(r){for(let i=0;i<l.length;i+=1)l[i].l(r);e=Lt()},m(r,i){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(r,i);U(r,e,i)},p(r,i){if(i&1){t=st(r[0]);let a;for(a=0;a<t.length;a+=1){const o=Na(r,t,a);l[a]?l[a].p(o,i):(l[a]=Pa(o),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(r){r&&c(e),xt(l,r)}}}function Hf(s){let e,t=s[3].t("No devices found")+"",l;return{c(){e=_("div"),l=H(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","text-sm text-gray-500 py-1")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i&8&&t!==(t=r[3].t("No devices found")+"")&&F(l,t)},d(r){r&&c(e)}}}function Gf(s){let e,t='<div class="animate-spin h-4 w-4 rounded-full border-2 border-t-transparent border-gray-500"></div>';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-1uhi7ea"&&(e.innerHTML=t),this.h()},h(){f(e,"class","flex justify-center py-2")},m(l,r){U(l,e,r)},p:tt,d(l){l&&c(e)}}}function Pa(s){let e,t,l=s[9]+"",r,i;return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=v(e);t=h(o,"DIV",{class:!0});var u=v(t);r=G(u,l),u.forEach(c),i=$(o),o.forEach(c),this.h()},h(){f(t,"class","text-sm"),f(e,"class","flex justify-between items-center py-1.5 px-2 bg-gray-50 dark:bg-gray-800 rounded-md")},m(a,o){U(a,e,o),n(e,t),n(t,r),n(e,i)},p(a,o){o&1&&l!==(l=a[9]+"")&&F(r,l)},d(a){a&&c(e)}}}function jf(s){let e,t,l,r,i,a,o=s[3].t("Kneron Devices")+"",u,d,E,g,p,m;function b(D){s[6](D)}let I={onSubmit:s[5]};s[2]!==void 0&&(I.show=s[2]),e=new Uf({props:I}),Je.push(()=>Qe(e,"show",b)),E=new Ot({props:{content:s[3].t("Add Device"),$$slots:{default:[Cf]},$$scope:{ctx:s}}});function T(D,y){return D[1]?Gf:D[0].length===0?Hf:Bf}let w=T(s),k=w(s);return{c(){de(e.$$.fragment),l=A(),r=_("div"),i=_("div"),a=_("div"),u=H(o),d=A(),de(E.$$.fragment),g=A(),p=_("div"),k.c(),this.h()},l(D){_e(e.$$.fragment,D),l=$(D),r=h(D,"DIV",{class:!0});var y=v(r);i=h(y,"DIV",{class:!0});var O=v(i);a=h(O,"DIV",{class:!0});var N=v(a);u=G(N,o),N.forEach(c),d=$(O),_e(E.$$.fragment,O),O.forEach(c),g=$(y),p=h(y,"DIV",{class:!0});var S=v(p);k.l(S),S.forEach(c),y.forEach(c),this.h()},h(){f(a,"class","font-medium"),f(i,"class","flex justify-between items-center mb-0.5"),f(p,"class","flex flex-col gap-1.5"),f(r,"class","")},m(D,y){he(e,D,y),U(D,l,y),U(D,r,y),n(r,i),n(i,a),n(a,u),n(i,d),he(E,i,null),n(r,g),n(r,p),k.m(p,null),m=!0},p(D,[y]){const O={};!t&&y&4&&(t=!0,O.show=D[2],Xe(()=>t=!1)),e.$set(O),(!m||y&8)&&o!==(o=D[3].t("Kneron Devices")+"")&&F(u,o);const N={};y&8&&(N.content=D[3].t("Add Device")),y&4100&&(N.$$scope={dirty:y,ctx:D}),E.$set(N),w===(w=T(D))&&k?k.p(D,y):(k.d(1),k=w(D),k&&(k.c(),k.m(p,null)))},i(D){m||(Y(e.$$.fragment,D),Y(E.$$.fragment,D),m=!0)},o(D){W(e.$$.fragment,D),W(E.$$.fragment,D),m=!1},d(D){D&&(c(l),c(r)),pe(e,D),pe(E),k.d()}}}function Kf(s,e,t){let l;const r=bl("i18n");Vt(s,r,p=>t(3,l=p));let i=[],a=!0,o=!1;const u=async()=>{t(1,a=!0);try{t(0,i=await Vi(localStorage.token))}catch(p){Ge.error(`${p}`)}finally{t(1,a=!1)}},d=async()=>{await u()};Vl(u);function E(p){o=p,t(2,o)}return[i,a,o,l,r,d,E,()=>{t(2,o=!0)}]}class Yf extends _l{constructor(e){super(),hl(this,e,Kf,jf,dl,{})}}function Sa(s,e,t){const l=s.slice();return l[34]=e[t],l[35]=e,l[36]=t,l}function Ff(s){let e,t,l,r;return l=new ls({props:{className:"size-6"}}),{c(){e=_("div"),t=_("div"),de(l.$$.fragment),this.h()},l(i){e=h(i,"DIV",{class:!0});var a=v(e);t=h(a,"DIV",{class:!0});var o=v(t);_e(l.$$.fragment,o),o.forEach(c),a.forEach(c),this.h()},h(){f(t,"class","my-auto"),f(e,"class","flex h-full justify-center")},m(i,a){U(i,e,a),n(e,t),he(l,t,null),r=!0},p:tt,i(i){r||(Y(l.$$.fragment,i),r=!0)},o(i){W(l.$$.fragment,i),r=!1},d(i){i&&c(e),pe(l)}}}function qf(s){let e,t,l,r,i=s[9].t("OpenAI API")+"",a,o,u,d,E,g,p,m;function b(w){s[17](w)}let I={};s[3]!==void 0&&(I.state=s[3]),E=new cl({props:I}),Je.push(()=>Qe(E,"state",b)),E.$on("change",s[18]);let T=s[3]&&Ma(s);return{c(){e=_("div"),t=_("div"),l=_("div"),r=_("div"),a=H(i),o=A(),u=_("div"),d=_("div"),de(E.$$.fragment),p=A(),T&&T.c(),this.h()},l(w){e=h(w,"DIV",{class:!0});var k=v(e);t=h(k,"DIV",{class:!0});var D=v(t);l=h(D,"DIV",{class:!0});var y=v(l);r=h(y,"DIV",{class:!0});var O=v(r);a=G(O,i),O.forEach(c),o=$(y),u=h(y,"DIV",{class:!0});var N=v(u);d=h(N,"DIV",{class:!0});var S=v(d);_e(E.$$.fragment,S),S.forEach(c),N.forEach(c),y.forEach(c),p=$(D),T&&T.l(D),D.forEach(c),k.forEach(c),this.h()},h(){f(r,"class","font-medium"),f(d,"class",""),f(u,"class","flex items-center"),f(l,"class","flex justify-between items-center text-sm"),f(t,"class","mt-2 space-y-2 pr-1.5"),f(e,"class","my-2")},m(w,k){U(w,e,k),n(e,t),n(t,l),n(l,r),n(r,a),n(l,o),n(l,u),n(u,d),he(E,d,null),n(t,p),T&&T.m(t,null),m=!0},p(w,k){(!m||k[0]&512)&&i!==(i=w[9].t("OpenAI API")+"")&&F(a,i);const D={};!g&&k[0]&8&&(g=!0,D.state=w[3],Xe(()=>g=!1)),E.$set(D),w[3]?T?(T.p(w,k),k[0]&8&&Y(T,1)):(T=Ma(w),T.c(),Y(T,1),T.m(t,null)):T&&(at(),W(T,1,1,()=>{T=null}),nt())},i(w){m||(Y(E.$$.fragment,w),Y(T),m=!0)},o(w){W(E.$$.fragment,w),W(T),m=!1},d(w){w&&c(e),pe(E),T&&T.d()}}}function Ma(s){let e,t,l,r,i,a=s[9].t("Manage OpenAI API Connections")+"",o,u,d,E,g,p,m,b,I,T;d=new Ot({props:{content:s[9].t("Add Connection"),$$slots:{default:[Wf]},$$scope:{ctx:s}}});let w=st(s[1]),k=[];for(let y=0;y<w.length;y+=1)k[y]=Ra(Sa(s,w,y));const D=y=>W(k[y],1,1,()=>{k[y]=null});return I=new Yf({}),{c(){e=_("hr"),t=A(),l=_("div"),r=_("div"),i=_("div"),o=H(a),u=A(),de(d.$$.fragment),E=A(),g=_("div");for(let y=0;y<k.length;y+=1)k[y].c();p=A(),m=_("hr"),b=A(),de(I.$$.fragment),this.h()},l(y){e=h(y,"HR",{class:!0}),t=$(y),l=h(y,"DIV",{class:!0});var O=v(l);r=h(O,"DIV",{class:!0});var N=v(r);i=h(N,"DIV",{class:!0});var S=v(i);o=G(S,a),S.forEach(c),u=$(N),_e(d.$$.fragment,N),N.forEach(c),E=$(O),g=h(O,"DIV",{class:!0});var V=v(g);for(let M=0;M<k.length;M+=1)k[M].l(V);V.forEach(c),O.forEach(c),p=$(y),m=h(y,"HR",{class:!0}),b=$(y),_e(I.$$.fragment,y),this.h()},h(){f(e,"class","border-gray-100 dark:border-gray-850"),f(i,"class","font-medium"),f(r,"class","flex justify-between items-center"),f(g,"class","flex flex-col gap-1.5 mt-1.5"),f(l,"class",""),f(m,"class","border-gray-100 dark:border-gray-850")},m(y,O){U(y,e,O),U(y,t,O),U(y,l,O),n(l,r),n(r,i),n(i,o),n(r,u),he(d,r,null),n(l,E),n(l,g);for(let N=0;N<k.length;N+=1)k[N]&&k[N].m(g,null);U(y,p,O),U(y,m,O),U(y,b,O),he(I,y,O),T=!0},p(y,O){(!T||O[0]&512)&&a!==(a=y[9].t("Manage OpenAI API Connections")+"")&&F(o,a);const N={};if(O[0]&512&&(N.content=y[9].t("Add Connection")),O[0]&128|O[1]&64&&(N.$$scope={dirty:O,ctx:y}),d.$set(N),O[0]&2119){w=st(y[1]);let S;for(S=0;S<w.length;S+=1){const V=Sa(y,w,S);k[S]?(k[S].p(V,O),Y(k[S],1)):(k[S]=Ra(V),k[S].c(),Y(k[S],1),k[S].m(g,null))}for(at(),S=w.length;S<k.length;S+=1)D(S);nt()}},i(y){if(!T){Y(d.$$.fragment,y);for(let O=0;O<w.length;O+=1)Y(k[O]);Y(I.$$.fragment,y),T=!0}},o(y){W(d.$$.fragment,y),k=k.filter(Boolean);for(let O=0;O<k.length;O+=1)W(k[O]);W(I.$$.fragment,y),T=!1},d(y){y&&(c(e),c(t),c(l),c(p),c(m),c(b)),pe(d),xt(k,y),pe(I,y)}}}function Wf(s){let e,t,l,r,i;return t=new Bs({}),{c(){e=_("button"),de(t.$$.fragment),this.h()},l(a){e=h(a,"BUTTON",{class:!0,type:!0});var o=v(e);_e(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","px-1"),f(e,"type","button")},m(a,o){U(a,e,o),he(t,e,null),l=!0,r||(i=ue(e,"click",s[19]),r=!0)},p:tt,i(a){l||(Y(t.$$.fragment,a),l=!0)},o(a){W(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t),r=!1,i()}}}function Ra(s){let e,t,l,r,i;function a(){return s[21](s[36])}function o(g){s[22](g,s[34],s[35],s[36])}function u(g){s[23](g,s[36])}function d(g){s[24](g,s[36])}let E={pipeline:!!s[6][s[34]],onSubmit:s[20],onDelete:a};return s[34]!==void 0&&(E.url=s[34]),s[0][s[36]]!==void 0&&(E.key=s[0][s[36]]),s[2][s[36]]!==void 0&&(E.config=s[2][s[36]]),e=new Sf({props:E}),Je.push(()=>Qe(e,"url",o)),Je.push(()=>Qe(e,"key",u)),Je.push(()=>Qe(e,"config",d)),{c(){de(e.$$.fragment)},l(g){_e(e.$$.fragment,g)},m(g,p){he(e,g,p),i=!0},p(g,p){s=g;const m={};p[0]&66&&(m.pipeline=!!s[6][s[34]]),p[0]&7&&(m.onDelete=a),!t&&p[0]&2&&(t=!0,m.url=s[34],Xe(()=>t=!1)),!l&&p[0]&1&&(l=!0,m.key=s[0][s[36]],Xe(()=>l=!1)),!r&&p[0]&4&&(r=!0,m.config=s[2][s[36]],Xe(()=>r=!1)),e.$set(m)},i(g){i||(Y(e.$$.fragment,g),i=!0)},o(g){W(e.$$.fragment,g),i=!1},d(g){pe(e,g)}}}function Zf(s){let e,t,l,r,i,a,o,u,d,E,g,p,m,b=s[9].t("Save")+"",I,T,w,k;function D(R){s[15](R)}let y={onSubmit:s[12]};s[7]!==void 0&&(y.show=s[7]),e=new Hs({props:y}),Je.push(()=>Qe(e,"show",D));function O(R){s[16](R)}let N={ollama:!0,onSubmit:s[13]};s[8]!==void 0&&(N.show=s[8]),r=new Hs({props:N}),Je.push(()=>Qe(r,"show",O));const S=[qf,Ff],V=[];function M(R,ee){return R[3]!==null&&R[4]!==null&&R[5]!==null?0:1}return d=M(s),E=V[d]=S[d](s),{c(){de(e.$$.fragment),l=A(),de(r.$$.fragment),a=A(),o=_("form"),u=_("div"),E.c(),g=A(),p=_("div"),m=_("button"),I=H(b),this.h()},l(R){_e(e.$$.fragment,R),l=$(R),_e(r.$$.fragment,R),a=$(R),o=h(R,"FORM",{class:!0});var ee=v(o);u=h(ee,"DIV",{class:!0});var Z=v(u);E.l(Z),Z.forEach(c),g=$(ee),p=h(ee,"DIV",{class:!0});var C=v(p);m=h(C,"BUTTON",{class:!0,type:!0});var L=v(m);I=G(L,b),L.forEach(c),C.forEach(c),ee.forEach(c),this.h()},h(){f(u,"class","overflow-y-scroll scrollbar-hidden h-full"),f(m,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(m,"type","submit"),f(p,"class","flex justify-end pt-3 text-sm font-medium"),f(o,"class","flex flex-col h-full justify-between text-sm")},m(R,ee){he(e,R,ee),U(R,l,ee),he(r,R,ee),U(R,a,ee),U(R,o,ee),n(o,u),V[d].m(u,null),n(o,g),n(o,p),n(p,m),n(m,I),T=!0,w||(k=ue(o,"submit",Ml(s[14])),w=!0)},p(R,ee){const Z={};!t&&ee[0]&128&&(t=!0,Z.show=R[7],Xe(()=>t=!1)),e.$set(Z);const C={};!i&&ee[0]&256&&(i=!0,C.show=R[8],Xe(()=>i=!1)),r.$set(C);let L=d;d=M(R),d===L?V[d].p(R,ee):(at(),W(V[L],1,1,()=>{V[L]=null}),nt(),E=V[d],E?E.p(R,ee):(E=V[d]=S[d](R),E.c()),Y(E,1),E.m(u,null)),(!T||ee[0]&512)&&b!==(b=R[9].t("Save")+"")&&F(I,b)},i(R){T||(Y(e.$$.fragment,R),Y(r.$$.fragment,R),Y(E),T=!0)},o(R){W(e.$$.fragment,R),W(r.$$.fragment,R),W(E),T=!1},d(R){R&&(c(l),c(a),c(o)),pe(e,R),pe(r,R),V[d].d(),w=!1,k()}}}function Jf(s,e,t){let l,r,i,a;Vt(s,Ds,te=>t(27,l=te)),Vt(s,Ts,te=>t(28,i=te)),Vt(s,Pl,te=>t(29,a=te));const o=zl(),u=bl("i18n");Vt(s,u,te=>t(9,r=te));const d=async()=>{var Q;return await Ol(localStorage.token,((Q=a==null?void 0:a.features)==null?void 0:Q.enable_direct_connections)&&((i==null?void 0:i.directConnections)??null))};let E=[""],g={},p=[""],m=[""],b={},I=null,T=null,w=null,k={},D=!1,y=!1;const O=async()=>{if(I!==null){if(t(1,m=m.map(Q=>Q.replace(/\/$/,""))),p.length!==m.length&&(p.length>m.length&&t(0,p=p.slice(0,m.length)),p.length<m.length)){const Q=m.length-p.length;for(let J=0;J<Q;J++)p.push("")}await Pi(localStorage.token,{ENABLE_OPENAI_API:I,OPENAI_API_BASE_URLS:m,OPENAI_API_KEYS:p,OPENAI_API_CONFIGS:b}).catch(Q=>{Ge.error(`${Q}`)})&&(Ge.success(r.t("OpenAI API settings updated")),await Tl.set(await d()))}},N=async()=>{T!==null&&(E=E.map(Q=>Q.replace(/\/$/,"")),await Ai(localStorage.token,{ENABLE_OLLAMA_API:T,OLLAMA_BASE_URLS:E,OLLAMA_API_CONFIGS:g}).catch(Q=>{Ge.error(`${Q}`)})&&(Ge.success(r.t("Ollama API settings updated")),await Tl.set(await d())))},S=async()=>{await zn(localStorage.token,w).catch(Q=>{Ge.error(`${Q}`)})&&(Ge.success(r.t("Direct Connections settings updated")),await Tl.set(await d()))},V=async te=>{t(1,m=[...m,te.url]),t(0,p=[...p,te.key]),t(2,b[m.length-1]=te.config,b),await O()},M=async te=>{E=[...E,te.url],g[E.length-1]={...te.config,key:te.key},await N()};Vl(async()=>{if(l.role==="admin"){let te={},Q={};if(await Promise.all([(async()=>{te=await In(localStorage.token)})(),(async()=>{Q=await Oi(localStorage.token)})(),(async()=>{t(5,w=await Jn(localStorage.token))})()]),t(3,I=Q.ENABLE_OPENAI_API),t(4,T=te.ENABLE_OLLAMA_API),t(1,m=Q.OPENAI_API_BASE_URLS),t(0,p=Q.OPENAI_API_KEYS),t(2,b=Q.OPENAI_API_CONFIGS),E=te.OLLAMA_BASE_URLS,g=te.OLLAMA_API_CONFIGS,I){for(const[J,j]of m.entries())b[J]||t(2,b[J]=b[j]||{},b);m.forEach(async(J,j)=>{var K;if(t(2,b[j]=b[j]||{},b),!(((K=b[j])==null?void 0:K.enable)??!0))return;(await Ni(localStorage.token,j)).pipelines&&t(6,k[J]=!0,k)})}if(T)for(const[J,j]of E.entries())g[J]||(g[J]=g[j]||{})}});const R=async()=>{O(),N(),S(),o("save")};function ee(te){D=te,t(7,D)}function Z(te){y=te,t(8,y)}function C(te){I=te,t(3,I)}const L=async()=>{O()},P=()=>{t(7,D=!0)},B=()=>{O()},q=te=>{t(1,m=m.filter((J,j)=>te!==j)),t(0,p=p.filter((J,j)=>te!==j));let Q={};m.forEach((J,j)=>{Q[j]=b[j<te?j:j+1]}),t(2,b=Q),O()};function z(te,Q,J,j){J[j]=te,t(1,m)}function x(te,Q){s.$$.not_equal(p[Q],te)&&(p[Q]=te,t(0,p))}function re(te,Q){s.$$.not_equal(b[Q],te)&&(b[Q]=te,t(2,b))}return[p,m,b,I,T,w,k,D,y,r,u,O,V,M,R,ee,Z,C,L,P,B,q,z,x,re]}class zf extends _l{constructor(e){super(),hl(this,e,Jf,Zf,dl,{},null,[-1,-1])}}function Xf(s){let e,t,l,r,i,a,o,u,d;function E(p){s[40](p)}let g={placeholder:s[27].t("Enter Document Intelligence Key")};return s[13]!==void 0&&(g.value=s[13]),i=new pl({props:g}),Je.push(()=>Qe(i,"value",E)),{c(){e=_("div"),t=_("input"),r=A(),de(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"INPUT",{class:!0,placeholder:!0}),r=$(m),_e(i.$$.fragment,m),m.forEach(c),this.h()},h(){f(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(t,"placeholder",l=s[27].t("Enter Document Intelligence Endpoint")),f(e,"class","my-0.5 flex gap-2 pr-2")},m(p,m){U(p,e,m),n(e,t),le(t,s[12]),n(e,r),he(i,e,null),o=!0,u||(d=ue(t,"input",s[39]),u=!0)},p(p,m){(!o||m[0]&134217728&&l!==(l=p[27].t("Enter Document Intelligence Endpoint")))&&f(t,"placeholder",l),m[0]&4096&&t.value!==p[12]&&le(t,p[12]);const b={};m[0]&134217728&&(b.placeholder=p[27].t("Enter Document Intelligence Key")),!a&&m[0]&8192&&(a=!0,b.value=p[13],Xe(()=>a=!1)),i.$set(b)},i(p){o||(Y(i.$$.fragment,p),o=!0)},o(p){W(i.$$.fragment,p),o=!1},d(p){p&&c(e),pe(i),u=!1,d()}}}function Qf(s){let e,t,l,r,i,a;return{c(){e=_("div"),t=_("div"),l=_("input"),this.h()},l(o){e=h(o,"DIV",{class:!0});var u=v(e);t=h(u,"DIV",{class:!0});var d=v(t);l=h(d,"INPUT",{class:!0,placeholder:!0}),d.forEach(c),u.forEach(c),this.h()},h(){f(l,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(l,"placeholder",r=s[27].t("Enter Tika Server URL")),f(t,"class","flex-1 mr-2"),f(e,"class","flex w-full mt-1")},m(o,u){U(o,e,u),n(e,t),n(t,l),le(l,s[11]),i||(a=ue(l,"input",s[38]),i=!0)},p(o,u){u[0]&134217728&&r!==(r=o[27].t("Enter Tika Server URL"))&&f(l,"placeholder",r),u[0]&2048&&l.value!==o[11]&&le(l,o[11])},i:tt,o:tt,d(o){o&&c(e),i=!1,a()}}}function La(s){let e,t,l=s[27].t("PDF Extract Images (OCR)")+"",r,i,a,o,u,d;function E(p){s[41](p)}let g={};return s[17]!==void 0&&(g.state=s[17]),o=new cl({props:g}),Je.push(()=>Qe(o,"state",E)),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),de(o.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var b=v(t);r=G(b,l),b.forEach(c),i=$(m),a=h(m,"DIV",{class:!0});var I=v(a);_e(o.$$.fragment,I),I.forEach(c),m.forEach(c),this.h()},h(){f(t,"class","self-center text-xs font-medium"),f(a,"class","flex items-center relative"),f(e,"class","mb-2.5 flex w-full justify-between")},m(p,m){U(p,e,m),n(e,t),n(t,r),n(e,i),n(e,a),he(o,a,null),d=!0},p(p,m){(!d||m[0]&134217728)&&l!==(l=p[27].t("PDF Extract Images (OCR)")+"")&&F(r,l);const b={};!u&&m[0]&131072&&(u=!0,b.state=p[17],Xe(()=>u=!1)),o.$set(b)},i(p){d||(Y(o.$$.fragment,p),d=!0)},o(p){W(o.$$.fragment,p),d=!1},d(p){p&&c(e),pe(o)}}}function xf(s){let e=s[27].t("Bypass Embedding and Retrieval")+"",t;return{c(){t=H(e)},l(l){t=G(l,e)},m(l,r){U(l,t,r)},p(l,r){r[0]&134217728&&e!==(e=l[27].t("Bypass Embedding and Retrieval")+"")&&F(t,e)},d(l){l&&c(t)}}}function ec(s){let e,t,l;function r(a){s[42](a)}let i={};return s[19]!==void 0&&(i.state=s[19]),e=new cl({props:i}),Je.push(()=>Qe(e,"state",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};!t&&o[0]&524288&&(t=!0,u.state=a[19],Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function Ua(s){let e,t,l=s[27].t("Text Splitter")+"",r,i,a,o,u,d=s[27].t("Default")+"",E,g,p=s[27].t("Character")+"",m,b,I,T=s[27].t("Token")+"",w,k,D=s[27].t("Tiktoken")+"",y,O,N,S,V,M,R,ee=s[27].t("Chunk Size")+"",Z,C,L,P,B,q,z,x,re=s[27].t("Chunk Overlap")+"",te,Q,J,j,X,K,ie;return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("select"),u=_("option"),E=H(d),g=H(" ("),m=H(p),b=H(")"),I=_("option"),w=H(T),k=H(" ("),y=H(D),O=H(")"),N=A(),S=_("div"),V=_("div"),M=_("div"),R=_("div"),Z=H(ee),C=A(),L=_("div"),P=_("input"),q=A(),z=_("div"),x=_("div"),te=H(re),Q=A(),J=_("div"),j=_("input"),this.h()},l(fe){e=h(fe,"DIV",{class:!0});var ne=v(e);t=h(ne,"DIV",{class:!0});var Ie=v(t);r=G(Ie,l),Ie.forEach(c),i=$(ne),a=h(ne,"DIV",{class:!0});var ke=v(a);o=h(ke,"SELECT",{class:!0});var be=v(o);u=h(be,"OPTION",{});var ce=v(u);E=G(ce,d),g=G(ce," ("),m=G(ce,p),b=G(ce,")"),ce.forEach(c),I=h(be,"OPTION",{});var ae=v(I);w=G(ae,T),k=G(ae," ("),y=G(ae,D),O=G(ae,")"),ae.forEach(c),be.forEach(c),ke.forEach(c),ne.forEach(c),N=$(fe),S=h(fe,"DIV",{class:!0});var ve=v(S);V=h(ve,"DIV",{class:!0});var Te=v(V);M=h(Te,"DIV",{class:!0});var ge=v(M);R=h(ge,"DIV",{class:!0});var $e=v(R);Z=G($e,ee),$e.forEach(c),C=$(ge),L=h(ge,"DIV",{class:!0});var Ve=v(L);P=h(Ve,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Ve.forEach(c),ge.forEach(c),q=$(Te),z=h(Te,"DIV",{class:!0});var oe=v(z);x=h(oe,"DIV",{class:!0});var we=v(x);te=G(we,re),we.forEach(c),Q=$(oe),J=h(oe,"DIV",{class:!0});var De=v(J);j=h(De,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),De.forEach(c),oe.forEach(c),Te.forEach(c),ve.forEach(c),this.h()},h(){f(t,"class","self-center text-xs font-medium"),u.__value="",le(u,u.__value),I.__value="token",le(I,I.__value),f(o,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"),s[14]===void 0&&ml(()=>s[43].call(o)),f(a,"class","flex items-center relative"),f(e,"class","mb-2.5 flex w-full justify-between"),f(R,"class","self-center text-xs font-medium min-w-fit mb-1"),f(P,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(P,"type","number"),f(P,"placeholder",B=s[27].t("Enter Chunk Size")),f(P,"autocomplete","off"),f(P,"min","0"),f(L,"class","self-center"),f(M,"class","w-full justify-between"),f(x,"class","self-center text-xs font-medium min-w-fit mb-1"),f(j,"class","w-full rounded-lg py-1.5 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(j,"type","number"),f(j,"placeholder",X=s[27].t("Enter Chunk Overlap")),f(j,"autocomplete","off"),f(j,"min","0"),f(J,"class","self-center"),f(z,"class","w-full"),f(V,"class","flex gap-1.5 w-full"),f(S,"class","mb-2.5 flex w-full justify-between")},m(fe,ne){U(fe,e,ne),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,u),n(u,E),n(u,g),n(u,m),n(u,b),n(o,I),n(I,w),n(I,k),n(I,y),n(I,O),yt(o,s[14],!0),U(fe,N,ne),U(fe,S,ne),n(S,V),n(V,M),n(M,R),n(R,Z),n(M,C),n(M,L),n(L,P),le(P,s[15]),n(V,q),n(V,z),n(z,x),n(x,te),n(z,Q),n(z,J),n(J,j),le(j,s[16]),K||(ie=[ue(o,"change",s[43]),ue(P,"input",s[44]),ue(j,"input",s[45])],K=!0)},p(fe,ne){ne[0]&134217728&&l!==(l=fe[27].t("Text Splitter")+"")&&F(r,l),ne[0]&134217728&&d!==(d=fe[27].t("Default")+"")&&F(E,d),ne[0]&134217728&&p!==(p=fe[27].t("Character")+"")&&F(m,p),ne[0]&134217728&&T!==(T=fe[27].t("Token")+"")&&F(w,T),ne[0]&134217728&&D!==(D=fe[27].t("Tiktoken")+"")&&F(y,D),ne[0]&16384&&yt(o,fe[14]),ne[0]&134217728&&ee!==(ee=fe[27].t("Chunk Size")+"")&&F(Z,ee),ne[0]&134217728&&B!==(B=fe[27].t("Enter Chunk Size"))&&f(P,"placeholder",B),ne[0]&32768&&$l(P.value)!==fe[15]&&le(P,fe[15]),ne[0]&134217728&&re!==(re=fe[27].t("Chunk Overlap")+"")&&F(te,re),ne[0]&134217728&&X!==(X=fe[27].t("Enter Chunk Overlap"))&&f(j,"placeholder",X),ne[0]&65536&&$l(j.value)!==fe[16]&&le(j,fe[16])},d(fe){fe&&(c(e),c(N),c(S)),K=!1,zt(ie)}}}function Ca(s){let e,t,l=s[27].t("Embedding")+"",r,i,a,o,u,d,E,g=s[27].t("Embedding Model Engine")+"",p,m,b,I,T,w=s[27].t("Default (SentenceTransformers)")+"",k,D,y=s[27].t("Ollama")+"",O,N,S=s[27].t("OpenAI")+"",V,M,R,ee,Z,C,L,P=s[27].t("Embedding Model")+"",B,q,z,x,re,te=s[27].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"",Q,J,j,X,K,ie=s[27].t("Full Context Mode")+"",fe,ne,Ie,ke,be,ce,ae,ve=s[27].t("Hybrid Search")+"",Te,ge,$e,Ve,oe,we,De,Ne,se,Ae=s[27].t("Retrieval")+"",Ue,Le,Ce,Ze,We,xe,Be=s[27].t("Top K")+"",Ee,Oe,rt,et,_t,Fe,gt,vt,Me,mt=s[27].t("RAG Template")+"",kt,it,ot,ht,Et,Tt,pt;const ft=[lc,tc],Se=[];function Ke(me,Re){return me[4]==="openai"?0:me[4]==="ollama"?1:-1}~(R=Ke(s))&&(ee=Se[R]=ft[R](s));function Pt(me,Re){return me[4]==="ollama"?rc:sc}let dt=Pt(s),Pe=dt(s),Ye=(s[4]==="ollama"||s[4]==="openai")&&Ha(s);ke=new Ot({props:{content:s[18]?"Inject entire contents as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.",$$slots:{default:[ic]},$$scope:{ctx:s}}});function bt(me){s[57](me)}let It={};s[26].hybrid!==void 0&&(It.state=s[26].hybrid),Ve=new cl({props:It}),Je.push(()=>Qe(Ve,"state",bt)),Ve.$on("change",s[58]);let Dt=s[26].hybrid===!0&&Ga(s),ut=s[26].hybrid===!0&&ja(s);return ht=new Ot({props:{content:s[27].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",className:"w-full",$$slots:{default:[fc]},$$scope:{ctx:s}}}),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("hr"),o=A(),u=_("div"),d=_("div"),E=_("div"),p=H(g),m=A(),b=_("div"),I=_("select"),T=_("option"),k=H(w),D=_("option"),O=H(y),N=_("option"),V=H(S),M=A(),ee&&ee.c(),Z=A(),C=_("div"),L=_("div"),B=H(P),q=A(),z=_("div"),Pe.c(),x=A(),re=_("div"),Q=H(te),J=A(),Ye&&Ye.c(),j=A(),X=_("div"),K=_("div"),fe=H(ie),ne=A(),Ie=_("div"),de(ke.$$.fragment),be=A(),ce=_("div"),ae=_("div"),Te=H(ve),ge=A(),$e=_("div"),de(Ve.$$.fragment),we=A(),Dt&&Dt.c(),De=A(),Ne=_("div"),se=_("div"),Ue=H(Ae),Le=A(),Ce=_("hr"),Ze=A(),We=_("div"),xe=_("div"),Ee=H(Be),Oe=A(),rt=_("div"),et=_("input"),Fe=A(),ut&&ut.c(),gt=A(),vt=_("div"),Me=_("div"),kt=H(mt),it=A(),ot=_("div"),de(ht.$$.fragment),this.h()},l(me){e=h(me,"DIV",{class:!0});var Re=v(e);t=h(Re,"DIV",{class:!0});var wt=v(t);r=G(wt,l),wt.forEach(c),i=$(Re),a=h(Re,"HR",{class:!0}),o=$(Re),u=h(Re,"DIV",{class:!0});var Ht=v(u);d=h(Ht,"DIV",{class:!0});var Ct=v(d);E=h(Ct,"DIV",{class:!0});var Gt=v(E);p=G(Gt,g),Gt.forEach(c),m=$(Ct),b=h(Ct,"DIV",{class:!0});var Yt=v(b);I=h(Yt,"SELECT",{class:!0,placeholder:!0});var Bt=v(I);T=h(Bt,"OPTION",{});var el=v(T);k=G(el,w),el.forEach(c),D=h(Bt,"OPTION",{});var Wt=v(D);O=G(Wt,y),Wt.forEach(c),N=h(Bt,"OPTION",{});var Ut=v(N);V=G(Ut,S),Ut.forEach(c),Bt.forEach(c),Yt.forEach(c),Ct.forEach(c),M=$(Ht),ee&&ee.l(Ht),Ht.forEach(c),Z=$(Re),C=h(Re,"DIV",{class:!0});var Nt=v(C);L=h(Nt,"DIV",{class:!0});var ct=v(L);B=G(ct,P),ct.forEach(c),q=$(Nt),z=h(Nt,"DIV",{class:!0});var je=v(z);Pe.l(je),je.forEach(c),x=$(Nt),re=h(Nt,"DIV",{class:!0});var lt=v(re);Q=G(lt,te),lt.forEach(c),Nt.forEach(c),J=$(Re),Ye&&Ye.l(Re),j=$(Re),X=h(Re,"DIV",{class:!0});var jt=v(X);K=h(jt,"DIV",{class:!0});var tl=v(K);fe=G(tl,ie),tl.forEach(c),ne=$(jt),Ie=h(jt,"DIV",{class:!0});var At=v(Ie);_e(ke.$$.fragment,At),At.forEach(c),jt.forEach(c),be=$(Re),ce=h(Re,"DIV",{class:!0});var ll=v(ce);ae=h(ll,"DIV",{class:!0});var Ft=v(ae);Te=G(Ft,ve),Ft.forEach(c),ge=$(ll),$e=h(ll,"DIV",{class:!0});var Kt=v($e);_e(Ve.$$.fragment,Kt),Kt.forEach(c),ll.forEach(c),we=$(Re),Dt&&Dt.l(Re),Re.forEach(c),De=$(me),Ne=h(me,"DIV",{class:!0});var rl=v(Ne);se=h(rl,"DIV",{class:!0});var nl=v(se);Ue=G(nl,Ae),nl.forEach(c),Le=$(rl),Ce=h(rl,"HR",{class:!0}),Ze=$(rl),We=h(rl,"DIV",{class:!0});var al=v(We);xe=h(al,"DIV",{class:!0});var yl=v(xe);Ee=G(yl,Be),yl.forEach(c),Oe=$(al),rt=h(al,"DIV",{class:!0});var Dl=v(rt);et=h(Dl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),Dl.forEach(c),al.forEach(c),Fe=$(rl),ut&&ut.l(rl),gt=$(rl),vt=h(rl,"DIV",{class:!0});var gl=v(vt);Me=h(gl,"DIV",{class:!0});var El=v(Me);kt=G(El,mt),El.forEach(c),it=$(gl),ot=h(gl,"DIV",{class:!0});var Il=v(ot);_e(ht.$$.fragment,Il),Il.forEach(c),gl.forEach(c),rl.forEach(c),this.h()},h(){f(t,"class","mb-2.5 text-base font-medium"),f(a,"class","border-gray-100 dark:border-gray-850 my-2"),f(E,"class","self-center text-xs font-medium"),T.__value="",le(T,T.__value),D.__value="ollama",le(D,D.__value),N.__value="openai",le(N,N.__value),f(I,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(I,"placeholder","Select an embedding model engine"),s[4]===void 0&&ml(()=>s[46].call(I)),f(b,"class","flex items-center relative"),f(d,"class","flex w-full justify-between"),f(u,"class","mb-2.5 flex flex-col w-full justify-between"),f(L,"class","mb-1 text-xs font-medium"),f(z,"class",""),f(re,"class","mt-1 mb-1 text-xs text-gray-400 dark:text-gray-500"),f(C,"class","mb-2.5 flex flex-col w-full"),f(K,"class","self-center text-xs font-medium"),f(Ie,"class","flex items-center relative"),f(X,"class","mb-2.5 flex w-full justify-between"),f(ae,"class","self-center text-xs font-medium"),f($e,"class","flex items-center relative"),f(ce,"class","mb-2.5 flex w-full justify-between"),f(e,"class","mb-3"),f(se,"class","mb-2.5 text-base font-medium"),f(Ce,"class","border-gray-100 dark:border-gray-850 my-2"),f(xe,"class","self-center text-xs font-medium"),f(et,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(et,"type","number"),f(et,"placeholder",_t=s[27].t("Enter Top K")),f(et,"autocomplete","off"),f(et,"min","0"),f(rt,"class","flex items-center relative"),f(We,"class","mb-2.5 flex w-full justify-between"),f(Me,"class","mb-1 text-xs font-medium"),f(ot,"class","flex w-full items-center relative"),f(vt,"class","mb-2.5 flex flex-col w-full justify-between"),f(Ne,"class","mb-3")},m(me,Re){U(me,e,Re),n(e,t),n(t,r),n(e,i),n(e,a),n(e,o),n(e,u),n(u,d),n(d,E),n(E,p),n(d,m),n(d,b),n(b,I),n(I,T),n(T,k),n(I,D),n(D,O),n(I,N),n(N,V),yt(I,s[4],!0),n(u,M),~R&&Se[R].m(u,null),n(e,Z),n(e,C),n(C,L),n(L,B),n(C,q),n(C,z),Pe.m(z,null),n(C,x),n(C,re),n(re,Q),n(e,J),Ye&&Ye.m(e,null),n(e,j),n(e,X),n(X,K),n(K,fe),n(X,ne),n(X,Ie),he(ke,Ie,null),n(e,be),n(e,ce),n(ce,ae),n(ae,Te),n(ce,ge),n(ce,$e),he(Ve,$e,null),n(e,we),Dt&&Dt.m(e,null),U(me,De,Re),U(me,Ne,Re),n(Ne,se),n(se,Ue),n(Ne,Le),n(Ne,Ce),n(Ne,Ze),n(Ne,We),n(We,xe),n(xe,Ee),n(We,Oe),n(We,rt),n(rt,et),le(et,s[26].k),n(Ne,Fe),ut&&ut.m(Ne,null),n(Ne,gt),n(Ne,vt),n(vt,Me),n(Me,kt),n(vt,it),n(vt,ot),he(ht,ot,null),Et=!0,Tt||(pt=[ue(I,"change",s[46]),ue(I,"change",s[47]),ue(et,"input",s[61])],Tt=!0)},p(me,Re){(!Et||Re[0]&134217728)&&l!==(l=me[27].t("Embedding")+"")&&F(r,l),(!Et||Re[0]&134217728)&&g!==(g=me[27].t("Embedding Model Engine")+"")&&F(p,g),(!Et||Re[0]&134217728)&&w!==(w=me[27].t("Default (SentenceTransformers)")+"")&&F(k,w),(!Et||Re[0]&134217728)&&y!==(y=me[27].t("Ollama")+"")&&F(O,y),(!Et||Re[0]&134217728)&&S!==(S=me[27].t("OpenAI")+"")&&F(V,S),Re[0]&16&&yt(I,me[4]);let wt=R;R=Ke(me),R===wt?~R&&Se[R].p(me,Re):(ee&&(at(),W(Se[wt],1,1,()=>{Se[wt]=null}),nt()),~R?(ee=Se[R],ee?ee.p(me,Re):(ee=Se[R]=ft[R](me),ee.c()),Y(ee,1),ee.m(u,null)):ee=null),(!Et||Re[0]&134217728)&&P!==(P=me[27].t("Embedding Model")+"")&&F(B,P),dt===(dt=Pt(me))&&Pe?Pe.p(me,Re):(Pe.d(1),Pe=dt(me),Pe&&(Pe.c(),Pe.m(z,null))),(!Et||Re[0]&134217728)&&te!==(te=me[27].t("Warning: If you update or change your embedding model, you will need to re-import all documents.")+"")&&F(Q,te),me[4]==="ollama"||me[4]==="openai"?Ye?Ye.p(me,Re):(Ye=Ha(me),Ye.c(),Ye.m(e,j)):Ye&&(Ye.d(1),Ye=null),(!Et||Re[0]&134217728)&&ie!==(ie=me[27].t("Full Context Mode")+"")&&F(fe,ie);const Ht={};Re[0]&262144&&(Ht.content=me[18]?"Inject entire contents as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."),Re[0]&262144|Re[2]&16384&&(Ht.$$scope={dirty:Re,ctx:me}),ke.$set(Ht),(!Et||Re[0]&134217728)&&ve!==(ve=me[27].t("Hybrid Search")+"")&&F(Te,ve);const Ct={};!oe&&Re[0]&67108864&&(oe=!0,Ct.state=me[26].hybrid,Xe(()=>oe=!1)),Ve.$set(Ct),me[26].hybrid===!0?Dt?Dt.p(me,Re):(Dt=Ga(me),Dt.c(),Dt.m(e,null)):Dt&&(Dt.d(1),Dt=null),(!Et||Re[0]&134217728)&&Ae!==(Ae=me[27].t("Retrieval")+"")&&F(Ue,Ae),(!Et||Re[0]&134217728)&&Be!==(Be=me[27].t("Top K")+"")&&F(Ee,Be),(!Et||Re[0]&134217728&&_t!==(_t=me[27].t("Enter Top K")))&&f(et,"placeholder",_t),Re[0]&67108864&&$l(et.value)!==me[26].k&&le(et,me[26].k),me[26].hybrid===!0?ut?ut.p(me,Re):(ut=ja(me),ut.c(),ut.m(Ne,gt)):ut&&(ut.d(1),ut=null),(!Et||Re[0]&134217728)&&mt!==(mt=me[27].t("RAG Template")+"")&&F(kt,mt);const Gt={};Re[0]&134217728&&(Gt.content=me[27].t("Leave empty to use the default prompt, or enter a custom prompt")),Re[0]&201326592|Re[2]&16384&&(Gt.$$scope={dirty:Re,ctx:me}),ht.$set(Gt)},i(me){Et||(Y(ee),Y(ke.$$.fragment,me),Y(Ve.$$.fragment,me),Y(ht.$$.fragment,me),Et=!0)},o(me){W(ee),W(ke.$$.fragment,me),W(Ve.$$.fragment,me),W(ht.$$.fragment,me),Et=!1},d(me){me&&(c(e),c(De),c(Ne)),~R&&Se[R].d(),Pe.d(),Ye&&Ye.d(),pe(ke),pe(Ve),Dt&&Dt.d(),ut&&ut.d(),pe(ht),Tt=!1,zt(pt)}}}function tc(s){let e,t,l,r,i,a,o,u,d;function E(p){s[51](p)}let g={placeholder:s[27].t("API Key"),required:!1};return s[25]!==void 0&&(g.value=s[25]),i=new pl({props:g}),Je.push(()=>Qe(i,"value",E)),{c(){e=_("div"),t=_("input"),r=A(),de(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"INPUT",{class:!0,placeholder:!0}),r=$(m),_e(i.$$.fragment,m),m.forEach(c),this.h()},h(){f(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(t,"placeholder",l=s[27].t("API Base URL")),t.required=!0,f(e,"class","my-0.5 flex gap-2 pr-2")},m(p,m){U(p,e,m),n(e,t),le(t,s[24]),n(e,r),he(i,e,null),o=!0,u||(d=ue(t,"input",s[50]),u=!0)},p(p,m){(!o||m[0]&134217728&&l!==(l=p[27].t("API Base URL")))&&f(t,"placeholder",l),m[0]&16777216&&t.value!==p[24]&&le(t,p[24]);const b={};m[0]&134217728&&(b.placeholder=p[27].t("API Key")),!a&&m[0]&33554432&&(a=!0,b.value=p[25],Xe(()=>a=!1)),i.$set(b)},i(p){o||(Y(i.$$.fragment,p),o=!0)},o(p){W(i.$$.fragment,p),o=!1},d(p){p&&c(e),pe(i),u=!1,d()}}}function lc(s){let e,t,l,r,i,a,o,u,d;function E(p){s[49](p)}let g={placeholder:s[27].t("API Key")};return s[23]!==void 0&&(g.value=s[23]),i=new pl({props:g}),Je.push(()=>Qe(i,"value",E)),{c(){e=_("div"),t=_("input"),r=A(),de(i.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"INPUT",{class:!0,placeholder:!0}),r=$(m),_e(i.$$.fragment,m),m.forEach(c),this.h()},h(){f(t,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(t,"placeholder",l=s[27].t("API Base URL")),t.required=!0,f(e,"class","my-0.5 flex gap-2 pr-2")},m(p,m){U(p,e,m),n(e,t),le(t,s[22]),n(e,r),he(i,e,null),o=!0,u||(d=ue(t,"input",s[48]),u=!0)},p(p,m){(!o||m[0]&134217728&&l!==(l=p[27].t("API Base URL")))&&f(t,"placeholder",l),m[0]&4194304&&t.value!==p[22]&&le(t,p[22]);const b={};m[0]&134217728&&(b.placeholder=p[27].t("API Key")),!a&&m[0]&8388608&&(a=!0,b.value=p[23],Xe(()=>a=!1)),i.$set(b)},i(p){o||(Y(i.$$.fragment,p),o=!0)},o(p){W(i.$$.fragment,p),o=!1},d(p){p&&c(e),pe(i),u=!1,d()}}}function sc(s){let e,t,l,r,i,a,o,u=s[4]===""&&Ba(s);return{c(){e=_("div"),t=_("div"),l=_("input"),i=A(),u&&u.c(),this.h()},l(d){e=h(d,"DIV",{class:!0});var E=v(e);t=h(E,"DIV",{class:!0});var g=v(t);l=h(g,"INPUT",{class:!0,placeholder:!0}),g.forEach(c),i=$(E),u&&u.l(E),E.forEach(c),this.h()},h(){f(l,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(l,"placeholder",r=s[27].t("Set embedding model (e.g. {{model}})",{model:s[5].slice(-40)})),f(t,"class","flex-1 mr-2"),f(e,"class","flex w-full")},m(d,E){U(d,e,E),n(e,t),n(t,l),le(l,s[5]),n(e,i),u&&u.m(e,null),a||(o=ue(l,"input",s[53]),a=!0)},p(d,E){E[0]&134217760&&r!==(r=d[27].t("Set embedding model (e.g. {{model}})",{model:d[5].slice(-40)}))&&f(l,"placeholder",r),E[0]&32&&l.value!==d[5]&&le(l,d[5]),d[4]===""?u?u.p(d,E):(u=Ba(d),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(d){d&&c(e),u&&u.d(),a=!1,o()}}}function rc(s){let e,t,l,r,i,a;return{c(){e=_("div"),t=_("div"),l=_("input"),this.h()},l(o){e=h(o,"DIV",{class:!0});var u=v(e);t=h(u,"DIV",{class:!0});var d=v(t);l=h(d,"INPUT",{class:!0,placeholder:!0}),d.forEach(c),u.forEach(c),this.h()},h(){f(l,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(l,"placeholder",r=s[27].t("Set embedding model")),l.required=!0,f(t,"class","flex-1 mr-2"),f(e,"class","flex w-full")},m(o,u){U(o,e,u),n(e,t),n(t,l),le(l,s[5]),i||(a=ue(l,"input",s[52]),i=!0)},p(o,u){u[0]&134217728&&r!==(r=o[27].t("Set embedding model"))&&f(l,"placeholder",r),u[0]&32&&l.value!==o[5]&&le(l,o[5])},d(o){o&&c(e),i=!1,a()}}}function Ba(s){let e,t,l;function r(o,u){return o[0]?nc:ac}let i=r(s),a=i(s);return{c(){e=_("button"),a.c(),this.h()},l(o){e=h(o,"BUTTON",{class:!0});var u=v(e);a.l(u),u.forEach(c),this.h()},h(){f(e,"class","px-2.5 bg-transparent text-gray-800 dark:bg-transparent dark:text-gray-100 rounded-lg transition"),e.disabled=s[0]},m(o,u){U(o,e,u),a.m(e,null),t||(l=ue(e,"click",s[54]),t=!0)},p(o,u){i!==(i=r(o))&&(a.d(1),a=i(o),a&&(a.c(),a.m(e,null))),u[0]&1&&(e.disabled=o[0])},d(o){o&&c(e),a.d(),t=!1,l()}}}function ac(s){let e,t,l;return{c(){e=Zt("svg"),t=Zt("path"),l=Zt("path"),this.h()},l(r){e=Jt(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=Jt(i,"path",{d:!0}),v(t).forEach(c),l=Jt(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){f(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),f(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 16 16"),f(e,"fill","currentColor"),f(e,"class","w-4 h-4")},m(r,i){U(r,e,i),n(e,t),n(e,l)},d(r){r&&c(e)}}}function nc(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
																transform-origin: center;
																animation: spinner_AtaB 0.75s infinite linear;
															}

															@keyframes spinner_AtaB {
																100% {
																	transform: rotate(360deg);
																}
															}
														</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-15ooe3b"&&(e.innerHTML=t),this.h()},h(){f(e,"class","self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function Ha(s){let e,t,l=s[27].t("Embedding Batch Size")+"",r,i,a,o,u,d;return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("input"),this.h()},l(E){e=h(E,"DIV",{class:!0});var g=v(e);t=h(g,"DIV",{class:!0});var p=v(t);r=G(p,l),p.forEach(c),i=$(g),a=h(g,"DIV",{class:!0});var m=v(a);o=h(m,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),m.forEach(c),g.forEach(c),this.h()},h(){f(t,"class","self-center text-xs font-medium"),f(o,"type","number"),f(o,"class","bg-transparent text-center w-14 outline-none"),f(o,"min","-2"),f(o,"max","16000"),f(o,"step","1"),f(a,"class",""),f(e,"class","mb-2.5 flex w-full justify-between")},m(E,g){U(E,e,g),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),le(o,s[6]),u||(d=ue(o,"input",s[55]),u=!0)},p(E,g){g[0]&134217728&&l!==(l=E[27].t("Embedding Batch Size")+"")&&F(r,l),g[0]&64&&$l(o.value)!==E[6]&&le(o,E[6])},d(E){E&&c(e),u=!1,d()}}}function ic(s){let e,t,l;function r(a){s[56](a)}let i={};return s[18]!==void 0&&(i.state=s[18]),e=new cl({props:i}),Je.push(()=>Qe(e,"state",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};!t&&o[0]&262144&&(t=!0,u.state=a[18],Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function Ga(s){let e,t,l=s[27].t("Reranking Model")+"",r,i,a,o,u,d,E,g,p,m,b;function I(k,D){return k[1]?uc:oc}let T=I(s),w=T(s);return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("div"),u=_("div"),d=_("input"),g=A(),p=_("button"),w.c(),this.h()},l(k){e=h(k,"DIV",{class:!0});var D=v(e);t=h(D,"DIV",{class:!0});var y=v(t);r=G(y,l),y.forEach(c),i=$(D),a=h(D,"DIV",{class:!0});var O=v(a);o=h(O,"DIV",{class:!0});var N=v(o);u=h(N,"DIV",{class:!0});var S=v(u);d=h(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(c),g=$(N),p=h(N,"BUTTON",{class:!0});var V=v(p);w.l(V),V.forEach(c),N.forEach(c),O.forEach(c),D.forEach(c),this.h()},h(){f(t,"class","mb-1 text-xs font-medium"),f(d,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(d,"placeholder",E=s[27].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"})),f(u,"class","flex-1 mr-2"),f(p,"class","px-2.5 bg-transparent text-gray-800 dark:bg-transparent dark:text-gray-100 rounded-lg transition"),p.disabled=s[1],f(o,"class","flex w-full"),f(a,"class",""),f(e,"class","mb-2.5 flex flex-col w-full")},m(k,D){U(k,e,D),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,u),n(u,d),le(d,s[7]),n(o,g),n(o,p),w.m(p,null),m||(b=[ue(d,"input",s[59]),ue(p,"click",s[60])],m=!0)},p(k,D){D[0]&134217728&&l!==(l=k[27].t("Reranking Model")+"")&&F(r,l),D[0]&134217728&&E!==(E=k[27].t("Set reranking model (e.g. {{model}})",{model:"BAAI/bge-reranker-v2-m3"}))&&f(d,"placeholder",E),D[0]&128&&d.value!==k[7]&&le(d,k[7]),T!==(T=I(k))&&(w.d(1),w=T(k),w&&(w.c(),w.m(p,null))),D[0]&2&&(p.disabled=k[1])},d(k){k&&c(e),w.d(),m=!1,zt(b)}}}function oc(s){let e,t,l;return{c(){e=Zt("svg"),t=Zt("path"),l=Zt("path"),this.h()},l(r){e=Jt(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=v(e);t=Jt(i,"path",{d:!0}),v(t).forEach(c),l=Jt(i,"path",{d:!0}),v(l).forEach(c),i.forEach(c),this.h()},h(){f(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),f(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"viewBox","0 0 16 16"),f(e,"fill","currentColor"),f(e,"class","w-4 h-4")},m(r,i){U(r,e,i),n(e,t),n(e,l)},d(r){r&&c(e)}}}function uc(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
															transform-origin: center;
															animation: spinner_AtaB 0.75s infinite linear;
														}

														@keyframes spinner_AtaB {
															100% {
																transform: rotate(360deg);
															}
														}
													</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-1d0lqo6"&&(e.innerHTML=t),this.h()},h(){f(e,"class","self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function ja(s){let e,t,l,r=s[27].t("Minimum Score")+"",i,a,o,u,d,E,g,p,m=s[27].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"",b,I,T;return{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("div"),u=_("input"),g=A(),p=_("div"),b=H(m),this.h()},l(w){e=h(w,"DIV",{class:!0});var k=v(e);t=h(k,"DIV",{class:!0});var D=v(t);l=h(D,"DIV",{class:!0});var y=v(l);i=G(y,r),y.forEach(c),a=$(D),o=h(D,"DIV",{class:!0});var O=v(o);u=h(O,"INPUT",{class:!0,type:!0,step:!0,placeholder:!0,autocomplete:!0,min:!0,title:!0}),O.forEach(c),D.forEach(c),g=$(k),p=h(k,"DIV",{class:!0});var N=v(p);b=G(N,m),N.forEach(c),k.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium"),f(u,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(u,"type","number"),f(u,"step","0.01"),f(u,"placeholder",d=s[27].t("Enter Score")),f(u,"autocomplete","off"),f(u,"min","0.0"),f(u,"title",E=s[27].t("The score should be a value between 0.0 (0%) and 1.0 (100%).")),f(o,"class","flex items-center relative"),f(t,"class","flex w-full justify-between"),f(p,"class","mt-1 text-xs text-gray-400 dark:text-gray-500"),f(e,"class","mb-2.5 flex flex-col w-full justify-between")},m(w,k){U(w,e,k),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(o,u),le(u,s[26].r),n(e,g),n(e,p),n(p,b),I||(T=ue(u,"input",s[62]),I=!0)},p(w,k){k[0]&134217728&&r!==(r=w[27].t("Minimum Score")+"")&&F(i,r),k[0]&134217728&&d!==(d=w[27].t("Enter Score"))&&f(u,"placeholder",d),k[0]&134217728&&E!==(E=w[27].t("The score should be a value between 0.0 (0%) and 1.0 (100%)."))&&f(u,"title",E),k[0]&67108864&&$l(u.value)!==w[26].r&&le(u,w[26].r),k[0]&134217728&&m!==(m=w[27].t("Note: If you set a minimum score, the search will only return documents with a score greater than or equal to the minimum score.")+"")&&F(b,m)},d(w){w&&c(e),I=!1,T()}}}function fc(s){let e,t,l;function r(a){s[63](a)}let i={placeholder:s[27].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[26].template!==void 0&&(i.value=s[26].template),e=new Es({props:i}),Je.push(()=>Qe(e,"value",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};o[0]&134217728&&(u.placeholder=a[27].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&o[0]&67108864&&(t=!0,u.value=a[26].template,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function cc(s){let e,t,l,r;return{c(){e=_("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){f(e,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(e,"type","number"),f(e,"placeholder",t=s[27].t("Leave empty for unlimited")),f(e,"autocomplete","off"),f(e,"min","0")},m(i,a){U(i,e,a),le(e,s[8]),l||(r=ue(e,"input",s[64]),l=!0)},p(i,a){a[0]&134217728&&t!==(t=i[27].t("Leave empty for unlimited"))&&f(e,"placeholder",t),a[0]&256&&$l(e.value)!==i[8]&&le(e,i[8])},d(i){i&&c(e),l=!1,r()}}}function dc(s){let e,t,l,r;return{c(){e=_("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),this.h()},h(){f(e,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(e,"type","number"),f(e,"placeholder",t=s[27].t("Leave empty for unlimited")),f(e,"autocomplete","off"),f(e,"min","0")},m(i,a){U(i,e,a),le(e,s[9]),l||(r=ue(e,"input",s[65]),l=!0)},p(i,a){a[0]&134217728&&t!==(t=i[27].t("Leave empty for unlimited"))&&f(e,"placeholder",t),a[0]&512&&$l(e.value)!==i[9]&&le(e,i[9])},d(i){i&&c(e),l=!1,r()}}}function _c(s){let e,t,l,r,i,a,o,u,d,E,g,p=s[27].t("General")+"",m,b,I,T,w,k,D,y=s[27].t("Content Extraction Engine")+"",O,N,S,V,M,R=s[27].t("Default")+"",ee,Z,C,L=s[27].t("Tika")+"",P,B,q=s[27].t("Document Intelligence")+"",z,x,re,te,Q,J,j,X,K,ie,fe,ne,Ie,ke,be,ce,ae,ve=s[27].t("Files")+"",Te,ge,$e,Ve,oe,we,De=s[27].t("Max Upload Size")+"",Ne,se,Ae,Ue,Le,Ce,Ze,We=s[27].t("Max Upload Count")+"",xe,Be,Ee,Oe,rt,et,_t,Fe=s[27].t("Integration")+"",gt,vt,Me,mt,kt,it,ot=s[27].t("Google Drive")+"",ht,Et,Tt,pt,ft,Se,Ke,Pt,dt=s[27].t("OneDrive")+"",Pe,Ye,bt,It,Dt,ut,me,Re,wt=s[27].t("Danger Zone")+"",Ht,Ct,Gt,Yt,Bt,el,Wt=s[27].t("Reset Upload Directory")+"",Ut,Nt,ct,je,lt=s[27].t("Reset")+"",jt,tl,At,ll,Ft=s[27].t("Reset Vector Storage/Knowledge")+"",Kt,rl,nl,al,yl=s[27].t("Reset")+"",Dl,gl,El,Il,Al=s[27].t("Save")+"",qt,il,jl,Ul;function wl(He){s[33](He)}let Cl={};s[3]!==void 0&&(Cl.show=s[3]),e=new Us({props:Cl}),Je.push(()=>Qe(e,"show",wl)),e.$on("confirm",s[34]);function kl(He){s[35](He)}let Xl={};s[2]!==void 0&&(Xl.show=s[2]),r=new Us({props:Xl}),Je.push(()=>Qe(r,"show",kl)),r.$on("confirm",s[36]);const Jl=[Qf,Xf],Xt=[];function ss(He,qe){return He[10]==="tika"?0:He[10]==="document_intelligence"?1:-1}~(re=ss(s))&&(te=Xt[re]=Jl[re](s));let ul=s[10]===""&&La(s);K=new Ot({props:{content:s[27].t("Full Context Mode"),placement:"top-start",$$slots:{default:[xf]},$$scope:{ctx:s}}}),ne=new Ot({props:{content:s[19]?"Inject the entire content as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.",$$slots:{default:[ec]},$$scope:{ctx:s}}});let St=!s[19]&&Ua(s),fl=!s[19]&&Ca(s);Ue=new Ot({props:{content:s[27].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded."),placement:"top-start",$$slots:{default:[cc]},$$scope:{ctx:s}}}),Oe=new Ot({props:{content:s[27].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded."),placement:"top-start",$$slots:{default:[dc]},$$scope:{ctx:s}}});function rs(He){s[66](He)}let as={};s[20]!==void 0&&(as.state=s[20]),pt=new cl({props:as}),Je.push(()=>Qe(pt,"state",rs));function ns(He){s[67](He)}let ol={};return s[21]!==void 0&&(ol.state=s[21]),It=new cl({props:ol}),Je.push(()=>Qe(It,"state",ns)),{c(){de(e.$$.fragment),l=A(),de(r.$$.fragment),a=A(),o=_("form"),u=_("div"),d=_("div"),E=_("div"),g=_("div"),m=H(p),b=A(),I=_("hr"),T=A(),w=_("div"),k=_("div"),D=_("div"),O=H(y),N=A(),S=_("div"),V=_("select"),M=_("option"),ee=H(R),Z=A(),C=_("option"),P=H(L),B=_("option"),z=H(q),x=A(),te&&te.c(),Q=A(),ul&&ul.c(),J=A(),j=_("div"),X=_("div"),de(K.$$.fragment),ie=A(),fe=_("div"),de(ne.$$.fragment),Ie=A(),St&&St.c(),ke=A(),fl&&fl.c(),be=A(),ce=_("div"),ae=_("div"),Te=H(ve),ge=A(),$e=_("hr"),Ve=A(),oe=_("div"),we=_("div"),Ne=H(De),se=A(),Ae=_("div"),de(Ue.$$.fragment),Le=A(),Ce=_("div"),Ze=_("div"),xe=H(We),Be=A(),Ee=_("div"),de(Oe.$$.fragment),rt=A(),et=_("div"),_t=_("div"),gt=H(Fe),vt=A(),Me=_("hr"),mt=A(),kt=_("div"),it=_("div"),ht=H(ot),Et=A(),Tt=_("div"),de(pt.$$.fragment),Se=A(),Ke=_("div"),Pt=_("div"),Pe=H(dt),Ye=A(),bt=_("div"),de(It.$$.fragment),ut=A(),me=_("div"),Re=_("div"),Ht=H(wt),Ct=A(),Gt=_("hr"),Yt=A(),Bt=_("div"),el=_("div"),Ut=H(Wt),Nt=A(),ct=_("div"),je=_("button"),jt=H(lt),tl=A(),At=_("div"),ll=_("div"),Kt=H(Ft),rl=A(),nl=_("div"),al=_("button"),Dl=H(yl),gl=A(),El=_("div"),Il=_("button"),qt=H(Al),this.h()},l(He){_e(e.$$.fragment,He),l=$(He),_e(r.$$.fragment,He),a=$(He),o=h(He,"FORM",{class:!0});var qe=v(o);u=h(qe,"DIV",{class:!0});var is=v(u);d=h(is,"DIV",{class:!0});var sl=v(d);E=h(sl,"DIV",{class:!0});var ye=v(E);g=h(ye,"DIV",{class:!0});var ze=v(g);m=G(ze,p),ze.forEach(c),b=$(ye),I=h(ye,"HR",{class:!0}),T=$(ye),w=h(ye,"DIV",{class:!0});var Qt=v(w);k=h(Qt,"DIV",{class:!0});var Mt=v(k);D=h(Mt,"DIV",{class:!0});var Bl=v(D);O=G(Bl,y),Bl.forEach(c),N=$(Mt),S=h(Mt,"DIV",{class:!0});var Rl=v(S);V=h(Rl,"SELECT",{class:!0});var Ll=v(V);M=h(Ll,"OPTION",{});var Hl=v(M);ee=G(Hl,R),Z=$(Hl),Hl.forEach(c),C=h(Ll,"OPTION",{});var Kl=v(C);P=G(Kl,L),Kl.forEach(c),B=h(Ll,"OPTION",{});var Ql=v(B);z=G(Ql,q),Ql.forEach(c),Ll.forEach(c),Rl.forEach(c),Mt.forEach(c),x=$(Qt),te&&te.l(Qt),Qt.forEach(c),Q=$(ye),ul&&ul.l(ye),J=$(ye),j=h(ye,"DIV",{class:!0});var Gl=v(j);X=h(Gl,"DIV",{class:!0});var $t=v(X);_e(K.$$.fragment,$t),$t.forEach(c),ie=$(Gl),fe=h(Gl,"DIV",{class:!0});var Nl=v(fe);_e(ne.$$.fragment,Nl),Nl.forEach(c),Gl.forEach(c),Ie=$(ye),St&&St.l(ye),ye.forEach(c),ke=$(sl),fl&&fl.l(sl),be=$(sl),ce=h(sl,"DIV",{class:!0});var Yl=v(ce);ae=h(Yl,"DIV",{class:!0});var bs=v(ae);Te=G(bs,ve),bs.forEach(c),ge=$(Yl),$e=h(Yl,"HR",{class:!0}),Ve=$(Yl),oe=h(Yl,"DIV",{class:!0});var os=v(oe);we=h(os,"DIV",{class:!0});var us=v(we);Ne=G(us,De),us.forEach(c),se=$(os),Ae=h(os,"DIV",{class:!0});var ys=v(Ae);_e(Ue.$$.fragment,ys),ys.forEach(c),os.forEach(c),Le=$(Yl),Ce=h(Yl,"DIV",{class:!0});var xl=v(Ce);Ze=h(xl,"DIV",{class:!0});var As=v(Ze);xe=G(As,We),As.forEach(c),Be=$(xl),Ee=h(xl,"DIV",{class:!0});var fs=v(Ee);_e(Oe.$$.fragment,fs),fs.forEach(c),xl.forEach(c),Yl.forEach(c),rt=$(sl),et=h(sl,"DIV",{class:!0});var Fl=v(et);_t=h(Fl,"DIV",{class:!0});var cs=v(_t);gt=G(cs,Fe),cs.forEach(c),vt=$(Fl),Me=h(Fl,"HR",{class:!0}),mt=$(Fl),kt=h(Fl,"DIV",{class:!0});var ds=v(kt);it=h(ds,"DIV",{class:!0});var _s=v(it);ht=G(_s,ot),_s.forEach(c),Et=$(ds),Tt=h(ds,"DIV",{class:!0});var $s=v(Tt);_e(pt.$$.fragment,$s),$s.forEach(c),ds.forEach(c),Se=$(Fl),Ke=h(Fl,"DIV",{class:!0});var es=v(Ke);Pt=h(es,"DIV",{class:!0});var Vs=v(Pt);Pe=G(Vs,dt),Vs.forEach(c),Ye=$(es),bt=h(es,"DIV",{class:!0});var hs=v(bt);_e(It.$$.fragment,hs),hs.forEach(c),es.forEach(c),Fl.forEach(c),ut=$(sl),me=h(sl,"DIV",{class:!0});var ql=v(me);Re=h(ql,"DIV",{class:!0});var ps=v(Re);Ht=G(ps,wt),ps.forEach(c),Ct=$(ql),Gt=h(ql,"HR",{class:!0}),Yt=$(ql),Bt=h(ql,"DIV",{class:!0});var vs=v(Bt);el=h(vs,"DIV",{class:!0});var Wl=v(el);Ut=G(Wl,Wt),Wl.forEach(c),Nt=$(vs),ct=h(vs,"DIV",{class:!0});var Os=v(ct);je=h(Os,"BUTTON",{class:!0});var ms=v(je);jt=G(ms,lt),ms.forEach(c),Os.forEach(c),vs.forEach(c),tl=$(ql),At=h(ql,"DIV",{class:!0});var ts=v(At);ll=h(ts,"DIV",{class:!0});var Ns=v(ll);Kt=G(Ns,Ft),Ns.forEach(c),rl=$(ts),nl=h(ts,"DIV",{class:!0});var Ps=v(nl);al=h(Ps,"BUTTON",{class:!0});var Ss=v(al);Dl=G(Ss,yl),Ss.forEach(c),Ps.forEach(c),ts.forEach(c),ql.forEach(c),sl.forEach(c),is.forEach(c),gl=$(qe),El=h(qe,"DIV",{class:!0});var Ms=v(El);Il=h(Ms,"BUTTON",{class:!0,type:!0});var Sl=v(Il);qt=G(Sl,Al),Sl.forEach(c),Ms.forEach(c),qe.forEach(c),this.h()},h(){f(g,"class","mb-2.5 text-base font-medium"),f(I,"class","border-gray-100 dark:border-gray-850 my-2"),f(D,"class","self-center text-xs font-medium"),M.__value="",le(M,M.__value),C.__value="tika",le(C,C.__value),B.__value="document_intelligence",le(B,B.__value),f(V,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 text-xs bg-transparent outline-hidden text-right"),s[10]===void 0&&ml(()=>s[37].call(V)),f(S,"class",""),f(k,"class","flex w-full justify-between"),f(w,"class","mb-2.5 flex flex-col w-full justify-between"),f(X,"class","self-center text-xs font-medium"),f(fe,"class","flex items-center relative"),f(j,"class","mb-2.5 flex w-full justify-between"),f(E,"class","mb-3"),f(ae,"class","mb-2.5 text-base font-medium"),f($e,"class","border-gray-100 dark:border-gray-850 my-2"),f(we,"class","self-center text-xs font-medium"),f(Ae,"class","flex items-center relative"),f(oe,"class","mb-2.5 flex w-full justify-between"),f(Ze,"class","self-center text-xs font-medium"),f(Ee,"class","flex items-center relative"),f(Ce,"class","mb-2.5 flex w-full justify-between"),f(ce,"class","mb-3"),f(_t,"class","mb-2.5 text-base font-medium"),f(Me,"class","border-gray-100 dark:border-gray-850 my-2"),f(it,"class","self-center text-xs font-medium"),f(Tt,"class","flex items-center relative"),f(kt,"class","mb-2.5 flex w-full justify-between"),f(Pt,"class","self-center text-xs font-medium"),f(bt,"class","flex items-center relative"),f(Ke,"class","mb-2.5 flex w-full justify-between"),f(et,"class","mb-3"),f(Re,"class","mb-2.5 text-base font-medium"),f(Gt,"class","border-gray-100 dark:border-gray-850 my-2"),f(el,"class","self-center text-xs font-medium"),f(je,"class","text-xs"),f(ct,"class","flex items-center relative"),f(Bt,"class","mb-2.5 flex w-full justify-between"),f(ll,"class","self-center text-xs font-medium"),f(al,"class","text-xs"),f(nl,"class","flex items-center relative"),f(At,"class","mb-2.5 flex w-full justify-between"),f(me,"class","mb-3"),f(d,"class",""),f(u,"class","space-y-2.5 overflow-y-scroll scrollbar-hidden h-full pr-1.5"),f(Il,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(Il,"type","submit"),f(El,"class","flex justify-end pt-3 text-sm font-medium"),f(o,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(He,qe){he(e,He,qe),U(He,l,qe),he(r,He,qe),U(He,a,qe),U(He,o,qe),n(o,u),n(u,d),n(d,E),n(E,g),n(g,m),n(E,b),n(E,I),n(E,T),n(E,w),n(w,k),n(k,D),n(D,O),n(k,N),n(k,S),n(S,V),n(V,M),n(M,ee),n(M,Z),n(V,C),n(C,P),n(V,B),n(B,z),yt(V,s[10],!0),n(w,x),~re&&Xt[re].m(w,null),n(E,Q),ul&&ul.m(E,null),n(E,J),n(E,j),n(j,X),he(K,X,null),n(j,ie),n(j,fe),he(ne,fe,null),n(E,Ie),St&&St.m(E,null),n(d,ke),fl&&fl.m(d,null),n(d,be),n(d,ce),n(ce,ae),n(ae,Te),n(ce,ge),n(ce,$e),n(ce,Ve),n(ce,oe),n(oe,we),n(we,Ne),n(oe,se),n(oe,Ae),he(Ue,Ae,null),n(ce,Le),n(ce,Ce),n(Ce,Ze),n(Ze,xe),n(Ce,Be),n(Ce,Ee),he(Oe,Ee,null),n(d,rt),n(d,et),n(et,_t),n(_t,gt),n(et,vt),n(et,Me),n(et,mt),n(et,kt),n(kt,it),n(it,ht),n(kt,Et),n(kt,Tt),he(pt,Tt,null),n(et,Se),n(et,Ke),n(Ke,Pt),n(Pt,Pe),n(Ke,Ye),n(Ke,bt),he(It,bt,null),n(d,ut),n(d,me),n(me,Re),n(Re,Ht),n(me,Ct),n(me,Gt),n(me,Yt),n(me,Bt),n(Bt,el),n(el,Ut),n(Bt,Nt),n(Bt,ct),n(ct,je),n(je,jt),n(me,tl),n(me,At),n(At,ll),n(ll,Kt),n(At,rl),n(At,nl),n(nl,al),n(al,Dl),n(o,gl),n(o,El),n(El,Il),n(Il,qt),il=!0,jl||(Ul=[ue(V,"change",s[37]),ue(je,"click",s[68]),ue(al,"click",s[69]),ue(o,"submit",Ml(s[70]))],jl=!0)},p(He,qe){const is={};!t&&qe[0]&8&&(t=!0,is.show=He[3],Xe(()=>t=!1)),e.$set(is);const sl={};!i&&qe[0]&4&&(i=!0,sl.show=He[2],Xe(()=>i=!1)),r.$set(sl),(!il||qe[0]&134217728)&&p!==(p=He[27].t("General")+"")&&F(m,p),(!il||qe[0]&134217728)&&y!==(y=He[27].t("Content Extraction Engine")+"")&&F(O,y),(!il||qe[0]&134217728)&&R!==(R=He[27].t("Default")+"")&&F(ee,R),(!il||qe[0]&134217728)&&L!==(L=He[27].t("Tika")+"")&&F(P,L),(!il||qe[0]&134217728)&&q!==(q=He[27].t("Document Intelligence")+"")&&F(z,q),qe[0]&1024&&yt(V,He[10]);let ye=re;re=ss(He),re===ye?~re&&Xt[re].p(He,qe):(te&&(at(),W(Xt[ye],1,1,()=>{Xt[ye]=null}),nt()),~re?(te=Xt[re],te?te.p(He,qe):(te=Xt[re]=Jl[re](He),te.c()),Y(te,1),te.m(w,null)):te=null),He[10]===""?ul?(ul.p(He,qe),qe[0]&1024&&Y(ul,1)):(ul=La(He),ul.c(),Y(ul,1),ul.m(E,J)):ul&&(at(),W(ul,1,1,()=>{ul=null}),nt());const ze={};qe[0]&134217728&&(ze.content=He[27].t("Full Context Mode")),qe[0]&134217728|qe[2]&16384&&(ze.$$scope={dirty:qe,ctx:He}),K.$set(ze);const Qt={};qe[0]&524288&&(Qt.content=He[19]?"Inject the entire content as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."),qe[0]&524288|qe[2]&16384&&(Qt.$$scope={dirty:qe,ctx:He}),ne.$set(Qt),He[19]?St&&(St.d(1),St=null):St?St.p(He,qe):(St=Ua(He),St.c(),St.m(E,null)),He[19]?fl&&(at(),W(fl,1,1,()=>{fl=null}),nt()):fl?(fl.p(He,qe),qe[0]&524288&&Y(fl,1)):(fl=Ca(He),fl.c(),Y(fl,1),fl.m(d,be)),(!il||qe[0]&134217728)&&ve!==(ve=He[27].t("Files")+"")&&F(Te,ve),(!il||qe[0]&134217728)&&De!==(De=He[27].t("Max Upload Size")+"")&&F(Ne,De);const Mt={};qe[0]&134217728&&(Mt.content=He[27].t("The maximum file size in MB. If the file size exceeds this limit, the file will not be uploaded.")),qe[0]&134217984|qe[2]&16384&&(Mt.$$scope={dirty:qe,ctx:He}),Ue.$set(Mt),(!il||qe[0]&134217728)&&We!==(We=He[27].t("Max Upload Count")+"")&&F(xe,We);const Bl={};qe[0]&134217728&&(Bl.content=He[27].t("The maximum number of files that can be used at once in chat. If the number of files exceeds this limit, the files will not be uploaded.")),qe[0]&134218240|qe[2]&16384&&(Bl.$$scope={dirty:qe,ctx:He}),Oe.$set(Bl),(!il||qe[0]&134217728)&&Fe!==(Fe=He[27].t("Integration")+"")&&F(gt,Fe),(!il||qe[0]&134217728)&&ot!==(ot=He[27].t("Google Drive")+"")&&F(ht,ot);const Rl={};!ft&&qe[0]&1048576&&(ft=!0,Rl.state=He[20],Xe(()=>ft=!1)),pt.$set(Rl),(!il||qe[0]&134217728)&&dt!==(dt=He[27].t("OneDrive")+"")&&F(Pe,dt);const Ll={};!Dt&&qe[0]&2097152&&(Dt=!0,Ll.state=He[21],Xe(()=>Dt=!1)),It.$set(Ll),(!il||qe[0]&134217728)&&wt!==(wt=He[27].t("Danger Zone")+"")&&F(Ht,wt),(!il||qe[0]&134217728)&&Wt!==(Wt=He[27].t("Reset Upload Directory")+"")&&F(Ut,Wt),(!il||qe[0]&134217728)&&lt!==(lt=He[27].t("Reset")+"")&&F(jt,lt),(!il||qe[0]&134217728)&&Ft!==(Ft=He[27].t("Reset Vector Storage/Knowledge")+"")&&F(Kt,Ft),(!il||qe[0]&134217728)&&yl!==(yl=He[27].t("Reset")+"")&&F(Dl,yl),(!il||qe[0]&134217728)&&Al!==(Al=He[27].t("Save")+"")&&F(qt,Al)},i(He){il||(Y(e.$$.fragment,He),Y(r.$$.fragment,He),Y(te),Y(ul),Y(K.$$.fragment,He),Y(ne.$$.fragment,He),Y(fl),Y(Ue.$$.fragment,He),Y(Oe.$$.fragment,He),Y(pt.$$.fragment,He),Y(It.$$.fragment,He),il=!0)},o(He){W(e.$$.fragment,He),W(r.$$.fragment,He),W(te),W(ul),W(K.$$.fragment,He),W(ne.$$.fragment,He),W(fl),W(Ue.$$.fragment,He),W(Oe.$$.fragment,He),W(pt.$$.fragment,He),W(It.$$.fragment,He),il=!1},d(He){He&&(c(l),c(a),c(o)),pe(e,He),pe(r,He),~re&&Xt[re].d(),ul&&ul.d(),pe(K),pe(ne),St&&St.d(),fl&&fl.d(),pe(Ue),pe(Oe),pe(pt),pe(It),jl=!1,zt(Ul)}}}function hc(s,e,t){let l;const r=zl(),i=bl("i18n");Vt(s,i,Me=>t(27,l=Me));let a=!1,o=!1,u=!1,d=!1,E="",g="",p=1,m="",b=null,I=null,T="default",w="",k="",D="",y="",O=0,N=0,S=!0,V=!1,M=!1,R=!1,ee=!1,Z="",C="",L="",P="",B={template:"",r:0,k:4,hybrid:!1};const q=async()=>{if(E===""&&g.split("/").length-1>1){Ge.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(E==="ollama"&&g===""){Ge.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(E==="openai"&&g===""){Ge.error(l.t("Model filesystem path detected. Model shortname is required for update, cannot continue."));return}if(E==="openai"&&C===""||Z===""){Ge.error(l.t("OpenAI URL/Key required."));return}console.log("Update embedding model attempt:",g),t(0,a=!0);const Me=await Ci(localStorage.token,{embedding_engine:E,embedding_model:g,embedding_batch_size:p,ollama_config:{key:P,url:L},openai_config:{key:C,url:Z}}).catch(async mt=>(Ge.error(`${mt}`),await re(),null));t(0,a=!1),Me&&(console.log("embeddingModelUpdateHandler:",Me),Me.status===!0&&Ge.success(l.t('Embedding model set to "{{embedding_model}}"',Me),{duration:1e3*10}))},z=async()=>{console.log("Update reranking model attempt:",m),t(1,o=!0);const Me=await Mi(localStorage.token,{reranking_model:m}).catch(async mt=>(Ge.error(`${mt}`),await te(),null));t(1,o=!1),Me&&(console.log("rerankingModelUpdateHandler:",Me),Me.status===!0&&(m===""?Ge.success(l.t("Reranking model disabled",Me),{duration:1e3*10}):Ge.success(l.t('Reranking model set to "{{reranking_model}}"',Me),{duration:1e3*10})))},x=async()=>{if(T==="tika"&&w===""){Ge.error(l.t("Tika Server URL required."));return}if(T==="document_intelligence"&&(k===""||D==="")){Ge.error(l.t("Document Intelligence endpoint and key required."));return}M||(await q(),B.hybrid&&await z()),await kn(localStorage.token,{pdf_extract_images:S,enable_google_drive_integration:R,enable_onedrive_integration:ee,file:{max_size:b===""?null:b,max_count:I===""?null:I},RAG_FULL_CONTEXT:V,BYPASS_EMBEDDING_AND_RETRIEVAL:M,chunk:{text_splitter:y,chunk_overlap:N,chunk_size:O},content_extraction:{engine:T,tika_server_url:w,document_intelligence_config:{key:D,endpoint:k}}}),await zs(localStorage.token,B),r("save")},re=async()=>{const Me=await Ri(localStorage.token);Me&&(t(4,E=Me.embedding_engine),t(5,g=Me.embedding_model),t(6,p=Me.embedding_batch_size??1),t(23,C=Me.openai_config.key),t(22,Z=Me.openai_config.url),t(25,P=Me.ollama_config.key),t(24,L=Me.ollama_config.url))},te=async()=>{const Me=await Li(localStorage.token);Me&&t(7,m=Me.reranking_model)},Q=async()=>{t(26,B=await zs(localStorage.token,B))};Vl(async()=>{await re(),await te(),t(26,B=await Si(localStorage.token));const Me=await wn(localStorage.token);Me&&(t(17,S=Me.pdf_extract_images),t(14,y=Me.chunk.text_splitter),t(15,O=Me.chunk.chunk_size),t(16,N=Me.chunk.chunk_overlap),t(18,V=Me.RAG_FULL_CONTEXT),t(19,M=Me.BYPASS_EMBEDDING_AND_RETRIEVAL),t(10,T=Me.content_extraction.engine),t(11,w=Me.content_extraction.tika_server_url),t(12,k=Me.content_extraction.document_intelligence_config.endpoint),t(13,D=Me.content_extraction.document_intelligence_config.key),t(8,b=(Me==null?void 0:Me.file.max_size)??""),t(9,I=(Me==null?void 0:Me.file.max_count)??""),t(20,R=Me.enable_google_drive_integration),t(21,ee=Me.enable_onedrive_integration))});function J(Me){d=Me,t(3,d)}const j=async()=>{await Bi(localStorage.token).catch(mt=>(Ge.error(`${mt}`),null))&&Ge.success(l.t("Success"))};function X(Me){u=Me,t(2,u)}const K=()=>{Ui(localStorage.token).catch(mt=>(Ge.error(`${mt}`),null))&&Ge.success(l.t("Success"))};function ie(){T=vl(this),t(10,T)}function fe(){w=this.value,t(11,w)}function ne(){k=this.value,t(12,k)}function Ie(Me){D=Me,t(13,D)}function ke(Me){S=Me,t(17,S)}function be(Me){M=Me,t(19,M)}function ce(){y=vl(this),t(14,y)}function ae(){O=$l(this.value),t(15,O)}function ve(){N=$l(this.value),t(16,N)}function Te(){E=vl(this),t(4,E)}const ge=Me=>{Me.target.value==="ollama"?t(5,g=""):Me.target.value==="openai"?t(5,g="text-embedding-3-small"):Me.target.value===""&&t(5,g="sentence-transformers/all-MiniLM-L6-v2")};function $e(){Z=this.value,t(22,Z)}function Ve(Me){C=Me,t(23,C)}function oe(){L=this.value,t(24,L)}function we(Me){P=Me,t(25,P)}function De(){g=this.value,t(5,g)}function Ne(){g=this.value,t(5,g)}const se=()=>{q()};function Ae(){p=$l(this.value),t(6,p)}function Ue(Me){V=Me,t(18,V)}function Le(Me){s.$$.not_equal(B.hybrid,Me)&&(B.hybrid=Me,t(26,B))}const Ce=()=>{Q()};function Ze(){m=this.value,t(7,m)}const We=()=>{z()};function xe(){B.k=$l(this.value),t(26,B)}function Be(){B.r=$l(this.value),t(26,B)}function Ee(Me){s.$$.not_equal(B.template,Me)&&(B.template=Me,t(26,B))}function Oe(){b=$l(this.value),t(8,b)}function rt(){I=$l(this.value),t(9,I)}function et(Me){R=Me,t(20,R)}function _t(Me){ee=Me,t(21,ee)}return[a,o,u,d,E,g,p,m,b,I,T,w,k,D,y,O,N,S,V,M,R,ee,Z,C,L,P,B,l,i,q,z,x,Q,J,j,X,K,ie,fe,ne,Ie,ke,be,ce,ae,ve,Te,ge,$e,Ve,oe,we,De,Ne,se,Ae,Ue,Le,Ce,Ze,We,xe,Be,Ee,Oe,rt,et,_t,()=>{t(3,d=!0)},()=>{t(2,u=!0)},()=>{x()}]}class pc extends _l{constructor(e){super(),hl(this,e,hc,_c,dl,{},null,[-1,-1,-1])}}function Ka(s,e,t){const l=s.slice();return l[39]=e[t],l}function Ya(s){let e,t,l,r=s[4].t("General")+"",i,a,o,u,d,E,g=s[4].t("Web Search")+"",p,m,b,I,T,w,k,D,y=s[4].t("Web Search Engine")+"",O,N,S,V,M,R=s[4].t("Select a engine")+"",ee,Z,C,L,P,B,q,z,x,re,te,Q,J,j,X=s[4].t("Trust Proxy Environment")+"",K,ie,fe,ne,Ie,ke,be,ce=s[4].t("Loader")+"",ae,ve,Te,ge,$e,Ve,oe=s[4].t("Bypass SSL verification for Websites")+"",we,De,Ne,se,Ae,Ue,Le,Ce,Ze=s[4].t("Youtube Language")+"",We,xe,Be,Ee,Oe,rt,et,_t,Fe=s[4].t("Youtube Proxy URL")+"",gt,vt,Me,mt,kt,it,ot,ht;function Et(Pe){s[8](Pe)}let Tt={};s[1].search.enabled!==void 0&&(Tt.state=s[1].search.enabled),I=new cl({props:Tt}),Je.push(()=>Qe(I,"state",Et));let pt=st(s[6]),ft=[];for(let Pe=0;Pe<pt.length;Pe+=1)ft[Pe]=Fa(Ka(s,pt,Pe));let Se=s[1].search.engine!==""&&qa(s),Ke=s[1].search.enabled&&Wa(s);z=new Ot({props:{content:s[4].t("Full Context Mode"),placement:"top-start",$$slots:{default:[Nc]},$$scope:{ctx:s}}}),te=new Ot({props:{content:s[1].BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL?"Inject the entire content as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.",$$slots:{default:[Pc]},$$scope:{ctx:s}}}),ne=new Ot({props:{content:s[1].search.trust_env?"Use proxy designated by http_proxy and https_proxy environment variables to fetch page contents":"Use no proxy to fetch page contents.",$$slots:{default:[Sc]},$$scope:{ctx:s}}});function Pt(Pe){s[34](Pe)}let dt={};return s[1].ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION!==void 0&&(dt.state=s[1].ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION),se=new cl({props:dt}),Je.push(()=>Qe(se,"state",Pt)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("hr"),u=A(),d=_("div"),E=_("div"),p=H(g),m=A(),b=_("div"),de(I.$$.fragment),w=A(),k=_("div"),D=_("div"),O=H(y),N=A(),S=_("div"),V=_("select"),M=_("option"),ee=H(R);for(let Pe=0;Pe<ft.length;Pe+=1)ft[Pe].c();C=A(),Se&&Se.c(),L=A(),Ke&&Ke.c(),P=A(),B=_("div"),q=_("div"),de(z.$$.fragment),x=A(),re=_("div"),de(te.$$.fragment),Q=A(),J=_("div"),j=_("div"),K=H(X),ie=A(),fe=_("div"),de(ne.$$.fragment),Ie=A(),ke=_("div"),be=_("div"),ae=H(ce),ve=A(),Te=_("hr"),ge=A(),$e=_("div"),Ve=_("div"),we=H(oe),De=A(),Ne=_("div"),de(se.$$.fragment),Ue=A(),Le=_("div"),Ce=_("div"),We=H(Ze),xe=A(),Be=_("div"),Ee=_("input"),rt=A(),et=_("div"),_t=_("div"),gt=H(Fe),vt=A(),Me=_("div"),mt=_("input"),this.h()},l(Pe){e=h(Pe,"DIV",{class:!0});var Ye=v(e);t=h(Ye,"DIV",{class:!0});var bt=v(t);l=h(bt,"DIV",{class:!0});var It=v(l);i=G(It,r),It.forEach(c),a=$(bt),o=h(bt,"HR",{class:!0}),u=$(bt),d=h(bt,"DIV",{class:!0});var Dt=v(d);E=h(Dt,"DIV",{class:!0});var ut=v(E);p=G(ut,g),ut.forEach(c),m=$(Dt),b=h(Dt,"DIV",{class:!0});var me=v(b);_e(I.$$.fragment,me),me.forEach(c),Dt.forEach(c),w=$(bt),k=h(bt,"DIV",{class:!0});var Re=v(k);D=h(Re,"DIV",{class:!0});var wt=v(D);O=G(wt,y),wt.forEach(c),N=$(Re),S=h(Re,"DIV",{class:!0});var Ht=v(S);V=h(Ht,"SELECT",{class:!0,placeholder:!0});var Ct=v(V);M=h(Ct,"OPTION",{});var Gt=v(M);ee=G(Gt,R),Gt.forEach(c);for(let al=0;al<ft.length;al+=1)ft[al].l(Ct);Ct.forEach(c),Ht.forEach(c),Re.forEach(c),C=$(bt),Se&&Se.l(bt),L=$(bt),Ke&&Ke.l(bt),P=$(bt),B=h(bt,"DIV",{class:!0});var Yt=v(B);q=h(Yt,"DIV",{class:!0});var Bt=v(q);_e(z.$$.fragment,Bt),Bt.forEach(c),x=$(Yt),re=h(Yt,"DIV",{class:!0});var el=v(re);_e(te.$$.fragment,el),el.forEach(c),Yt.forEach(c),Q=$(bt),J=h(bt,"DIV",{class:!0});var Wt=v(J);j=h(Wt,"DIV",{class:!0});var Ut=v(j);K=G(Ut,X),Ut.forEach(c),ie=$(Wt),fe=h(Wt,"DIV",{class:!0});var Nt=v(fe);_e(ne.$$.fragment,Nt),Nt.forEach(c),Wt.forEach(c),bt.forEach(c),Ie=$(Ye),ke=h(Ye,"DIV",{class:!0});var ct=v(ke);be=h(ct,"DIV",{class:!0});var je=v(be);ae=G(je,ce),je.forEach(c),ve=$(ct),Te=h(ct,"HR",{class:!0}),ge=$(ct),$e=h(ct,"DIV",{class:!0});var lt=v($e);Ve=h(lt,"DIV",{class:!0});var jt=v(Ve);we=G(jt,oe),jt.forEach(c),De=$(lt),Ne=h(lt,"DIV",{class:!0});var tl=v(Ne);_e(se.$$.fragment,tl),tl.forEach(c),lt.forEach(c),Ue=$(ct),Le=h(ct,"DIV",{class:!0});var At=v(Le);Ce=h(At,"DIV",{class:!0});var ll=v(Ce);We=G(ll,Ze),ll.forEach(c),xe=$(At),Be=h(At,"DIV",{class:!0});var Ft=v(Be);Ee=h(Ft,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ft.forEach(c),At.forEach(c),rt=$(ct),et=h(ct,"DIV",{class:!0});var Kt=v(et);_t=h(Kt,"DIV",{class:!0});var rl=v(_t);gt=G(rl,Fe),rl.forEach(c),vt=$(Kt),Me=h(Kt,"DIV",{class:!0});var nl=v(Me);mt=h(nl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),nl.forEach(c),Kt.forEach(c),ct.forEach(c),Ye.forEach(c),this.h()},h(){f(l,"class","mb-2.5 text-base font-medium"),f(o,"class","border-gray-100 dark:border-gray-850 my-2"),f(E,"class","self-center text-xs font-medium"),f(b,"class","flex items-center relative"),f(d,"class","mb-2.5 flex w-full justify-between"),f(D,"class","self-center text-xs font-medium"),M.disabled=!0,M.selected=!0,M.__value="",le(M,M.__value),f(V,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(V,"placeholder",Z=s[4].t("Select a engine")),V.required=!0,s[1].search.engine===void 0&&ml(()=>s[9].call(V)),f(S,"class","flex items-center relative"),f(k,"class","mb-2.5 flex w-full justify-between"),f(q,"class","self-center text-xs font-medium"),f(re,"class","flex items-center relative"),f(B,"class","mb-2.5 flex w-full justify-between"),f(j,"class","self-center text-xs font-medium"),f(fe,"class","flex items-center relative"),f(J,"class","mb-2.5 flex w-full justify-between"),f(t,"class","mb-3"),f(be,"class","mb-2.5 text-base font-medium"),f(Te,"class","border-gray-100 dark:border-gray-850 my-2"),f(Ve,"class","self-center text-xs font-medium"),f(Ne,"class","flex items-center relative"),f($e,"class","mb-2.5 flex w-full justify-between"),f(Ce,"class","self-center text-xs font-medium"),f(Ee,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(Ee,"type","text"),f(Ee,"placeholder",Oe=s[4].t("Enter language codes")),f(Ee,"autocomplete","off"),f(Be,"class","flex items-center relative"),f(Le,"class","mb-2.5 flex w-full justify-between"),f(_t,"class","mb-1 text-xs font-medium"),f(mt,"class","flex-1 w-full rounded-lg text-sm bg-transparent outline-hidden"),f(mt,"type","text"),f(mt,"placeholder",kt=s[4].t("Enter proxy URL (e.g. https://user:password@host:port)")),f(mt,"autocomplete","off"),f(Me,"class","flex items-center relative"),f(et,"class","mb-2.5 flex flex-col w-full justify-between"),f(ke,"class","mb-3"),f(e,"class","")},m(Pe,Ye){U(Pe,e,Ye),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(t,u),n(t,d),n(d,E),n(E,p),n(d,m),n(d,b),he(I,b,null),n(t,w),n(t,k),n(k,D),n(D,O),n(k,N),n(k,S),n(S,V),n(V,M),n(M,ee);for(let bt=0;bt<ft.length;bt+=1)ft[bt]&&ft[bt].m(V,null);yt(V,s[1].search.engine,!0),n(t,C),Se&&Se.m(t,null),n(t,L),Ke&&Ke.m(t,null),n(t,P),n(t,B),n(B,q),he(z,q,null),n(B,x),n(B,re),he(te,re,null),n(t,Q),n(t,J),n(J,j),n(j,K),n(J,ie),n(J,fe),he(ne,fe,null),n(e,Ie),n(e,ke),n(ke,be),n(be,ae),n(ke,ve),n(ke,Te),n(ke,ge),n(ke,$e),n($e,Ve),n(Ve,we),n($e,De),n($e,Ne),he(se,Ne,null),n(ke,Ue),n(ke,Le),n(Le,Ce),n(Ce,We),n(Le,xe),n(Le,Be),n(Be,Ee),le(Ee,s[2]),n(ke,rt),n(ke,et),n(et,_t),n(_t,gt),n(et,vt),n(et,Me),n(Me,mt),le(mt,s[3]),it=!0,ot||(ht=[ue(V,"change",s[9]),ue(Ee,"input",s[35]),ue(mt,"input",s[36])],ot=!0)},p(Pe,Ye){(!it||Ye[0]&16)&&r!==(r=Pe[4].t("General")+"")&&F(i,r),(!it||Ye[0]&16)&&g!==(g=Pe[4].t("Web Search")+"")&&F(p,g);const bt={};if(!T&&Ye[0]&2&&(T=!0,bt.state=Pe[1].search.enabled,Xe(()=>T=!1)),I.$set(bt),(!it||Ye[0]&16)&&y!==(y=Pe[4].t("Web Search Engine")+"")&&F(O,y),(!it||Ye[0]&16)&&R!==(R=Pe[4].t("Select a engine")+"")&&F(ee,R),Ye[0]&64){pt=st(Pe[6]);let Re;for(Re=0;Re<pt.length;Re+=1){const wt=Ka(Pe,pt,Re);ft[Re]?ft[Re].p(wt,Ye):(ft[Re]=Fa(wt),ft[Re].c(),ft[Re].m(V,null))}for(;Re<ft.length;Re+=1)ft[Re].d(1);ft.length=pt.length}(!it||Ye[0]&16&&Z!==(Z=Pe[4].t("Select a engine")))&&f(V,"placeholder",Z),Ye[0]&66&&yt(V,Pe[1].search.engine),Pe[1].search.engine!==""?Se?(Se.p(Pe,Ye),Ye[0]&2&&Y(Se,1)):(Se=qa(Pe),Se.c(),Y(Se,1),Se.m(t,L)):Se&&(at(),W(Se,1,1,()=>{Se=null}),nt()),Pe[1].search.enabled?Ke?Ke.p(Pe,Ye):(Ke=Wa(Pe),Ke.c(),Ke.m(t,P)):Ke&&(Ke.d(1),Ke=null);const It={};Ye[0]&16&&(It.content=Pe[4].t("Full Context Mode")),Ye[0]&16|Ye[1]&2048&&(It.$$scope={dirty:Ye,ctx:Pe}),z.$set(It);const Dt={};Ye[0]&2&&(Dt.content=Pe[1].BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL?"Inject the entire content as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."),Ye[0]&2|Ye[1]&2048&&(Dt.$$scope={dirty:Ye,ctx:Pe}),te.$set(Dt),(!it||Ye[0]&16)&&X!==(X=Pe[4].t("Trust Proxy Environment")+"")&&F(K,X);const ut={};Ye[0]&2&&(ut.content=Pe[1].search.trust_env?"Use proxy designated by http_proxy and https_proxy environment variables to fetch page contents":"Use no proxy to fetch page contents."),Ye[0]&2|Ye[1]&2048&&(ut.$$scope={dirty:Ye,ctx:Pe}),ne.$set(ut),(!it||Ye[0]&16)&&ce!==(ce=Pe[4].t("Loader")+"")&&F(ae,ce),(!it||Ye[0]&16)&&oe!==(oe=Pe[4].t("Bypass SSL verification for Websites")+"")&&F(we,oe);const me={};!Ae&&Ye[0]&2&&(Ae=!0,me.state=Pe[1].ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION,Xe(()=>Ae=!1)),se.$set(me),(!it||Ye[0]&16)&&Ze!==(Ze=Pe[4].t("Youtube Language")+"")&&F(We,Ze),(!it||Ye[0]&16&&Oe!==(Oe=Pe[4].t("Enter language codes")))&&f(Ee,"placeholder",Oe),Ye[0]&4&&Ee.value!==Pe[2]&&le(Ee,Pe[2]),(!it||Ye[0]&16)&&Fe!==(Fe=Pe[4].t("Youtube Proxy URL")+"")&&F(gt,Fe),(!it||Ye[0]&16&&kt!==(kt=Pe[4].t("Enter proxy URL (e.g. https://user:password@host:port)")))&&f(mt,"placeholder",kt),Ye[0]&8&&mt.value!==Pe[3]&&le(mt,Pe[3])},i(Pe){it||(Y(I.$$.fragment,Pe),Y(Se),Y(z.$$.fragment,Pe),Y(te.$$.fragment,Pe),Y(ne.$$.fragment,Pe),Y(se.$$.fragment,Pe),it=!0)},o(Pe){W(I.$$.fragment,Pe),W(Se),W(z.$$.fragment,Pe),W(te.$$.fragment,Pe),W(ne.$$.fragment,Pe),W(se.$$.fragment,Pe),it=!1},d(Pe){Pe&&c(e),pe(I),xt(ft,Pe),Se&&Se.d(),Ke&&Ke.d(),pe(z),pe(te),pe(ne),pe(se),ot=!1,zt(ht)}}}function Fa(s){let e,t=s[39]+"",l;return{c(){e=_("option"),l=H(t),this.h()},l(r){e=h(r,"OPTION",{});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){e.__value=s[39],le(e,e.__value)},m(r,i){U(r,e,i),n(e,l)},p:tt,d(r){r&&c(e)}}}function qa(s){let e,t,l,r;const i=[Oc,Vc,$c,Ac,yc,Dc,Tc,kc,wc,Ic,bc,Ec,gc,mc,vc],a=[];function o(u,d){return u[1].search.engine==="searxng"?0:u[1].search.engine==="google_pse"?1:u[1].search.engine==="brave"?2:u[1].search.engine==="kagi"?3:u[1].search.engine==="mojeek"?4:u[1].search.engine==="bocha"?5:u[1].search.engine==="serpstack"?6:u[1].search.engine==="serper"?7:u[1].search.engine==="serply"?8:u[1].search.engine==="searchapi"?9:u[1].search.engine==="serpapi"?10:u[1].search.engine==="tavily"?11:u[1].search.engine==="jina"?12:u[1].search.engine==="exa"?13:u[1].search.engine==="bing"?14:-1}return~(e=o(s))&&(t=a[e]=i[e](s)),{c(){t&&t.c(),l=Lt()},l(u){t&&t.l(u),l=Lt()},m(u,d){~e&&a[e].m(u,d),U(u,l,d),r=!0},p(u,d){let E=e;e=o(u),e===E?~e&&a[e].p(u,d):(t&&(at(),W(a[E],1,1,()=>{a[E]=null}),nt()),~e?(t=a[e],t?t.p(u,d):(t=a[e]=i[e](u),t.c()),Y(t,1),t.m(l.parentNode,l)):t=null)},i(u){r||(Y(t),r=!0)},o(u){W(t),r=!1},d(u){u&&c(l),~e&&a[e].d(u)}}}function vc(s){let e,t,l,r=s[4].t("Bing Search V7 Endpoint")+"",i,a,o,u,d,E,g,p,m,b=s[4].t("Bing Search V7 Subscription Key")+"",I,T,w,k,D,y,O;function N(V){s[28](V)}let S={placeholder:s[4].t("Enter Bing Search V7 Subscription Key")};return s[1].search.bing_search_v7_subscription_key!==void 0&&(S.value=s[1].search.bing_search_v7_subscription_key),w=new pl({props:S}),Je.push(()=>Qe(w,"value",N)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("div"),u=_("div"),d=_("input"),g=A(),p=_("div"),m=_("div"),I=H(b),T=A(),de(w.$$.fragment),this.h()},l(V){e=h(V,"DIV",{class:!0});var M=v(e);t=h(M,"DIV",{});var R=v(t);l=h(R,"DIV",{class:!0});var ee=v(l);i=G(ee,r),ee.forEach(c),a=$(R),o=h(R,"DIV",{class:!0});var Z=v(o);u=h(Z,"DIV",{class:!0});var C=v(u);d=h(C,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),C.forEach(c),Z.forEach(c),R.forEach(c),g=$(M),p=h(M,"DIV",{class:!0});var L=v(p);m=h(L,"DIV",{class:!0});var P=v(m);I=G(P,b),P.forEach(c),T=$(L),_e(w.$$.fragment,L),L.forEach(c),M.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(d,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(d,"type","text"),f(d,"placeholder",E=s[4].t("Enter Bing Search V7 Endpoint")),f(d,"autocomplete","off"),f(u,"class","flex-1"),f(o,"class","flex w-full"),f(m,"class","self-center text-xs font-medium mb-1"),f(p,"class","mt-2"),f(e,"class","mb-2.5 flex w-full flex-col")},m(V,M){U(V,e,M),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(o,u),n(u,d),le(d,s[1].search.bing_search_v7_endpoint),n(e,g),n(e,p),n(p,m),n(m,I),n(p,T),he(w,p,null),D=!0,y||(O=ue(d,"input",s[27]),y=!0)},p(V,M){(!D||M[0]&16)&&r!==(r=V[4].t("Bing Search V7 Endpoint")+"")&&F(i,r),(!D||M[0]&16&&E!==(E=V[4].t("Enter Bing Search V7 Endpoint")))&&f(d,"placeholder",E),M[0]&66&&d.value!==V[1].search.bing_search_v7_endpoint&&le(d,V[1].search.bing_search_v7_endpoint),(!D||M[0]&16)&&b!==(b=V[4].t("Bing Search V7 Subscription Key")+"")&&F(I,b);const R={};M[0]&16&&(R.placeholder=V[4].t("Enter Bing Search V7 Subscription Key")),!k&&M[0]&2&&(k=!0,R.value=V[1].search.bing_search_v7_subscription_key,Xe(()=>k=!1)),w.$set(R)},i(V){D||(Y(w.$$.fragment,V),D=!0)},o(V){W(w.$$.fragment,V),D=!1},d(V){V&&c(e),pe(w),y=!1,O()}}}function mc(s){let e,t,l,r=s[4].t("Exa API Key")+"",i,a,o,u,d;function E(p){s[26](p)}let g={placeholder:s[4].t("Enter Exa API Key")};return s[1].search.exa_api_key!==void 0&&(g.value=s[1].search.exa_api_key),o=new pl({props:g}),Je.push(()=>Qe(o,"value",E)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{});var b=v(t);l=h(b,"DIV",{class:!0});var I=v(l);i=G(I,r),I.forEach(c),a=$(b),_e(o.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(e,"class","mb-2.5 flex w-full flex-col")},m(p,m){U(p,e,m),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),d=!0},p(p,m){(!d||m[0]&16)&&r!==(r=p[4].t("Exa API Key")+"")&&F(i,r);const b={};m[0]&16&&(b.placeholder=p[4].t("Enter Exa API Key")),!u&&m[0]&2&&(u=!0,b.value=p[1].search.exa_api_key,Xe(()=>u=!1)),o.$set(b)},i(p){d||(Y(o.$$.fragment,p),d=!0)},o(p){W(o.$$.fragment,p),d=!1},d(p){p&&c(e),pe(o)}}}function gc(s){let e,t,l,r=s[4].t("Jina API Key")+"",i,a,o,u,d;function E(p){s[25](p)}let g={placeholder:s[4].t("Enter Jina API Key")};return s[1].search.jina_api_key!==void 0&&(g.value=s[1].search.jina_api_key),o=new pl({props:g}),Je.push(()=>Qe(o,"value",E)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{});var b=v(t);l=h(b,"DIV",{class:!0});var I=v(l);i=G(I,r),I.forEach(c),a=$(b),_e(o.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(e,"class","mb-2.5 flex w-full flex-col")},m(p,m){U(p,e,m),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),d=!0},p(p,m){(!d||m[0]&16)&&r!==(r=p[4].t("Jina API Key")+"")&&F(i,r);const b={};m[0]&16&&(b.placeholder=p[4].t("Enter Jina API Key")),!u&&m[0]&2&&(u=!0,b.value=p[1].search.jina_api_key,Xe(()=>u=!1)),o.$set(b)},i(p){d||(Y(o.$$.fragment,p),d=!0)},o(p){W(o.$$.fragment,p),d=!1},d(p){p&&c(e),pe(o)}}}function Ec(s){let e,t,l,r=s[4].t("Tavily API Key")+"",i,a,o,u,d;function E(p){s[24](p)}let g={placeholder:s[4].t("Enter Tavily API Key")};return s[1].search.tavily_api_key!==void 0&&(g.value=s[1].search.tavily_api_key),o=new pl({props:g}),Je.push(()=>Qe(o,"value",E)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{});var b=v(t);l=h(b,"DIV",{class:!0});var I=v(l);i=G(I,r),I.forEach(c),a=$(b),_e(o.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(e,"class","mb-2.5 flex w-full flex-col")},m(p,m){U(p,e,m),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),d=!0},p(p,m){(!d||m[0]&16)&&r!==(r=p[4].t("Tavily API Key")+"")&&F(i,r);const b={};m[0]&16&&(b.placeholder=p[4].t("Enter Tavily API Key")),!u&&m[0]&2&&(u=!0,b.value=p[1].search.tavily_api_key,Xe(()=>u=!1)),o.$set(b)},i(p){d||(Y(o.$$.fragment,p),d=!0)},o(p){W(o.$$.fragment,p),d=!1},d(p){p&&c(e),pe(o)}}}function bc(s){let e,t,l,r=s[4].t("SerpApi API Key")+"",i,a,o,u,d,E,g,p=s[4].t("SerpApi Engine")+"",m,b,I,T,w,k,D,y,O;function N(V){s[22](V)}let S={placeholder:s[4].t("Enter SerpApi API Key")};return s[1].search.serpapi_api_key!==void 0&&(S.value=s[1].search.serpapi_api_key),o=new pl({props:S}),Je.push(()=>Qe(o,"value",N)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),d=A(),E=_("div"),g=_("div"),m=H(p),b=A(),I=_("div"),T=_("div"),w=_("input"),this.h()},l(V){e=h(V,"DIV",{class:!0});var M=v(e);t=h(M,"DIV",{});var R=v(t);l=h(R,"DIV",{class:!0});var ee=v(l);i=G(ee,r),ee.forEach(c),a=$(R),_e(o.$$.fragment,R),R.forEach(c),d=$(M),E=h(M,"DIV",{class:!0});var Z=v(E);g=h(Z,"DIV",{class:!0});var C=v(g);m=G(C,p),C.forEach(c),b=$(Z),I=h(Z,"DIV",{class:!0});var L=v(I);T=h(L,"DIV",{class:!0});var P=v(T);w=h(P,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),P.forEach(c),L.forEach(c),Z.forEach(c),M.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(g,"class","self-center text-xs font-medium mb-1"),f(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(w,"type","text"),f(w,"placeholder",k=s[4].t("Enter SerpApi Engine")),f(w,"autocomplete","off"),f(T,"class","flex-1"),f(I,"class","flex w-full"),f(E,"class","mt-1.5"),f(e,"class","mb-2.5 flex w-full flex-col")},m(V,M){U(V,e,M),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),n(e,d),n(e,E),n(E,g),n(g,m),n(E,b),n(E,I),n(I,T),n(T,w),le(w,s[1].search.serpapi_engine),D=!0,y||(O=ue(w,"input",s[23]),y=!0)},p(V,M){(!D||M[0]&16)&&r!==(r=V[4].t("SerpApi API Key")+"")&&F(i,r);const R={};M[0]&16&&(R.placeholder=V[4].t("Enter SerpApi API Key")),!u&&M[0]&2&&(u=!0,R.value=V[1].search.serpapi_api_key,Xe(()=>u=!1)),o.$set(R),(!D||M[0]&16)&&p!==(p=V[4].t("SerpApi Engine")+"")&&F(m,p),(!D||M[0]&16&&k!==(k=V[4].t("Enter SerpApi Engine")))&&f(w,"placeholder",k),M[0]&66&&w.value!==V[1].search.serpapi_engine&&le(w,V[1].search.serpapi_engine)},i(V){D||(Y(o.$$.fragment,V),D=!0)},o(V){W(o.$$.fragment,V),D=!1},d(V){V&&c(e),pe(o),y=!1,O()}}}function Ic(s){let e,t,l,r=s[4].t("SearchApi API Key")+"",i,a,o,u,d,E,g,p=s[4].t("SearchApi Engine")+"",m,b,I,T,w,k,D,y,O;function N(V){s[20](V)}let S={placeholder:s[4].t("Enter SearchApi API Key")};return s[1].search.searchapi_api_key!==void 0&&(S.value=s[1].search.searchapi_api_key),o=new pl({props:S}),Je.push(()=>Qe(o,"value",N)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),d=A(),E=_("div"),g=_("div"),m=H(p),b=A(),I=_("div"),T=_("div"),w=_("input"),this.h()},l(V){e=h(V,"DIV",{class:!0});var M=v(e);t=h(M,"DIV",{});var R=v(t);l=h(R,"DIV",{class:!0});var ee=v(l);i=G(ee,r),ee.forEach(c),a=$(R),_e(o.$$.fragment,R),R.forEach(c),d=$(M),E=h(M,"DIV",{class:!0});var Z=v(E);g=h(Z,"DIV",{class:!0});var C=v(g);m=G(C,p),C.forEach(c),b=$(Z),I=h(Z,"DIV",{class:!0});var L=v(I);T=h(L,"DIV",{class:!0});var P=v(T);w=h(P,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),P.forEach(c),L.forEach(c),Z.forEach(c),M.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(g,"class","self-center text-xs font-medium mb-1"),f(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(w,"type","text"),f(w,"placeholder",k=s[4].t("Enter SearchApi Engine")),f(w,"autocomplete","off"),f(T,"class","flex-1"),f(I,"class","flex w-full"),f(E,"class","mt-1.5"),f(e,"class","mb-2.5 flex w-full flex-col")},m(V,M){U(V,e,M),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),n(e,d),n(e,E),n(E,g),n(g,m),n(E,b),n(E,I),n(I,T),n(T,w),le(w,s[1].search.searchapi_engine),D=!0,y||(O=ue(w,"input",s[21]),y=!0)},p(V,M){(!D||M[0]&16)&&r!==(r=V[4].t("SearchApi API Key")+"")&&F(i,r);const R={};M[0]&16&&(R.placeholder=V[4].t("Enter SearchApi API Key")),!u&&M[0]&2&&(u=!0,R.value=V[1].search.searchapi_api_key,Xe(()=>u=!1)),o.$set(R),(!D||M[0]&16)&&p!==(p=V[4].t("SearchApi Engine")+"")&&F(m,p),(!D||M[0]&16&&k!==(k=V[4].t("Enter SearchApi Engine")))&&f(w,"placeholder",k),M[0]&66&&w.value!==V[1].search.searchapi_engine&&le(w,V[1].search.searchapi_engine)},i(V){D||(Y(o.$$.fragment,V),D=!0)},o(V){W(o.$$.fragment,V),D=!1},d(V){V&&c(e),pe(o),y=!1,O()}}}function wc(s){let e,t,l,r=s[4].t("Serply API Key")+"",i,a,o,u,d;function E(p){s[19](p)}let g={placeholder:s[4].t("Enter Serply API Key")};return s[1].search.serply_api_key!==void 0&&(g.value=s[1].search.serply_api_key),o=new pl({props:g}),Je.push(()=>Qe(o,"value",E)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{});var b=v(t);l=h(b,"DIV",{class:!0});var I=v(l);i=G(I,r),I.forEach(c),a=$(b),_e(o.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(e,"class","mb-2.5 flex w-full flex-col")},m(p,m){U(p,e,m),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),d=!0},p(p,m){(!d||m[0]&16)&&r!==(r=p[4].t("Serply API Key")+"")&&F(i,r);const b={};m[0]&16&&(b.placeholder=p[4].t("Enter Serply API Key")),!u&&m[0]&2&&(u=!0,b.value=p[1].search.serply_api_key,Xe(()=>u=!1)),o.$set(b)},i(p){d||(Y(o.$$.fragment,p),d=!0)},o(p){W(o.$$.fragment,p),d=!1},d(p){p&&c(e),pe(o)}}}function kc(s){let e,t,l,r=s[4].t("Serper API Key")+"",i,a,o,u,d;function E(p){s[18](p)}let g={placeholder:s[4].t("Enter Serper API Key")};return s[1].search.serper_api_key!==void 0&&(g.value=s[1].search.serper_api_key),o=new pl({props:g}),Je.push(()=>Qe(o,"value",E)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{});var b=v(t);l=h(b,"DIV",{class:!0});var I=v(l);i=G(I,r),I.forEach(c),a=$(b),_e(o.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(e,"class","mb-2.5 flex w-full flex-col")},m(p,m){U(p,e,m),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),d=!0},p(p,m){(!d||m[0]&16)&&r!==(r=p[4].t("Serper API Key")+"")&&F(i,r);const b={};m[0]&16&&(b.placeholder=p[4].t("Enter Serper API Key")),!u&&m[0]&2&&(u=!0,b.value=p[1].search.serper_api_key,Xe(()=>u=!1)),o.$set(b)},i(p){d||(Y(o.$$.fragment,p),d=!0)},o(p){W(o.$$.fragment,p),d=!1},d(p){p&&c(e),pe(o)}}}function Tc(s){let e,t,l,r=s[4].t("Serpstack API Key")+"",i,a,o,u,d;function E(p){s[17](p)}let g={placeholder:s[4].t("Enter Serpstack API Key")};return s[1].search.serpstack_api_key!==void 0&&(g.value=s[1].search.serpstack_api_key),o=new pl({props:g}),Je.push(()=>Qe(o,"value",E)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{});var b=v(t);l=h(b,"DIV",{class:!0});var I=v(l);i=G(I,r),I.forEach(c),a=$(b),_e(o.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(e,"class","mb-2.5 flex w-full flex-col")},m(p,m){U(p,e,m),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),d=!0},p(p,m){(!d||m[0]&16)&&r!==(r=p[4].t("Serpstack API Key")+"")&&F(i,r);const b={};m[0]&16&&(b.placeholder=p[4].t("Enter Serpstack API Key")),!u&&m[0]&2&&(u=!0,b.value=p[1].search.serpstack_api_key,Xe(()=>u=!1)),o.$set(b)},i(p){d||(Y(o.$$.fragment,p),d=!0)},o(p){W(o.$$.fragment,p),d=!1},d(p){p&&c(e),pe(o)}}}function Dc(s){let e,t,l,r=s[4].t("Bocha Search API Key")+"",i,a,o,u,d;function E(p){s[16](p)}let g={placeholder:s[4].t("Enter Bocha Search API Key")};return s[1].search.bocha_search_api_key!==void 0&&(g.value=s[1].search.bocha_search_api_key),o=new pl({props:g}),Je.push(()=>Qe(o,"value",E)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{});var b=v(t);l=h(b,"DIV",{class:!0});var I=v(l);i=G(I,r),I.forEach(c),a=$(b),_e(o.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(e,"class","mb-2.5 flex w-full flex-col")},m(p,m){U(p,e,m),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),d=!0},p(p,m){(!d||m[0]&16)&&r!==(r=p[4].t("Bocha Search API Key")+"")&&F(i,r);const b={};m[0]&16&&(b.placeholder=p[4].t("Enter Bocha Search API Key")),!u&&m[0]&2&&(u=!0,b.value=p[1].search.bocha_search_api_key,Xe(()=>u=!1)),o.$set(b)},i(p){d||(Y(o.$$.fragment,p),d=!0)},o(p){W(o.$$.fragment,p),d=!1},d(p){p&&c(e),pe(o)}}}function yc(s){let e,t,l,r=s[4].t("Mojeek Search API Key")+"",i,a,o,u,d;function E(p){s[15](p)}let g={placeholder:s[4].t("Enter Mojeek Search API Key")};return s[1].search.mojeek_search_api_key!==void 0&&(g.value=s[1].search.mojeek_search_api_key),o=new pl({props:g}),Je.push(()=>Qe(o,"value",E)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{});var b=v(t);l=h(b,"DIV",{class:!0});var I=v(l);i=G(I,r),I.forEach(c),a=$(b),_e(o.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(e,"class","mb-2.5 flex w-full flex-col")},m(p,m){U(p,e,m),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),d=!0},p(p,m){(!d||m[0]&16)&&r!==(r=p[4].t("Mojeek Search API Key")+"")&&F(i,r);const b={};m[0]&16&&(b.placeholder=p[4].t("Enter Mojeek Search API Key")),!u&&m[0]&2&&(u=!0,b.value=p[1].search.mojeek_search_api_key,Xe(()=>u=!1)),o.$set(b)},i(p){d||(Y(o.$$.fragment,p),d=!0)},o(p){W(o.$$.fragment,p),d=!1},d(p){p&&c(e),pe(o)}}}function Ac(s){let e,t,l,r=s[4].t("Kagi Search API Key")+"",i,a,o,u,d,E;function g(m){s[14](m)}let p={placeholder:s[4].t("Enter Kagi Search API Key")};return s[1].search.kagi_search_api_key!==void 0&&(p.value=s[1].search.kagi_search_api_key),o=new pl({props:p}),Je.push(()=>Qe(o,"value",g)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),d=H(`
								.`),this.h()},l(m){e=h(m,"DIV",{class:!0});var b=v(e);t=h(b,"DIV",{});var I=v(t);l=h(I,"DIV",{class:!0});var T=v(l);i=G(T,r),T.forEach(c),a=$(I),_e(o.$$.fragment,I),I.forEach(c),d=G(b,`
								.`),b.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(e,"class","mb-2.5 flex w-full flex-col")},m(m,b){U(m,e,b),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),n(e,d),E=!0},p(m,b){(!E||b[0]&16)&&r!==(r=m[4].t("Kagi Search API Key")+"")&&F(i,r);const I={};b[0]&16&&(I.placeholder=m[4].t("Enter Kagi Search API Key")),!u&&b[0]&2&&(u=!0,I.value=m[1].search.kagi_search_api_key,Xe(()=>u=!1)),o.$set(I)},i(m){E||(Y(o.$$.fragment,m),E=!0)},o(m){W(o.$$.fragment,m),E=!1},d(m){m&&c(e),pe(o)}}}function $c(s){let e,t,l,r=s[4].t("Brave Search API Key")+"",i,a,o,u,d;function E(p){s[13](p)}let g={placeholder:s[4].t("Enter Brave Search API Key")};return s[1].search.brave_search_api_key!==void 0&&(g.value=s[1].search.brave_search_api_key),o=new pl({props:g}),Je.push(()=>Qe(o,"value",E)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),this.h()},l(p){e=h(p,"DIV",{class:!0});var m=v(e);t=h(m,"DIV",{});var b=v(t);l=h(b,"DIV",{class:!0});var I=v(l);i=G(I,r),I.forEach(c),a=$(b),_e(o.$$.fragment,b),b.forEach(c),m.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(e,"class","mb-2.5 flex w-full flex-col")},m(p,m){U(p,e,m),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),d=!0},p(p,m){(!d||m[0]&16)&&r!==(r=p[4].t("Brave Search API Key")+"")&&F(i,r);const b={};m[0]&16&&(b.placeholder=p[4].t("Enter Brave Search API Key")),!u&&m[0]&2&&(u=!0,b.value=p[1].search.brave_search_api_key,Xe(()=>u=!1)),o.$set(b)},i(p){d||(Y(o.$$.fragment,p),d=!0)},o(p){W(o.$$.fragment,p),d=!1},d(p){p&&c(e),pe(o)}}}function Vc(s){let e,t,l,r=s[4].t("Google PSE API Key")+"",i,a,o,u,d,E,g,p=s[4].t("Google PSE Engine Id")+"",m,b,I,T,w,k,D,y,O;function N(V){s[11](V)}let S={placeholder:s[4].t("Enter Google PSE API Key")};return s[1].search.google_pse_api_key!==void 0&&(S.value=s[1].search.google_pse_api_key),o=new pl({props:S}),Je.push(()=>Qe(o,"value",N)),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),de(o.$$.fragment),d=A(),E=_("div"),g=_("div"),m=H(p),b=A(),I=_("div"),T=_("div"),w=_("input"),this.h()},l(V){e=h(V,"DIV",{class:!0});var M=v(e);t=h(M,"DIV",{});var R=v(t);l=h(R,"DIV",{class:!0});var ee=v(l);i=G(ee,r),ee.forEach(c),a=$(R),_e(o.$$.fragment,R),R.forEach(c),d=$(M),E=h(M,"DIV",{class:!0});var Z=v(E);g=h(Z,"DIV",{class:!0});var C=v(g);m=G(C,p),C.forEach(c),b=$(Z),I=h(Z,"DIV",{class:!0});var L=v(I);T=h(L,"DIV",{class:!0});var P=v(T);w=h(P,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),P.forEach(c),L.forEach(c),Z.forEach(c),M.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(g,"class","self-center text-xs font-medium mb-1"),f(w,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(w,"type","text"),f(w,"placeholder",k=s[4].t("Enter Google PSE Engine Id")),f(w,"autocomplete","off"),f(T,"class","flex-1"),f(I,"class","flex w-full"),f(E,"class","mt-1.5"),f(e,"class","mb-2.5 flex w-full flex-col")},m(V,M){U(V,e,M),n(e,t),n(t,l),n(l,i),n(t,a),he(o,t,null),n(e,d),n(e,E),n(E,g),n(g,m),n(E,b),n(E,I),n(I,T),n(T,w),le(w,s[1].search.google_pse_engine_id),D=!0,y||(O=ue(w,"input",s[12]),y=!0)},p(V,M){(!D||M[0]&16)&&r!==(r=V[4].t("Google PSE API Key")+"")&&F(i,r);const R={};M[0]&16&&(R.placeholder=V[4].t("Enter Google PSE API Key")),!u&&M[0]&2&&(u=!0,R.value=V[1].search.google_pse_api_key,Xe(()=>u=!1)),o.$set(R),(!D||M[0]&16)&&p!==(p=V[4].t("Google PSE Engine Id")+"")&&F(m,p),(!D||M[0]&16&&k!==(k=V[4].t("Enter Google PSE Engine Id")))&&f(w,"placeholder",k),M[0]&66&&w.value!==V[1].search.google_pse_engine_id&&le(w,V[1].search.google_pse_engine_id)},i(V){D||(Y(o.$$.fragment,V),D=!0)},o(V){W(o.$$.fragment,V),D=!1},d(V){V&&c(e),pe(o),y=!1,O()}}}function Oc(s){let e,t,l,r=s[4].t("Searxng Query URL")+"",i,a,o,u,d,E,g,p;return{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("div"),u=_("div"),d=_("input"),this.h()},l(m){e=h(m,"DIV",{class:!0});var b=v(e);t=h(b,"DIV",{});var I=v(t);l=h(I,"DIV",{class:!0});var T=v(l);i=G(T,r),T.forEach(c),a=$(I),o=h(I,"DIV",{class:!0});var w=v(o);u=h(w,"DIV",{class:!0});var k=v(u);d=h(k,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),k.forEach(c),w.forEach(c),I.forEach(c),b.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium mb-1"),f(d,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(d,"type","text"),f(d,"placeholder",E=s[4].t("Enter Searxng Query URL")),f(d,"autocomplete","off"),f(u,"class","flex-1"),f(o,"class","flex w-full"),f(e,"class","mb-2.5 flex w-full flex-col")},m(m,b){U(m,e,b),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(o,u),n(u,d),le(d,s[1].search.searxng_query_url),g||(p=ue(d,"input",s[10]),g=!0)},p(m,b){b[0]&16&&r!==(r=m[4].t("Searxng Query URL")+"")&&F(i,r),b[0]&16&&E!==(E=m[4].t("Enter Searxng Query URL"))&&f(d,"placeholder",E),b[0]&66&&d.value!==m[1].search.searxng_query_url&&le(d,m[1].search.searxng_query_url)},i:tt,o:tt,d(m){m&&c(e),g=!1,p()}}}function Wa(s){let e,t,l,r,i=s[4].t("Search Result Count")+"",a,o,u,d,E,g,p,m=s[4].t("Concurrent Requests")+"",b,I,T,w,k,D,y,O=s[4].t("Domain Filter List")+"",N,S,V,M,R,ee;return{c(){e=_("div"),t=_("div"),l=_("div"),r=_("div"),a=H(i),o=A(),u=_("input"),E=A(),g=_("div"),p=_("div"),b=H(m),I=A(),T=_("input"),k=A(),D=_("div"),y=_("div"),N=H(O),S=A(),V=_("input"),this.h()},l(Z){e=h(Z,"DIV",{class:!0});var C=v(e);t=h(C,"DIV",{class:!0});var L=v(t);l=h(L,"DIV",{class:!0});var P=v(l);r=h(P,"DIV",{class:!0});var B=v(r);a=G(B,i),B.forEach(c),o=$(P),u=h(P,"INPUT",{class:!0,placeholder:!0}),P.forEach(c),E=$(L),g=h(L,"DIV",{class:!0});var q=v(g);p=h(q,"DIV",{class:!0});var z=v(p);b=G(z,m),z.forEach(c),I=$(q),T=h(q,"INPUT",{class:!0,placeholder:!0}),q.forEach(c),L.forEach(c),C.forEach(c),k=$(Z),D=h(Z,"DIV",{class:!0});var x=v(D);y=h(x,"DIV",{class:!0});var re=v(y);N=G(re,O),re.forEach(c),S=$(x),V=h(x,"INPUT",{class:!0,placeholder:!0}),x.forEach(c),this.h()},h(){f(r,"class","self-center text-xs font-medium mb-1"),f(u,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(u,"placeholder",d=s[4].t("Search Result Count")),u.required=!0,f(l,"class","w-full"),f(p,"class","self-center text-xs font-medium mb-1"),f(T,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(T,"placeholder",w=s[4].t("Concurrent Requests")),T.required=!0,f(g,"class","w-full"),f(t,"class","flex gap-2"),f(e,"class","mb-2.5 flex w-full flex-col"),f(y,"class","text-xs font-medium mb-1"),f(V,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),f(V,"placeholder",M=s[4].t("Enter domains separated by commas (e.g., example.com,site.org)")),f(D,"class","mb-2.5 flex w-full flex-col")},m(Z,C){U(Z,e,C),n(e,t),n(t,l),n(l,r),n(r,a),n(l,o),n(l,u),le(u,s[1].search.result_count),n(t,E),n(t,g),n(g,p),n(p,b),n(g,I),n(g,T),le(T,s[1].search.concurrent_requests),U(Z,k,C),U(Z,D,C),n(D,y),n(y,N),n(D,S),n(D,V),le(V,s[1].search.domain_filter_list),R||(ee=[ue(u,"input",s[29]),ue(T,"input",s[30]),ue(V,"input",s[31])],R=!0)},p(Z,C){C[0]&16&&i!==(i=Z[4].t("Search Result Count")+"")&&F(a,i),C[0]&16&&d!==(d=Z[4].t("Search Result Count"))&&f(u,"placeholder",d),C[0]&66&&u.value!==Z[1].search.result_count&&le(u,Z[1].search.result_count),C[0]&16&&m!==(m=Z[4].t("Concurrent Requests")+"")&&F(b,m),C[0]&16&&w!==(w=Z[4].t("Concurrent Requests"))&&f(T,"placeholder",w),C[0]&66&&T.value!==Z[1].search.concurrent_requests&&le(T,Z[1].search.concurrent_requests),C[0]&16&&O!==(O=Z[4].t("Domain Filter List")+"")&&F(N,O),C[0]&16&&M!==(M=Z[4].t("Enter domains separated by commas (e.g., example.com,site.org)"))&&f(V,"placeholder",M),C[0]&66&&V.value!==Z[1].search.domain_filter_list&&le(V,Z[1].search.domain_filter_list)},d(Z){Z&&(c(e),c(k),c(D)),R=!1,zt(ee)}}}function Nc(s){let e=s[4].t("Bypass Embedding and Retrieval")+"",t;return{c(){t=H(e)},l(l){t=G(l,e)},m(l,r){U(l,t,r)},p(l,r){r[0]&16&&e!==(e=l[4].t("Bypass Embedding and Retrieval")+"")&&F(t,e)},d(l){l&&c(t)}}}function Pc(s){let e,t,l;function r(a){s[32](a)}let i={};return s[1].BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL!==void 0&&(i.state=s[1].BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL),e=new cl({props:i}),Je.push(()=>Qe(e,"state",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};!t&&o[0]&2&&(t=!0,u.state=a[1].BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function Sc(s){let e,t,l;function r(a){s[33](a)}let i={};return s[1].search.trust_env!==void 0&&(i.state=s[1].search.trust_env),e=new cl({props:i}),Je.push(()=>Qe(e,"state",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};!t&&o[0]&2&&(t=!0,u.state=a[1].search.trust_env,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function Mc(s){let e,t,l,r,i,a=s[4].t("Save")+"",o,u,d,E,g=s[1]&&Ya(s);return{c(){e=_("form"),t=_("div"),g&&g.c(),l=A(),r=_("div"),i=_("button"),o=H(a),this.h()},l(p){e=h(p,"FORM",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var b=v(t);g&&g.l(b),b.forEach(c),l=$(m),r=h(m,"DIV",{class:!0});var I=v(r);i=h(I,"BUTTON",{class:!0,type:!0});var T=v(i);o=G(T,a),T.forEach(c),I.forEach(c),m.forEach(c),this.h()},h(){f(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),f(i,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(i,"type","submit"),f(r,"class","flex justify-end pt-3 text-sm font-medium"),f(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(p,m){U(p,e,m),n(e,t),g&&g.m(t,null),n(e,l),n(e,r),n(r,i),n(i,o),u=!0,d||(E=ue(e,"submit",Ml(s[37])),d=!0)},p(p,m){p[1]?g?(g.p(p,m),m[0]&2&&Y(g,1)):(g=Ya(p),g.c(),Y(g,1),g.m(t,null)):g&&(at(),W(g,1,1,()=>{g=null}),nt()),(!u||m[0]&16)&&a!==(a=p[4].t("Save")+"")&&F(o,a)},i(p){u||(Y(g),u=!0)},o(p){W(g),u=!1},d(p){p&&c(e),g&&g.d(),d=!1,E()}}}function Rc(s,e,t){let l;const r=bl("i18n");Vt(s,r,K=>t(4,l=K));let{saveHandler:i}=e,a=null,o=["searxng","google_pse","brave","kagi","mojeek","bocha","serpstack","serper","serply","searchapi","serpapi","duckduckgo","tavily","jina","bing","exa"],u="en",d=null,E="";const g=async()=>{a.search.domain_filter_list?t(1,a.search.domain_filter_list=a.search.domain_filter_list.split(",").map(K=>K.trim()).filter(K=>K.length>0),a):t(1,a.search.domain_filter_list=[],a),await kn(localStorage.token,{web:a,youtube:{language:u.split(",").map(K=>K.trim()),translation:d,proxy_url:E}}),t(1,a.search.domain_filter_list=a.search.domain_filter_list.join(", "),a)};Vl(async()=>{var ie;const K=await wn(localStorage.token);K&&(t(1,a=K.web),(ie=a==null?void 0:a.search)!=null&&ie.domain_filter_list&&t(1,a.search.domain_filter_list=a.search.domain_filter_list.join(", "),a),t(2,u=K.youtube.language.join(",")),d=K.youtube.translation,t(3,E=K.youtube.proxy_url))});function p(K){s.$$.not_equal(a.search.enabled,K)&&(a.search.enabled=K,t(1,a))}function m(){a.search.engine=vl(this),t(1,a),t(6,o)}function b(){a.search.searxng_query_url=this.value,t(1,a),t(6,o)}function I(K){s.$$.not_equal(a.search.google_pse_api_key,K)&&(a.search.google_pse_api_key=K,t(1,a))}function T(){a.search.google_pse_engine_id=this.value,t(1,a),t(6,o)}function w(K){s.$$.not_equal(a.search.brave_search_api_key,K)&&(a.search.brave_search_api_key=K,t(1,a))}function k(K){s.$$.not_equal(a.search.kagi_search_api_key,K)&&(a.search.kagi_search_api_key=K,t(1,a))}function D(K){s.$$.not_equal(a.search.mojeek_search_api_key,K)&&(a.search.mojeek_search_api_key=K,t(1,a))}function y(K){s.$$.not_equal(a.search.bocha_search_api_key,K)&&(a.search.bocha_search_api_key=K,t(1,a))}function O(K){s.$$.not_equal(a.search.serpstack_api_key,K)&&(a.search.serpstack_api_key=K,t(1,a))}function N(K){s.$$.not_equal(a.search.serper_api_key,K)&&(a.search.serper_api_key=K,t(1,a))}function S(K){s.$$.not_equal(a.search.serply_api_key,K)&&(a.search.serply_api_key=K,t(1,a))}function V(K){s.$$.not_equal(a.search.searchapi_api_key,K)&&(a.search.searchapi_api_key=K,t(1,a))}function M(){a.search.searchapi_engine=this.value,t(1,a),t(6,o)}function R(K){s.$$.not_equal(a.search.serpapi_api_key,K)&&(a.search.serpapi_api_key=K,t(1,a))}function ee(){a.search.serpapi_engine=this.value,t(1,a),t(6,o)}function Z(K){s.$$.not_equal(a.search.tavily_api_key,K)&&(a.search.tavily_api_key=K,t(1,a))}function C(K){s.$$.not_equal(a.search.jina_api_key,K)&&(a.search.jina_api_key=K,t(1,a))}function L(K){s.$$.not_equal(a.search.exa_api_key,K)&&(a.search.exa_api_key=K,t(1,a))}function P(){a.search.bing_search_v7_endpoint=this.value,t(1,a),t(6,o)}function B(K){s.$$.not_equal(a.search.bing_search_v7_subscription_key,K)&&(a.search.bing_search_v7_subscription_key=K,t(1,a))}function q(){a.search.result_count=this.value,t(1,a),t(6,o)}function z(){a.search.concurrent_requests=this.value,t(1,a),t(6,o)}function x(){a.search.domain_filter_list=this.value,t(1,a),t(6,o)}function re(K){s.$$.not_equal(a.BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL,K)&&(a.BYPASS_WEB_SEARCH_EMBEDDING_AND_RETRIEVAL=K,t(1,a))}function te(K){s.$$.not_equal(a.search.trust_env,K)&&(a.search.trust_env=K,t(1,a))}function Q(K){s.$$.not_equal(a.ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION,K)&&(a.ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION=K,t(1,a))}function J(){u=this.value,t(2,u)}function j(){E=this.value,t(3,E)}const X=async()=>{await g(),i()};return s.$$set=K=>{"saveHandler"in K&&t(0,i=K.saveHandler)},[i,a,u,E,l,r,o,g,p,m,b,I,T,w,k,D,y,O,N,S,V,M,R,ee,Z,C,L,P,B,q,z,x,re,te,Q,J,j,X]}class Lc extends _l{constructor(e){super(),hl(this,e,Rc,Mc,dl,{saveHandler:0},null,[-1,-1])}}function Za(s,e,t){const l=s.slice();return l[2]=e[t],l}function Ja(s,e,t){const l=s.slice();return l[39]=e[t],l[41]=t,l}function Uc(s){let e=s[14].t("Add Arena Model")+"",t;return{c(){t=H(e)},l(l){t=G(l,e)},m(l,r){U(l,t,r)},p(l,r){r[0]&16384&&e!==(e=l[14].t("Add Arena Model")+"")&&F(t,e)},d(l){l&&c(t)}}}function Cc(s){let e=s[14].t("Edit Arena Model")+"",t;return{c(){t=H(e)},l(l){t=G(l,e)},m(l,r){U(l,t,r)},p(l,r){r[0]&16384&&e!==(e=l[14].t("Edit Arena Model")+"")&&F(t,e)},d(l){l&&c(t)}}}function Bc(s){let e=s[14].t("Exclude")+"",t;return{c(){t=H(e)},l(l){t=G(l,e)},m(l,r){U(l,t,r)},p(l,r){r[0]&16384&&e!==(e=l[14].t("Exclude")+"")&&F(t,e)},d(l){l&&c(t)}}}function Hc(s){let e=s[14].t("Include")+"",t;return{c(){t=H(e)},l(l){t=G(l,e)},m(l,r){U(l,t,r)},p(l,r){r[0]&16384&&e!==(e=l[14].t("Include")+"")&&F(t,e)},d(l){l&&c(t)}}}function Gc(s){let e,t=s[14].t("Leave empty to include all models or select specific models")+"",l;return{c(){e=_("div"),l=H(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","text-gray-500 text-xs text-center py-2")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i[0]&16384&&t!==(t=r[14].t("Leave empty to include all models or select specific models")+"")&&F(l,t)},i:tt,o:tt,d(r){r&&c(e)}}}function jc(s){let e,t,l=st(s[8]),r=[];for(let a=0;a<l.length;a+=1)r[a]=za(Ja(s,l,a));const i=a=>W(r[a],1,1,()=>{r[a]=null});return{c(){e=_("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=h(a,"DIV",{class:!0});var o=v(e);for(let u=0;u<r.length;u+=1)r[u].l(o);o.forEach(c),this.h()},h(){f(e,"class","flex flex-col")},m(a,o){U(a,e,o);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);t=!0},p(a,o){if(o[0]&8448){l=st(a[8]);let u;for(u=0;u<l.length;u+=1){const d=Ja(a,l,u);r[u]?(r[u].p(d,o),Y(r[u],1)):(r[u]=za(d),r[u].c(),Y(r[u],1),r[u].m(e,null))}for(at(),u=l.length;u<r.length;u+=1)i(u);nt()}},i(a){if(!t){for(let o=0;o<l.length;o+=1)Y(r[o]);t=!0}},o(a){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)W(r[o]);t=!1},d(a){a&&c(e),xt(r,a)}}}function za(s){var I;let e,t,l=((I=s[13].find(m))==null?void 0:I.name)+"",r,i,a,o,u,d,E,g,p;function m(...T){return s[28](s[39],...T)}u=new Tn({props:{strokeWidth:"2",className:"size-3.5"}});function b(){return s[29](s[41])}return{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("button"),de(u.$$.fragment),d=A(),this.h()},l(T){e=h(T,"DIV",{class:!0});var w=v(e);t=h(w,"DIV",{class:!0});var k=v(t);r=G(k,l),k.forEach(c),i=$(w),a=h(w,"DIV",{class:!0});var D=v(a);o=h(D,"BUTTON",{type:!0});var y=v(o);_e(u.$$.fragment,y),y.forEach(c),D.forEach(c),d=$(w),w.forEach(c),this.h()},h(){f(t,"class","text-sm flex-1 py-1 rounded-lg"),f(o,"type","button"),f(a,"class","shrink-0"),f(e,"class","flex gap-2 w-full justify-between items-center")},m(T,w){U(T,e,w),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),he(u,o,null),n(e,d),E=!0,g||(p=ue(o,"click",b),g=!0)},p(T,w){var k;s=T,(!E||w[0]&8448)&&l!==(l=((k=s[13].find(m))==null?void 0:k.name)+"")&&F(r,l)},i(T){E||(Y(u.$$.fragment,T),E=!0)},o(T){W(u.$$.fragment,T),E=!1},d(T){T&&c(e),pe(u),g=!1,p()}}}function Xa(s){let e,t=s[2].name+"",l,r;return{c(){e=_("option"),l=H(t),this.h()},l(i){e=h(i,"OPTION",{class:!0});var a=v(e);l=G(a,t),a.forEach(c),this.h()},h(){e.__value=r=s[2].id,le(e,e.__value),f(e,"class","bg-gray-50 dark:bg-gray-700")},m(i,a){U(i,e,a),n(e,l)},p(i,a){a[0]&8192&&t!==(t=i[2].name+"")&&F(l,t),a[0]&8192&&r!==(r=i[2].id)&&(e.__value=r,le(e,e.__value))},d(i){i&&c(e)}}}function Qa(s){let e,t=s[14].t("Delete")+"",l,r,i;return{c(){e=_("button"),l=H(t),this.h()},l(a){e=h(a,"BUTTON",{class:!0,type:!0});var o=v(e);l=G(o,t),o.forEach(c),this.h()},h(){f(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-950 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),f(e,"type","button")},m(a,o){U(a,e,o),n(e,l),r||(i=ue(e,"click",s[32]),r=!0)},p(a,o){o[0]&16384&&t!==(t=a[14].t("Delete")+"")&&F(l,t)},d(a){a&&c(e),r=!1,i()}}}function xa(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),Rt(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){f(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&c(e)}}}function Kc(s){let e,t,l,r,i,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',o,u,d,E,g,p,m,b,I,T,w,k,D,y,O,N,S,V,M,R=s[14].t("Name")+"",ee,Z,C,L,P,B,q,z,x=s[14].t("ID")+"",re,te,Q,J,j,X,K,ie,fe=s[14].t("Description")+"",ne,Ie,ke,be,ce,ae,ve,Te,ge,$e,Ve,oe,we,De,Ne,se,Ae,Ue,Le=s[14].t("Models")+"",Ce,Ze,We,xe,Be,Ee,Oe,rt,et,_t,Fe,gt,vt,Me=s[14].t("Select a model")+"",mt,kt,it,ot,ht,Et,Tt,pt,ft,Se,Ke=s[14].t("Save")+"",Pt,dt,Pe,Ye,bt,It;function Dt(je,lt){return je[1]?Cc:Uc}let ut=Dt(s),me=ut(s);O=new Wi({props:{className:"size-4"}});function Re(je){s[26](je)}let wt={};s[10]!==void 0&&(wt.accessControl=s[10]),Ve=new ji({props:wt}),Je.push(()=>Qe(Ve,"accessControl",Re));function Ht(je,lt){return je[9]==="include"?Hc:Bc}let Ct=Ht(s),Gt=Ct(s);const Yt=[jc,Gc],Bt=[];function el(je,lt){return je[8].length>0?0:1}Ee=el(s),Oe=Bt[Ee]=Yt[Ee](s);let Wt=st(s[13].filter(en)),Ut=[];for(let je=0;je<Wt.length;je+=1)Ut[je]=Xa(Za(s,Wt,je));Et=new Bs({props:{className:"size-3.5",strokeWidth:"2"}});let Nt=s[1]&&Qa(s),ct=s[12]&&xa();return{c(){e=_("div"),t=_("div"),l=_("div"),me.c(),r=A(),i=_("button"),i.innerHTML=a,o=A(),u=_("div"),d=_("div"),E=_("form"),g=_("div"),p=_("div"),m=_("input"),b=A(),I=_("button"),T=_("img"),k=A(),D=_("div"),y=_("div"),de(O.$$.fragment),N=A(),S=_("div"),V=_("div"),M=_("div"),ee=H(R),Z=A(),C=_("div"),L=_("input"),B=A(),q=_("div"),z=_("div"),re=H(x),te=A(),Q=_("div"),J=_("input"),X=A(),K=_("div"),ie=_("div"),ne=H(fe),Ie=A(),ke=_("div"),be=_("input"),ae=A(),ve=_("hr"),Te=A(),ge=_("div"),$e=_("div"),de(Ve.$$.fragment),we=A(),De=_("hr"),Ne=A(),se=_("div"),Ae=_("div"),Ue=_("div"),Ce=H(Le),Ze=A(),We=_("div"),xe=_("button"),Gt.c(),Be=A(),Oe.c(),rt=A(),et=_("hr"),_t=A(),Fe=_("div"),gt=_("select"),vt=_("option"),mt=H(Me);for(let je=0;je<Ut.length;je+=1)Ut[je].c();it=A(),ot=_("div"),ht=_("button"),de(Et.$$.fragment),Tt=A(),pt=_("div"),Nt&&Nt.c(),ft=A(),Se=_("button"),Pt=H(Ke),dt=A(),ct&&ct.c(),this.h()},l(je){e=h(je,"DIV",{});var lt=v(e);t=h(lt,"DIV",{class:!0});var jt=v(t);l=h(jt,"DIV",{class:!0});var tl=v(l);me.l(tl),tl.forEach(c),r=$(jt),i=h(jt,"BUTTON",{class:!0,"data-svelte-h":!0}),Rt(i)!=="svelte-745w2y"&&(i.innerHTML=a),jt.forEach(c),o=$(lt),u=h(lt,"DIV",{class:!0});var At=v(u);d=h(At,"DIV",{class:!0});var ll=v(d);E=h(ll,"FORM",{class:!0});var Ft=v(E);g=h(Ft,"DIV",{class:!0});var Kt=v(g);p=h(Kt,"DIV",{class:!0});var rl=v(p);m=h(rl,"INPUT",{type:!0,accept:!0}),b=$(rl),I=h(rl,"BUTTON",{class:!0,type:!0});var nl=v(I);T=h(nl,"IMG",{src:!0,class:!0,alt:!0}),k=$(nl),D=h(nl,"DIV",{class:!0});var al=v(D);y=h(al,"DIV",{class:!0});var yl=v(y);_e(O.$$.fragment,yl),yl.forEach(c),al.forEach(c),nl.forEach(c),rl.forEach(c),N=$(Kt),S=h(Kt,"DIV",{class:!0});var Dl=v(S);V=h(Dl,"DIV",{class:!0});var gl=v(V);M=h(gl,"DIV",{class:!0});var El=v(M);ee=G(El,R),El.forEach(c),Z=$(gl),C=h(gl,"DIV",{class:!0});var Il=v(C);L=h(Il,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Il.forEach(c),gl.forEach(c),B=$(Dl),q=h(Dl,"DIV",{class:!0});var Al=v(q);z=h(Al,"DIV",{class:!0});var qt=v(z);re=G(qt,x),qt.forEach(c),te=$(Al),Q=h(Al,"DIV",{class:!0});var il=v(Q);J=h(il,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),il.forEach(c),Al.forEach(c),Dl.forEach(c),X=$(Kt),K=h(Kt,"DIV",{class:!0});var jl=v(K);ie=h(jl,"DIV",{class:!0});var Ul=v(ie);ne=G(Ul,fe),Ul.forEach(c),Ie=$(jl),ke=h(jl,"DIV",{class:!0});var wl=v(ke);be=h(wl,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),wl.forEach(c),jl.forEach(c),ae=$(Kt),ve=h(Kt,"HR",{class:!0}),Te=$(Kt),ge=h(Kt,"DIV",{class:!0});var Cl=v(ge);$e=h(Cl,"DIV",{class:!0});var kl=v($e);_e(Ve.$$.fragment,kl),kl.forEach(c),Cl.forEach(c),we=$(Kt),De=h(Kt,"HR",{class:!0}),Ne=$(Kt),se=h(Kt,"DIV",{class:!0});var Xl=v(se);Ae=h(Xl,"DIV",{class:!0});var Jl=v(Ae);Ue=h(Jl,"DIV",{class:!0});var Xt=v(Ue);Ce=G(Xt,Le),Xt.forEach(c),Ze=$(Jl),We=h(Jl,"DIV",{});var ss=v(We);xe=h(ss,"BUTTON",{class:!0,type:!0});var ul=v(xe);Gt.l(ul),ul.forEach(c),ss.forEach(c),Jl.forEach(c),Be=$(Xl),Oe.l(Xl),Xl.forEach(c),rt=$(Kt),et=h(Kt,"HR",{class:!0}),_t=$(Kt),Fe=h(Kt,"DIV",{class:!0});var St=v(Fe);gt=h(St,"SELECT",{class:!0});var fl=v(gt);vt=h(fl,"OPTION",{});var rs=v(vt);mt=G(rs,Me),rs.forEach(c);for(let qe=0;qe<Ut.length;qe+=1)Ut[qe].l(fl);fl.forEach(c),it=$(St),ot=h(St,"DIV",{});var as=v(ot);ht=h(as,"BUTTON",{type:!0});var ns=v(ht);_e(Et.$$.fragment,ns),ns.forEach(c),as.forEach(c),St.forEach(c),Kt.forEach(c),Tt=$(Ft),pt=h(Ft,"DIV",{class:!0});var ol=v(pt);Nt&&Nt.l(ol),ft=$(ol),Se=h(ol,"BUTTON",{class:!0,type:!0});var He=v(Se);Pt=G(He,Ke),dt=$(He),ct&&ct.l(He),He.forEach(c),ol.forEach(c),Ft.forEach(c),ll.forEach(c),At.forEach(c),lt.forEach(c),this.h()},h(){f(l,"class","text-lg font-medium self-center font-primary"),f(i,"class","self-center"),f(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),f(m,"type","file"),m.hidden=!0,f(m,"accept","image/*"),ks(T.src,w=s[5])||f(T,"src",w),f(T,"class","size-16 rounded-full object-cover shrink-0"),f(T,"alt","Profile"),f(y,"class","my-auto text-white"),f(D,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),f(I,"class","relative rounded-full w-fit h-fit shrink-0"),f(I,"type","button"),f(p,"class","flex justify-center pb-3"),f(M,"class","mb-0.5 text-xs text-gray-500"),f(L,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),f(L,"type","text"),f(L,"placeholder",P=s[14].t("Model Name")),f(L,"autocomplete","off"),L.required=!0,f(C,"class","flex-1"),f(V,"class","flex flex-col w-full"),f(z,"class","mb-0.5 text-xs text-gray-500"),f(J,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),f(J,"type","text"),f(J,"placeholder",j=s[14].t("Model ID")),f(J,"autocomplete","off"),J.required=!0,J.disabled=s[1],f(Q,"class","flex-1"),f(q,"class","flex flex-col w-full"),f(S,"class","flex gap-2"),f(ie,"class","mb-1 text-xs text-gray-500"),f(be,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),f(be,"type","text"),f(be,"placeholder",ce=s[14].t("Enter description")),f(be,"autocomplete","off"),f(ke,"class","flex-1"),f(K,"class","flex flex-col w-full mt-2"),f(ve,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),f($e,"class","px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg"),f(ge,"class","my-2 -mx-2"),f(De,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),f(Ue,"class","text-xs text-gray-500"),f(xe,"class","text-xs text-gray-500"),f(xe,"type","button"),f(Ae,"class","mb-1 flex justify-between"),f(se,"class","flex flex-col w-full"),f(et,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),vt.__value="",le(vt,vt.__value),f(gt,"class",kt="w-full py-1 text-sm rounded-lg bg-transparent "+(s[7]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),s[7]===void 0&&ml(()=>s[30].call(gt)),f(ht,"type","button"),f(Fe,"class","flex items-center"),f(g,"class","px-1"),f(Se,"class",Pe="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[12]?" cursor-not-allowed":"")),f(Se,"type","submit"),Se.disabled=s[12],f(pt,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),f(E,"class","flex flex-col w-full"),f(d,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),f(u,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(je,lt){U(je,e,lt),n(e,t),n(t,l),me.m(l,null),n(t,r),n(t,i),n(e,o),n(e,u),n(u,d),n(d,E),n(E,g),n(g,p),n(p,m),s[20](m),n(p,b),n(p,I),n(I,T),n(I,k),n(I,D),n(D,y),he(O,y,null),n(g,N),n(g,S),n(S,V),n(V,M),n(M,ee),n(V,Z),n(V,C),n(C,L),le(L,s[3]),n(S,B),n(S,q),n(q,z),n(z,re),n(q,te),n(q,Q),n(Q,J),le(J,s[4]),n(g,X),n(g,K),n(K,ie),n(ie,ne),n(K,Ie),n(K,ke),n(ke,be),le(be,s[6]),n(g,ae),n(g,ve),n(g,Te),n(g,ge),n(ge,$e),he(Ve,$e,null),n(g,we),n(g,De),n(g,Ne),n(g,se),n(se,Ae),n(Ae,Ue),n(Ue,Ce),n(Ae,Ze),n(Ae,We),n(We,xe),Gt.m(xe,null),n(se,Be),Bt[Ee].m(se,null),n(g,rt),n(g,et),n(g,_t),n(g,Fe),n(Fe,gt),n(gt,vt),n(vt,mt);for(let jt=0;jt<Ut.length;jt+=1)Ut[jt]&&Ut[jt].m(gt,null);yt(gt,s[7],!0),n(Fe,it),n(Fe,ot),n(ot,ht),he(Et,ht,null),n(E,Tt),n(E,pt),Nt&&Nt.m(pt,null),n(pt,ft),n(pt,Se),n(Se,Pt),n(Se,dt),ct&&ct.m(Se,null),Ye=!0,bt||(It=[ue(i,"click",s[19]),ue(m,"change",s[21]),ue(I,"click",s[22]),ue(L,"input",s[23]),ue(J,"input",s[24]),ue(be,"input",s[25]),ue(xe,"click",s[27]),ue(gt,"change",s[30]),ue(ht,"click",s[31]),ue(E,"submit",Ml(s[33]))],bt=!0)},p(je,lt){ut===(ut=Dt(je))&&me?me.p(je,lt):(me.d(1),me=ut(je),me&&(me.c(),me.m(l,null))),(!Ye||lt[0]&32&&!ks(T.src,w=je[5]))&&f(T,"src",w),(!Ye||lt[0]&16384)&&R!==(R=je[14].t("Name")+"")&&F(ee,R),(!Ye||lt[0]&16384&&P!==(P=je[14].t("Model Name")))&&f(L,"placeholder",P),lt[0]&8&&L.value!==je[3]&&le(L,je[3]),(!Ye||lt[0]&16384)&&x!==(x=je[14].t("ID")+"")&&F(re,x),(!Ye||lt[0]&16384&&j!==(j=je[14].t("Model ID")))&&f(J,"placeholder",j),(!Ye||lt[0]&2)&&(J.disabled=je[1]),lt[0]&16&&J.value!==je[4]&&le(J,je[4]),(!Ye||lt[0]&16384)&&fe!==(fe=je[14].t("Description")+"")&&F(ne,fe),(!Ye||lt[0]&16384&&ce!==(ce=je[14].t("Enter description")))&&f(be,"placeholder",ce),lt[0]&64&&be.value!==je[6]&&le(be,je[6]);const jt={};!oe&&lt[0]&1024&&(oe=!0,jt.accessControl=je[10],Xe(()=>oe=!1)),Ve.$set(jt),(!Ye||lt[0]&16384)&&Le!==(Le=je[14].t("Models")+"")&&F(Ce,Le),Ct===(Ct=Ht(je))&&Gt?Gt.p(je,lt):(Gt.d(1),Gt=Ct(je),Gt&&(Gt.c(),Gt.m(xe,null)));let tl=Ee;if(Ee=el(je),Ee===tl?Bt[Ee].p(je,lt):(at(),W(Bt[tl],1,1,()=>{Bt[tl]=null}),nt(),Oe=Bt[Ee],Oe?Oe.p(je,lt):(Oe=Bt[Ee]=Yt[Ee](je),Oe.c()),Y(Oe,1),Oe.m(se,null)),(!Ye||lt[0]&16384)&&Me!==(Me=je[14].t("Select a model")+"")&&F(mt,Me),lt[0]&8192){Wt=st(je[13].filter(en));let At;for(At=0;At<Wt.length;At+=1){const ll=Za(je,Wt,At);Ut[At]?Ut[At].p(ll,lt):(Ut[At]=Xa(ll),Ut[At].c(),Ut[At].m(gt,null))}for(;At<Ut.length;At+=1)Ut[At].d(1);Ut.length=Wt.length}(!Ye||lt[0]&8320&&kt!==(kt="w-full py-1 text-sm rounded-lg bg-transparent "+(je[7]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"))&&f(gt,"class",kt),lt[0]&8320&&yt(gt,je[7]),je[1]?Nt?Nt.p(je,lt):(Nt=Qa(je),Nt.c(),Nt.m(pt,ft)):Nt&&(Nt.d(1),Nt=null),(!Ye||lt[0]&16384)&&Ke!==(Ke=je[14].t("Save")+"")&&F(Pt,Ke),je[12]?ct||(ct=xa(),ct.c(),ct.m(Se,null)):ct&&(ct.d(1),ct=null),(!Ye||lt[0]&4096&&Pe!==(Pe="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-950 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(je[12]?" cursor-not-allowed":"")))&&f(Se,"class",Pe),(!Ye||lt[0]&4096)&&(Se.disabled=je[12])},i(je){Ye||(Y(O.$$.fragment,je),Y(Ve.$$.fragment,je),Y(Oe),Y(Et.$$.fragment,je),Ye=!0)},o(je){W(O.$$.fragment,je),W(Ve.$$.fragment,je),W(Oe),W(Et.$$.fragment,je),Ye=!1},d(je){je&&c(e),me.d(),s[20](null),pe(O),pe(Ve),Gt.d(),Bt[Ee].d(),xt(Ut,je),pe(Et),Nt&&Nt.d(),ct&&ct.d(),bt=!1,zt(It)}}}function Yc(s){let e,t,l;function r(a){s[34](a)}let i={size:"sm",$$slots:{default:[Kc]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new Cs({props:i}),Je.push(()=>Qe(e,"show",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};o[0]&32767|o[1]&2048&&(u.$$scope={dirty:o,ctx:a}),!t&&o[0]&1&&(t=!0,u.show=a[0],Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}const en=s=>(s==null?void 0:s.owned_by)!=="arena";function Fc(s,e,t){let l,r;Vt(s,Tl,j=>t(13,l=j));const i=bl("i18n");Vt(s,i,j=>t(14,r=j));const a=zl();let{show:o=!1}=e,{edit:u=!1}=e,{model:d=null}=e,E="",g="";const p=()=>{u||t(4,g=E.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))};let m="/favicon.png",b="",I="",T=[],w="include",k={},D,y=!1;const O=()=>{I&&(t(8,T=[...T,I]),t(7,I=""))},N=()=>{if(t(12,y=!0),!E||!g){t(12,y=!1),Ge.error("Name and ID are required, please fill them out");return}if(!u&&l.find(X=>X.name===E)){t(12,y=!1),t(3,E=""),Ge.error("Model name already exists, please choose a different one");return}const j={id:g,name:E,meta:{profile_image_url:m,description:b||null,model_ids:T.length>0?T:null,filter_mode:T.length>0&&w||null,access_control:k}};a("submit",j),t(12,y=!1),t(0,o=!1),t(3,E=""),t(4,g=""),t(5,m="/favicon.png"),t(6,b=""),t(8,T=[]),t(7,I="")},S=()=>{var j;d&&(t(3,E=d.name),t(4,g=d.id),t(5,m=d.meta.profile_image_url),t(6,b=d.meta.description),t(8,T=d.meta.model_ids||[]),t(9,w=((j=d.meta)==null?void 0:j.filter_mode)??"include"),t(10,k="access_control"in d.meta?d.meta.access_control:{}))};Vl(()=>{S()});const V=()=>{t(0,o=!1)};function M(j){Je[j?"unshift":"push"](()=>{D=j,t(11,D)})}const R=j=>{const X=j.target.files??[];let K=new FileReader;K.onload=ie=>{let fe=`${ie.target.result}`;const ne=new Image;ne.src=fe,ne.onload=function(){const Ie=document.createElement("canvas"),ke=Ie.getContext("2d"),be=ne.width/ne.height;let ce,ae;be>1?(ce=250*be,ae=250):(ce=250,ae=250/be),Ie.width=250,Ie.height=250;const ve=(250-ce)/2,Te=(250-ae)/2;ke.drawImage(ne,ve,Te,ce,ae);const ge=Ie.toDataURL("image/jpeg");t(5,m=ge),j.target.files=null}},X.length>0&&["image/gif","image/webp","image/jpeg","image/png"].includes(X[0].type)&&K.readAsDataURL(X[0])},ee=()=>{D.click()};function Z(){E=this.value,t(3,E)}function C(){g=this.value,t(4,g)}function L(){b=this.value,t(6,b)}function P(j){k=j,t(10,k)}const B=()=>{t(9,w=w==="include"?"exclude":"include")},q=(j,X)=>X.id===j,z=j=>{t(8,T=T.filter((X,K)=>K!==j))};function x(){I=vl(this),t(7,I)}const re=()=>{O()},te=()=>{a("delete",d),t(0,o=!1)},Q=()=>{N()};function J(j){o=j,t(0,o)}return s.$$set=j=>{"show"in j&&t(0,o=j.show),"edit"in j&&t(1,u=j.edit),"model"in j&&t(2,d=j.model)},s.$$.update=()=>{s.$$.dirty[0]&8&&E&&p(),s.$$.dirty[0]&1&&o&&S()},[o,u,d,E,g,m,b,I,T,w,k,D,y,l,r,i,a,O,N,V,M,R,ee,Z,C,L,P,B,q,z,x,re,te,Q,J]}class Dn extends _l{constructor(e){super(),hl(this,e,Fc,Yc,dl,{show:0,edit:1,model:2},null,[-1,-1])}}function qc(s){var P,B;let e,t,l,r,i,a,o,u,d,E,g,p,m,b,I=s[0].name+"",T,w,k,D,y=(((B=(P=s[0])==null?void 0:P.meta)==null?void 0:B.description)??s[0].id)+"",O,N,S,V,M,R,ee,Z;function C(q){s[3](q)}let L={edit:!0,model:s[0]};return s[1]!==void 0&&(L.show=s[1]),e=new Dn({props:L}),Je.push(()=>Qe(e,"show",C)),e.$on("submit",s[4]),e.$on("delete",s[5]),M=new Gs({}),{c(){de(e.$$.fragment),l=A(),r=_("div"),i=_("div"),a=_("div"),o=_("div"),u=_("img"),g=A(),p=_("div"),m=_("div"),b=_("div"),T=H(I),w=A(),k=_("div"),D=_("div"),O=H(y),N=A(),S=_("div"),V=_("button"),de(M.$$.fragment),this.h()},l(q){_e(e.$$.fragment,q),l=$(q),r=h(q,"DIV",{class:!0});var z=v(r);i=h(z,"DIV",{class:!0});var x=v(i);a=h(x,"DIV",{class:!0});var re=v(a);o=h(re,"DIV",{class:!0});var te=v(o);u=h(te,"IMG",{src:!0,alt:!0,class:!0}),g=$(te),p=h(te,"DIV",{class:!0});var Q=v(p);m=h(Q,"DIV",{class:!0});var J=v(m);b=h(J,"DIV",{class:!0});var j=v(b);T=G(j,I),j.forEach(c),J.forEach(c),w=$(Q),k=h(Q,"DIV",{class:!0});var X=v(k);D=h(X,"DIV",{class:!0});var K=v(D);O=G(K,y),K.forEach(c),X.forEach(c),Q.forEach(c),te.forEach(c),re.forEach(c),N=$(x),S=h(x,"DIV",{class:!0});var ie=v(S);V=h(ie,"BUTTON",{class:!0,type:!0});var fe=v(V);_e(M.$$.fragment,fe),fe.forEach(c),ie.forEach(c),x.forEach(c),z.forEach(c),this.h()},h(){ks(u.src,d=s[0].meta.profile_image_url)||f(u,"src",d),f(u,"alt",E=s[0].name),f(u,"class","size-8 rounded-full object-cover shrink-0"),f(b,"class","shrink-0 line-clamp-1"),f(m,"class","flex items-center gap-1"),f(D,"class","text-xs w-full text-gray-500 bg-transparent line-clamp-1"),f(k,"class","flex items-center gap-1"),f(p,"class","w-full flex flex-col"),f(o,"class","flex gap-2.5 items-center"),f(a,"class","flex flex-col flex-1"),f(V,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),f(V,"type","button"),f(S,"class","flex items-center"),f(i,"class","flex justify-between items-center mb-1"),f(r,"class","py-0.5")},m(q,z){he(e,q,z),U(q,l,z),U(q,r,z),n(r,i),n(i,a),n(a,o),n(o,u),n(o,g),n(o,p),n(p,m),n(m,b),n(b,T),n(p,w),n(p,k),n(k,D),n(D,O),n(i,N),n(i,S),n(S,V),he(M,V,null),R=!0,ee||(Z=ue(V,"click",s[6]),ee=!0)},p(q,[z]){var re,te;const x={};z&1&&(x.model=q[0]),!t&&z&2&&(t=!0,x.show=q[1],Xe(()=>t=!1)),e.$set(x),(!R||z&1&&!ks(u.src,d=q[0].meta.profile_image_url))&&f(u,"src",d),(!R||z&1&&E!==(E=q[0].name))&&f(u,"alt",E),(!R||z&1)&&I!==(I=q[0].name+"")&&F(T,I),(!R||z&1)&&y!==(y=(((te=(re=q[0])==null?void 0:re.meta)==null?void 0:te.description)??q[0].id)+"")&&F(O,y)},i(q){R||(Y(e.$$.fragment,q),Y(M.$$.fragment,q),R=!0)},o(q){W(e.$$.fragment,q),W(M.$$.fragment,q),R=!1},d(q){q&&(c(l),c(r)),pe(e,q),pe(M),ee=!1,Z()}}}function Wc(s,e,t){const l=zl();bl("i18n");let{model:r}=e,i=!1;function a(E){i=E,t(1,i)}const o=async E=>{l("edit",E.detail)},u=async()=>{l("delete")},d=()=>{t(1,i=!0)};return s.$$set=E=>{"model"in E&&t(0,r=E.model)},[r,i,l,a,o,u,d]}class Zc extends _l{constructor(e){super(),hl(this,e,Wc,qc,dl,{model:0})}}function tn(s,e,t){const l=s.slice();return l[19]=e[t],l[21]=t,l}function Jc(s){let e,t,l,r;return l=new ls({props:{className:"size-6"}}),{c(){e=_("div"),t=_("div"),de(l.$$.fragment),this.h()},l(i){e=h(i,"DIV",{class:!0});var a=v(e);t=h(a,"DIV",{class:!0});var o=v(t);_e(l.$$.fragment,o),o.forEach(c),a.forEach(c),this.h()},h(){f(t,"class","my-auto"),f(e,"class","flex h-full justify-center")},m(i,a){U(i,e,a),n(e,t),he(l,t,null),r=!0},p:tt,i(i){r||(Y(l.$$.fragment,i),r=!0)},o(i){W(l.$$.fragment,i),r=!1},d(i){i&&c(e),pe(l)}}}function zc(s){let e,t,l,r=s[2].t("General")+"",i,a,o,u,d,E,g=s[2].t("Arena Models")+"",p,m,b,I,T;b=new Ot({props:{content:s[2].t("Message rating should be enabled to use this feature"),$$slots:{default:[Xc]},$$scope:{ctx:s}}});let w=s[0].ENABLE_EVALUATION_ARENA_MODELS&&ln(s);return{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("hr"),u=A(),d=_("div"),E=_("div"),p=H(g),m=A(),de(b.$$.fragment),I=A(),w&&w.c(),this.h()},l(k){e=h(k,"DIV",{class:!0});var D=v(e);t=h(D,"DIV",{class:!0});var y=v(t);l=h(y,"DIV",{class:!0});var O=v(l);i=G(O,r),O.forEach(c),a=$(y),o=h(y,"HR",{class:!0}),u=$(y),d=h(y,"DIV",{class:!0});var N=v(d);E=h(N,"DIV",{class:!0});var S=v(E);p=G(S,g),S.forEach(c),m=$(N),_e(b.$$.fragment,N),N.forEach(c),y.forEach(c),I=$(D),w&&w.l(D),D.forEach(c),this.h()},h(){f(l,"class","mb-2.5 text-base font-medium"),f(o,"class","border-gray-100 dark:border-gray-850 my-2"),f(E,"class","text-xs font-medium"),f(d,"class","mb-2.5 flex w-full justify-between"),f(t,"class","mb-3"),f(e,"class","")},m(k,D){U(k,e,D),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(t,u),n(t,d),n(d,E),n(E,p),n(d,m),he(b,d,null),n(e,I),w&&w.m(e,null),T=!0},p(k,D){(!T||D&4)&&r!==(r=k[2].t("General")+"")&&F(i,r),(!T||D&4)&&g!==(g=k[2].t("Arena Models")+"")&&F(p,g);const y={};D&4&&(y.content=k[2].t("Message rating should be enabled to use this feature")),D&4194305&&(y.$$scope={dirty:D,ctx:k}),b.$set(y),k[0].ENABLE_EVALUATION_ARENA_MODELS?w?(w.p(k,D),D&1&&Y(w,1)):(w=ln(k),w.c(),Y(w,1),w.m(e,null)):w&&(at(),W(w,1,1,()=>{w=null}),nt())},i(k){T||(Y(b.$$.fragment,k),Y(w),T=!0)},o(k){W(b.$$.fragment,k),W(w),T=!1},d(k){k&&c(e),pe(b),w&&w.d()}}}function Xc(s){let e,t,l;function r(a){s[11](a)}let i={};return s[0].ENABLE_EVALUATION_ARENA_MODELS!==void 0&&(i.state=s[0].ENABLE_EVALUATION_ARENA_MODELS),e=new cl({props:i}),Je.push(()=>Qe(e,"state",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};!t&&o&1&&(t=!0,u.state=a[0].ENABLE_EVALUATION_ARENA_MODELS,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function ln(s){let e,t,l,r=s[2].t("Manage")+"",i,a,o,u,d,E,g,p,m,b,I;u=new Ot({props:{content:s[2].t("Add Arena Model"),$$slots:{default:[Qc]},$$scope:{ctx:s}}});const T=[ed,xc],w=[];function k(D,y){var O;return(((O=D[0])==null?void 0:O.EVALUATION_ARENA_MODELS)??[]).length>0?0:1}return m=k(s),b=w[m]=T[m](s),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("div"),de(u.$$.fragment),d=A(),E=_("hr"),g=A(),p=_("div"),b.c(),this.h()},l(D){e=h(D,"DIV",{class:!0});var y=v(e);t=h(y,"DIV",{class:!0});var O=v(t);l=h(O,"DIV",{});var N=v(l);i=G(N,r),N.forEach(c),a=$(O),o=h(O,"DIV",{});var S=v(o);_e(u.$$.fragment,S),S.forEach(c),O.forEach(c),d=$(y),E=h(y,"HR",{class:!0}),g=$(y),p=h(y,"DIV",{class:!0});var V=v(p);b.l(V),V.forEach(c),y.forEach(c),this.h()},h(){f(t,"class","mb-2.5 text-base font-medium flex justify-between items-center"),f(E,"class","border-gray-100 dark:border-gray-850 my-2"),f(p,"class","flex flex-col gap-2"),f(e,"class","mb-3")},m(D,y){U(D,e,y),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),he(u,o,null),n(e,d),n(e,E),n(e,g),n(e,p),w[m].m(p,null),I=!0},p(D,y){(!I||y&4)&&r!==(r=D[2].t("Manage")+"")&&F(i,r);const O={};y&4&&(O.content=D[2].t("Add Arena Model")),y&4194306&&(O.$$scope={dirty:y,ctx:D}),u.$set(O);let N=m;m=k(D),m===N?w[m].p(D,y):(at(),W(w[N],1,1,()=>{w[N]=null}),nt(),b=w[m],b?b.p(D,y):(b=w[m]=T[m](D),b.c()),Y(b,1),b.m(p,null))},i(D){I||(Y(u.$$.fragment,D),Y(b),I=!0)},o(D){W(u.$$.fragment,D),W(b),I=!1},d(D){D&&c(e),pe(u),w[m].d()}}}function Qc(s){let e,t,l,r,i;return t=new Bs({}),{c(){e=_("button"),de(t.$$.fragment),this.h()},l(a){e=h(a,"BUTTON",{class:!0,type:!0});var o=v(e);_e(t.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","p-1"),f(e,"type","button")},m(a,o){U(a,e,o),he(t,e,null),l=!0,r||(i=ue(e,"click",s[12]),r=!0)},p:tt,i(a){l||(Y(t.$$.fragment,a),l=!0)},o(a){W(t.$$.fragment,a),l=!1},d(a){a&&c(e),pe(t),r=!1,i()}}}function xc(s){let e,t=s[2].t("Using the default arena model with all models. Click the plus button to add custom models.")+"",l;return{c(){e=_("div"),l=H(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","text-center text-xs text-gray-500")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i&4&&t!==(t=r[2].t("Using the default arena model with all models. Click the plus button to add custom models.")+"")&&F(l,t)},i:tt,o:tt,d(r){r&&c(e)}}}function ed(s){let e,t,l=st(s[0].EVALUATION_ARENA_MODELS),r=[];for(let a=0;a<l.length;a+=1)r[a]=sn(tn(s,l,a));const i=a=>W(r[a],1,1,()=>{r[a]=null});return{c(){for(let a=0;a<r.length;a+=1)r[a].c();e=Lt()},l(a){for(let o=0;o<r.length;o+=1)r[o].l(a);e=Lt()},m(a,o){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,o);U(a,e,o),t=!0},p(a,o){if(o&385){l=st(a[0].EVALUATION_ARENA_MODELS);let u;for(u=0;u<l.length;u+=1){const d=tn(a,l,u);r[u]?(r[u].p(d,o),Y(r[u],1)):(r[u]=sn(d),r[u].c(),Y(r[u],1),r[u].m(e.parentNode,e))}for(at(),u=l.length;u<r.length;u+=1)i(u);nt()}},i(a){if(!t){for(let o=0;o<l.length;o+=1)Y(r[o]);t=!0}},o(a){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)W(r[o]);t=!1},d(a){a&&c(e),xt(r,a)}}}function sn(s){let e,t;function l(...i){return s[13](s[21],...i)}function r(...i){return s[14](s[21],...i)}return e=new Zc({props:{model:s[19]}}),e.$on("edit",l),e.$on("delete",r),{c(){de(e.$$.fragment)},l(i){_e(e.$$.fragment,i)},m(i,a){he(e,i,a),t=!0},p(i,a){s=i;const o={};a&1&&(o.model=s[19]),e.$set(o)},i(i){t||(Y(e.$$.fragment,i),t=!0)},o(i){W(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function td(s){let e,t,l,r,i,a,o,u,d,E,g=s[2].t("Save")+"",p,m,b,I;function T(O){s[9](O)}let w={};s[1]!==void 0&&(w.show=s[1]),e=new Dn({props:w}),Je.push(()=>Qe(e,"show",T)),e.$on("submit",s[10]);const k=[zc,Jc],D=[];function y(O,N){return O[0]!==null?0:1}return a=y(s),o=D[a]=k[a](s),{c(){de(e.$$.fragment),l=A(),r=_("form"),i=_("div"),o.c(),u=A(),d=_("div"),E=_("button"),p=H(g),this.h()},l(O){_e(e.$$.fragment,O),l=$(O),r=h(O,"FORM",{class:!0});var N=v(r);i=h(N,"DIV",{class:!0});var S=v(i);o.l(S),S.forEach(c),u=$(N),d=h(N,"DIV",{class:!0});var V=v(d);E=h(V,"BUTTON",{class:!0,type:!0});var M=v(E);p=G(M,g),M.forEach(c),V.forEach(c),N.forEach(c),this.h()},h(){f(i,"class","overflow-y-scroll scrollbar-hidden h-full"),f(E,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(E,"type","submit"),f(d,"class","flex justify-end pt-3 text-sm font-medium"),f(r,"class","flex flex-col h-full justify-between text-sm")},m(O,N){he(e,O,N),U(O,l,N),U(O,r,N),n(r,i),D[a].m(i,null),n(r,u),n(r,d),n(d,E),n(E,p),m=!0,b||(I=ue(r,"submit",Ml(s[15])),b=!0)},p(O,[N]){const S={};!t&&N&2&&(t=!0,S.show=O[1],Xe(()=>t=!1)),e.$set(S);let V=a;a=y(O),a===V?D[a].p(O,N):(at(),W(D[V],1,1,()=>{D[V]=null}),nt(),o=D[a],o?o.p(O,N):(o=D[a]=k[a](O),o.c()),Y(o,1),o.m(i,null)),(!m||N&4)&&g!==(g=O[2].t("Save")+"")&&F(p,g)},i(O){m||(Y(e.$$.fragment,O),Y(o),m=!0)},o(O){W(e.$$.fragment,O),W(o),m=!1},d(O){O&&(c(l),c(r)),pe(e,O),D[a].d(),b=!1,I()}}}function ld(s,e,t){let l,r,i,a;Vt(s,Ds,N=>t(16,l=N)),Vt(s,Ts,N=>t(17,r=N)),Vt(s,Pl,N=>t(18,i=N));const o=zl(),u=bl("i18n");Vt(s,u,N=>t(2,a=N));let d=null,E=!1;const g=async()=>{var N;t(0,d=await Gi(localStorage.token,d).catch(S=>(Ge.error(S),null))),d&&(Ge.success("Settings saved successfully"),Tl.set(await Ol(localStorage.token,((N=i==null?void 0:i.features)==null?void 0:N.enable_direct_connections)&&((r==null?void 0:r.directConnections)??null))))},p=async N=>{var S;d.EVALUATION_ARENA_MODELS.push(N),t(0,d.EVALUATION_ARENA_MODELS=[...d.EVALUATION_ARENA_MODELS],d),await g(),Tl.set(await Ol(localStorage.token,((S=i==null?void 0:i.features)==null?void 0:S.enable_direct_connections)&&((r==null?void 0:r.directConnections)??null)))},m=async(N,S)=>{var V;t(0,d.EVALUATION_ARENA_MODELS[S]=N,d),t(0,d.EVALUATION_ARENA_MODELS=[...d.EVALUATION_ARENA_MODELS],d),await g(),Tl.set(await Ol(localStorage.token,((V=i==null?void 0:i.features)==null?void 0:V.enable_direct_connections)&&((r==null?void 0:r.directConnections)??null)))},b=async N=>{var S;t(0,d.EVALUATION_ARENA_MODELS=d.EVALUATION_ARENA_MODELS.filter((V,M)=>M!==N),d),await g(),Tl.set(await Ol(localStorage.token,((S=i==null?void 0:i.features)==null?void 0:S.enable_direct_connections)&&((r==null?void 0:r.directConnections)??null)))};Vl(async()=>{l.role==="admin"&&t(0,d=await Hi(localStorage.token).catch(N=>(Ge.error(N),null)))});function I(N){E=N,t(1,E)}const T=async N=>{p(N.detail)};function w(N){s.$$.not_equal(d.ENABLE_EVALUATION_ARENA_MODELS,N)&&(d.ENABLE_EVALUATION_ARENA_MODELS=N,t(0,d))}return[d,E,a,o,u,g,p,m,b,I,T,w,()=>{t(1,E=!0)},(N,S)=>{m(S.detail,N)},(N,S)=>{b(N)},()=>{g(),o("save")}]}class sd extends _l{constructor(e){super(),hl(this,e,ld,td,dl,{})}}function rn(s,e,t){const l=s.slice();return l[21]=e[t],l}function an(s,e,t){const l=s.slice();return l[21]=e[t],l}function nn(s){let e,t,l,r=s[2].t("General")+"",i,a,o,u,d,E,g,p=s[2].t("Code Execution Engine")+"",m,b,I,T,w,k=s[2].t("Select a engine")+"",D,y,O,N,S,V,M,R=s[2].t("Code Interpreter")+"",ee,Z,C,L,P,B,q,z=s[2].t("Enable Code Interpreter")+"",x,re,te,Q,J,j,X,K,ie=st(s[4]),fe=[];for(let ae=0;ae<ie.length;ae+=1)fe[ae]=on(an(s,ie,ae));let ne=s[1].CODE_EXECUTION_ENGINE==="jupyter"&&un(s),Ie=s[1].CODE_EXECUTION_ENGINE==="jupyter"&&fn(s);function ke(ae){s[12](ae)}let be={};s[1].ENABLE_CODE_INTERPRETER!==void 0&&(be.state=s[1].ENABLE_CODE_INTERPRETER),te=new cl({props:be}),Je.push(()=>Qe(te,"state",ke));let ce=s[1].ENABLE_CODE_INTERPRETER&&dn(s);return{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("hr"),u=A(),d=_("div"),E=_("div"),g=_("div"),m=H(p),b=A(),I=_("div"),T=_("select"),w=_("option"),D=H(k);for(let ae=0;ae<fe.length;ae+=1)fe[ae].c();O=A(),ne&&ne.c(),N=A(),Ie&&Ie.c(),S=A(),V=_("div"),M=_("div"),ee=H(R),Z=A(),C=_("hr"),L=A(),P=_("div"),B=_("div"),q=_("div"),x=H(z),re=A(),de(te.$$.fragment),J=A(),ce&&ce.c(),this.h()},l(ae){e=h(ae,"DIV",{});var ve=v(e);t=h(ve,"DIV",{class:!0});var Te=v(t);l=h(Te,"DIV",{class:!0});var ge=v(l);i=G(ge,r),ge.forEach(c),a=$(Te),o=h(Te,"HR",{class:!0}),u=$(Te),d=h(Te,"DIV",{class:!0});var $e=v(d);E=h($e,"DIV",{class:!0});var Ve=v(E);g=h(Ve,"DIV",{class:!0});var oe=v(g);m=G(oe,p),oe.forEach(c),b=$(Ve),I=h(Ve,"DIV",{class:!0});var we=v(I);T=h(we,"SELECT",{class:!0,placeholder:!0});var De=v(T);w=h(De,"OPTION",{});var Ne=v(w);D=G(Ne,k),Ne.forEach(c);for(let Ze=0;Ze<fe.length;Ze+=1)fe[Ze].l(De);De.forEach(c),we.forEach(c),Ve.forEach(c),O=$($e),ne&&ne.l($e),$e.forEach(c),N=$(Te),Ie&&Ie.l(Te),Te.forEach(c),S=$(ve),V=h(ve,"DIV",{class:!0});var se=v(V);M=h(se,"DIV",{class:!0});var Ae=v(M);ee=G(Ae,R),Ae.forEach(c),Z=$(se),C=h(se,"HR",{class:!0}),L=$(se),P=h(se,"DIV",{class:!0});var Ue=v(P);B=h(Ue,"DIV",{class:!0});var Le=v(B);q=h(Le,"DIV",{class:!0});var Ce=v(q);x=G(Ce,z),Ce.forEach(c),re=$(Le),_e(te.$$.fragment,Le),Le.forEach(c),Ue.forEach(c),J=$(se),ce&&ce.l(se),se.forEach(c),ve.forEach(c),this.h()},h(){f(l,"class","mb-2.5 text-base font-medium"),f(o,"class","border-gray-100 dark:border-gray-850 my-2"),f(g,"class","self-center text-xs font-medium"),w.disabled=!0,w.selected=!0,w.__value="",le(w,w.__value),f(T,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(T,"placeholder",y=s[2].t("Select a engine")),T.required=!0,s[1].CODE_EXECUTION_ENGINE===void 0&&ml(()=>s[6].call(T)),f(I,"class","flex items-center relative"),f(E,"class","flex w-full justify-between"),f(d,"class","mb-2.5"),f(t,"class","mb-3.5"),f(M,"class","mb-2.5 text-base font-medium"),f(C,"class","border-gray-100 dark:border-gray-850 my-2"),f(q,"class","self-center text-xs font-medium"),f(B,"class","flex w-full justify-between"),f(P,"class","mb-2.5"),f(V,"class","mb-3.5")},m(ae,ve){U(ae,e,ve),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(t,u),n(t,d),n(d,E),n(E,g),n(g,m),n(E,b),n(E,I),n(I,T),n(T,w),n(w,D);for(let Te=0;Te<fe.length;Te+=1)fe[Te]&&fe[Te].m(T,null);yt(T,s[1].CODE_EXECUTION_ENGINE,!0),n(d,O),ne&&ne.m(d,null),n(t,N),Ie&&Ie.m(t,null),n(e,S),n(e,V),n(V,M),n(M,ee),n(V,Z),n(V,C),n(V,L),n(V,P),n(P,B),n(B,q),n(q,x),n(B,re),he(te,B,null),n(V,J),ce&&ce.m(V,null),j=!0,X||(K=ue(T,"change",s[6]),X=!0)},p(ae,ve){if((!j||ve&4)&&r!==(r=ae[2].t("General")+"")&&F(i,r),(!j||ve&4)&&p!==(p=ae[2].t("Code Execution Engine")+"")&&F(m,p),(!j||ve&4)&&k!==(k=ae[2].t("Select a engine")+"")&&F(D,k),ve&16){ie=st(ae[4]);let ge;for(ge=0;ge<ie.length;ge+=1){const $e=an(ae,ie,ge);fe[ge]?fe[ge].p($e,ve):(fe[ge]=on($e),fe[ge].c(),fe[ge].m(T,null))}for(;ge<fe.length;ge+=1)fe[ge].d(1);fe.length=ie.length}(!j||ve&4&&y!==(y=ae[2].t("Select a engine")))&&f(T,"placeholder",y),ve&18&&yt(T,ae[1].CODE_EXECUTION_ENGINE),ae[1].CODE_EXECUTION_ENGINE==="jupyter"?ne?ne.p(ae,ve):(ne=un(ae),ne.c(),ne.m(d,null)):ne&&(ne.d(1),ne=null),ae[1].CODE_EXECUTION_ENGINE==="jupyter"?Ie?(Ie.p(ae,ve),ve&2&&Y(Ie,1)):(Ie=fn(ae),Ie.c(),Y(Ie,1),Ie.m(t,null)):Ie&&(at(),W(Ie,1,1,()=>{Ie=null}),nt()),(!j||ve&4)&&R!==(R=ae[2].t("Code Interpreter")+"")&&F(ee,R),(!j||ve&4)&&z!==(z=ae[2].t("Enable Code Interpreter")+"")&&F(x,z);const Te={};!Q&&ve&2&&(Q=!0,Te.state=ae[1].ENABLE_CODE_INTERPRETER,Xe(()=>Q=!1)),te.$set(Te),ae[1].ENABLE_CODE_INTERPRETER?ce?(ce.p(ae,ve),ve&2&&Y(ce,1)):(ce=dn(ae),ce.c(),Y(ce,1),ce.m(V,null)):ce&&(at(),W(ce,1,1,()=>{ce=null}),nt())},i(ae){j||(Y(Ie),Y(te.$$.fragment,ae),Y(ce),j=!0)},o(ae){W(Ie),W(te.$$.fragment,ae),W(ce),j=!1},d(ae){ae&&c(e),xt(fe,ae),ne&&ne.d(),Ie&&Ie.d(),pe(te),ce&&ce.d(),X=!1,K()}}}function on(s){let e,t=s[21]+"",l;return{c(){e=_("option"),l=H(t),this.h()},l(r){e=h(r,"OPTION",{});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){e.__value=s[21],le(e,e.__value)},m(r,i){U(r,e,i),n(e,l)},p:tt,d(r){r&&c(e)}}}function un(s){let e,t=s[2].t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksâ€”proceed with extreme caution.")+"",l;return{c(){e=_("div"),l=H(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","text-gray-500 text-xs")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i&4&&t!==(t=r[2].t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksâ€”proceed with extreme caution.")+"")&&F(l,t)},d(r){r&&c(e)}}}function fn(s){let e,t,l=s[2].t("Jupyter URL")+"",r,i,a,o,u,d,E,g,p,m,b=s[2].t("Jupyter Auth")+"",I,T,w,k,D,y=s[2].t("None")+"",O,N,S=s[2].t("Token")+"",V,M,R=s[2].t("Password")+"",ee,Z,C,L,P,B,q=s[2].t("Code Execution Timeout")+"",z,x,re,te,Q,J,j,X=s[1].CODE_EXECUTION_JUPYTER_AUTH&&cn(s);return te=new Ot({props:{content:s[2].t("Enter timeout in seconds"),$$slots:{default:[nd]},$$scope:{ctx:s}}}),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("div"),u=_("input"),E=A(),g=_("div"),p=_("div"),m=_("div"),I=H(b),T=A(),w=_("div"),k=_("select"),D=_("option"),O=H(y),N=_("option"),V=H(S),M=_("option"),ee=H(R),C=A(),X&&X.c(),L=A(),P=_("div"),B=_("div"),z=H(q),x=A(),re=_("div"),de(te.$$.fragment),this.h()},l(K){e=h(K,"DIV",{class:!0});var ie=v(e);t=h(ie,"DIV",{class:!0});var fe=v(t);r=G(fe,l),fe.forEach(c),i=$(ie),a=h(ie,"DIV",{class:!0});var ne=v(a);o=h(ne,"DIV",{class:!0});var Ie=v(o);u=h(Ie,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ie.forEach(c),ne.forEach(c),ie.forEach(c),E=$(K),g=h(K,"DIV",{class:!0});var ke=v(g);p=h(ke,"DIV",{class:!0});var be=v(p);m=h(be,"DIV",{class:!0});var ce=v(m);I=G(ce,b),ce.forEach(c),T=$(be),w=h(be,"DIV",{});var ae=v(w);k=h(ae,"SELECT",{class:!0,placeholder:!0});var ve=v(k);D=h(ve,"OPTION",{});var Te=v(D);O=G(Te,y),Te.forEach(c),N=h(ve,"OPTION",{});var ge=v(N);V=G(ge,S),ge.forEach(c),M=h(ve,"OPTION",{});var $e=v(M);ee=G($e,R),$e.forEach(c),ve.forEach(c),ae.forEach(c),be.forEach(c),C=$(ke),X&&X.l(ke),ke.forEach(c),L=$(K),P=h(K,"DIV",{class:!0});var Ve=v(P);B=h(Ve,"DIV",{class:!0});var oe=v(B);z=G(oe,q),oe.forEach(c),x=$(Ve),re=h(Ve,"DIV",{class:!0});var we=v(re);_e(te.$$.fragment,we),we.forEach(c),Ve.forEach(c),this.h()},h(){f(t,"class","text-xs font-medium"),f(u,"class","w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden"),f(u,"type","text"),f(u,"placeholder",d=s[2].t("Enter Jupyter URL")),f(u,"autocomplete","off"),f(o,"class","flex-1"),f(a,"class","flex w-full"),f(e,"class","mb-2.5 flex flex-col gap-1.5 w-full"),f(m,"class","text-xs font-medium"),D.selected=!0,D.__value="",le(D,D.__value),N.__value="token",le(N,N.__value),M.__value="password",le(M,M.__value),f(k,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left"),f(k,"placeholder",Z=s[2].t("Select an auth method")),s[1].CODE_EXECUTION_JUPYTER_AUTH===void 0&&ml(()=>s[8].call(k)),f(p,"class","flex gap-2 w-full items-center justify-between"),f(g,"class","mb-2.5 flex flex-col gap-1.5 w-full"),f(B,"class","text-xs font-medium"),f(re,"class",""),f(P,"class","flex gap-2 w-full items-center justify-between")},m(K,ie){U(K,e,ie),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,u),le(u,s[1].CODE_EXECUTION_JUPYTER_URL),U(K,E,ie),U(K,g,ie),n(g,p),n(p,m),n(m,I),n(p,T),n(p,w),n(w,k),n(k,D),n(D,O),n(k,N),n(N,V),n(k,M),n(M,ee),yt(k,s[1].CODE_EXECUTION_JUPYTER_AUTH,!0),n(g,C),X&&X.m(g,null),U(K,L,ie),U(K,P,ie),n(P,B),n(B,z),n(P,x),n(P,re),he(te,re,null),Q=!0,J||(j=[ue(u,"input",s[7]),ue(k,"change",s[8])],J=!0)},p(K,ie){(!Q||ie&4)&&l!==(l=K[2].t("Jupyter URL")+"")&&F(r,l),(!Q||ie&4&&d!==(d=K[2].t("Enter Jupyter URL")))&&f(u,"placeholder",d),ie&18&&u.value!==K[1].CODE_EXECUTION_JUPYTER_URL&&le(u,K[1].CODE_EXECUTION_JUPYTER_URL),(!Q||ie&4)&&b!==(b=K[2].t("Jupyter Auth")+"")&&F(I,b),(!Q||ie&4)&&y!==(y=K[2].t("None")+"")&&F(O,y),(!Q||ie&4)&&S!==(S=K[2].t("Token")+"")&&F(V,S),(!Q||ie&4)&&R!==(R=K[2].t("Password")+"")&&F(ee,R),(!Q||ie&4&&Z!==(Z=K[2].t("Select an auth method")))&&f(k,"placeholder",Z),ie&18&&yt(k,K[1].CODE_EXECUTION_JUPYTER_AUTH),K[1].CODE_EXECUTION_JUPYTER_AUTH?X?(X.p(K,ie),ie&2&&Y(X,1)):(X=cn(K),X.c(),Y(X,1),X.m(g,null)):X&&(at(),W(X,1,1,()=>{X=null}),nt()),(!Q||ie&4)&&q!==(q=K[2].t("Code Execution Timeout")+"")&&F(z,q);const fe={};ie&4&&(fe.content=K[2].t("Enter timeout in seconds")),ie&67108870&&(fe.$$scope={dirty:ie,ctx:K}),te.$set(fe)},i(K){Q||(Y(X),Y(te.$$.fragment,K),Q=!0)},o(K){W(X),W(te.$$.fragment,K),Q=!1},d(K){K&&(c(e),c(E),c(g),c(L),c(P)),X&&X.d(),pe(te),J=!1,zt(j)}}}function cn(s){let e,t,l,r,i;const a=[ad,rd],o=[];function u(d,E){return d[1].CODE_EXECUTION_JUPYTER_AUTH==="password"?0:1}return l=u(s),r=o[l]=a[l](s),{c(){e=_("div"),t=_("div"),r.c(),this.h()},l(d){e=h(d,"DIV",{class:!0});var E=v(e);t=h(E,"DIV",{class:!0});var g=v(t);r.l(g),g.forEach(c),E.forEach(c),this.h()},h(){f(t,"class","flex-1"),f(e,"class","flex w-full gap-2")},m(d,E){U(d,e,E),n(e,t),o[l].m(t,null),i=!0},p(d,E){let g=l;l=u(d),l===g?o[l].p(d,E):(at(),W(o[g],1,1,()=>{o[g]=null}),nt(),r=o[l],r?r.p(d,E):(r=o[l]=a[l](d),r.c()),Y(r,1),r.m(t,null))},i(d){i||(Y(r),i=!0)},o(d){W(r),i=!1},d(d){d&&c(e),o[l].d()}}}function rd(s){let e,t,l;function r(a){s[10](a)}let i={type:"text",placeholder:s[2].t("Enter Jupyter Token"),autocomplete:"off"};return s[1].CODE_EXECUTION_JUPYTER_AUTH_TOKEN!==void 0&&(i.value=s[1].CODE_EXECUTION_JUPYTER_AUTH_TOKEN),e=new pl({props:i}),Je.push(()=>Qe(e,"value",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};o&4&&(u.placeholder=a[2].t("Enter Jupyter Token")),!t&&o&2&&(t=!0,u.value=a[1].CODE_EXECUTION_JUPYTER_AUTH_TOKEN,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function ad(s){let e,t,l;function r(a){s[9](a)}let i={type:"text",placeholder:s[2].t("Enter Jupyter Password"),autocomplete:"off"};return s[1].CODE_EXECUTION_JUPYTER_AUTH_PASSWORD!==void 0&&(i.value=s[1].CODE_EXECUTION_JUPYTER_AUTH_PASSWORD),e=new pl({props:i}),Je.push(()=>Qe(e,"value",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};o&4&&(u.placeholder=a[2].t("Enter Jupyter Password")),!t&&o&2&&(t=!0,u.value=a[1].CODE_EXECUTION_JUPYTER_AUTH_PASSWORD,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function nd(s){let e,t,l,r;return{c(){e=_("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){f(e,"class","dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(e,"type","number"),f(e,"placeholder",t=s[2].t("e.g. 60")),f(e,"autocomplete","off")},m(i,a){U(i,e,a),le(e,s[1].CODE_EXECUTION_JUPYTER_TIMEOUT),l||(r=ue(e,"input",s[11]),l=!0)},p(i,a){a&4&&t!==(t=i[2].t("e.g. 60"))&&f(e,"placeholder",t),a&18&&$l(e.value)!==i[1].CODE_EXECUTION_JUPYTER_TIMEOUT&&le(e,i[1].CODE_EXECUTION_JUPYTER_TIMEOUT)},d(i){i&&c(e),l=!1,r()}}}function dn(s){let e,t,l,r=s[2].t("Code Interpreter Engine")+"",i,a,o,u,d,E=s[2].t("Select a engine")+"",g,p,m,b,I,T,w,k,D,y,O=s[2].t("Code Interpreter Prompt Template")+"",N,S,V,M,R,ee,Z=st(s[4]),C=[];for(let B=0;B<Z.length;B+=1)C[B]=_n(rn(s,Z,B));let L=s[1].CODE_INTERPRETER_ENGINE==="jupyter"&&hn(s),P=s[1].CODE_INTERPRETER_ENGINE==="jupyter"&&pn(s);return V=new Ot({props:{content:s[2].t("Leave empty to use the default prompt, or enter a custom prompt"),placement:"top-start",$$slots:{default:[fd]},$$scope:{ctx:s}}}),{c(){e=_("div"),t=_("div"),l=_("div"),i=H(r),a=A(),o=_("div"),u=_("select"),d=_("option"),g=H(E);for(let B=0;B<C.length;B+=1)C[B].c();m=A(),L&&L.c(),b=A(),P&&P.c(),I=A(),T=_("hr"),w=A(),k=_("div"),D=_("div"),y=_("div"),N=H(O),S=A(),de(V.$$.fragment),this.h()},l(B){e=h(B,"DIV",{class:!0});var q=v(e);t=h(q,"DIV",{class:!0});var z=v(t);l=h(z,"DIV",{class:!0});var x=v(l);i=G(x,r),x.forEach(c),a=$(z),o=h(z,"DIV",{class:!0});var re=v(o);u=h(re,"SELECT",{class:!0,placeholder:!0});var te=v(u);d=h(te,"OPTION",{});var Q=v(d);g=G(Q,E),Q.forEach(c);for(let K=0;K<C.length;K+=1)C[K].l(te);te.forEach(c),re.forEach(c),z.forEach(c),m=$(q),L&&L.l(q),q.forEach(c),b=$(B),P&&P.l(B),I=$(B),T=h(B,"HR",{class:!0}),w=$(B),k=h(B,"DIV",{});var J=v(k);D=h(J,"DIV",{class:!0});var j=v(D);y=h(j,"DIV",{class:!0});var X=v(y);N=G(X,O),X.forEach(c),S=$(j),_e(V.$$.fragment,j),j.forEach(c),J.forEach(c),this.h()},h(){f(l,"class","self-center text-xs font-medium"),d.disabled=!0,d.selected=!0,d.__value="",le(d,d.__value),f(u,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(u,"placeholder",p=s[2].t("Select a engine")),u.required=!0,s[1].CODE_INTERPRETER_ENGINE===void 0&&ml(()=>s[13].call(u)),f(o,"class","flex items-center relative"),f(t,"class","flex w-full justify-between"),f(e,"class","mb-2.5"),f(T,"class","border-gray-100 dark:border-gray-850 my-2"),f(y,"class","mb-2.5 text-xs font-medium"),f(D,"class","py-0.5 w-full")},m(B,q){U(B,e,q),n(e,t),n(t,l),n(l,i),n(t,a),n(t,o),n(o,u),n(u,d),n(d,g);for(let z=0;z<C.length;z+=1)C[z]&&C[z].m(u,null);yt(u,s[1].CODE_INTERPRETER_ENGINE,!0),n(e,m),L&&L.m(e,null),U(B,b,q),P&&P.m(B,q),U(B,I,q),U(B,T,q),U(B,w,q),U(B,k,q),n(k,D),n(D,y),n(y,N),n(D,S),he(V,D,null),M=!0,R||(ee=ue(u,"change",s[13]),R=!0)},p(B,q){if((!M||q&4)&&r!==(r=B[2].t("Code Interpreter Engine")+"")&&F(i,r),(!M||q&4)&&E!==(E=B[2].t("Select a engine")+"")&&F(g,E),q&16){Z=st(B[4]);let x;for(x=0;x<Z.length;x+=1){const re=rn(B,Z,x);C[x]?C[x].p(re,q):(C[x]=_n(re),C[x].c(),C[x].m(u,null))}for(;x<C.length;x+=1)C[x].d(1);C.length=Z.length}(!M||q&4&&p!==(p=B[2].t("Select a engine")))&&f(u,"placeholder",p),q&18&&yt(u,B[1].CODE_INTERPRETER_ENGINE),B[1].CODE_INTERPRETER_ENGINE==="jupyter"?L?L.p(B,q):(L=hn(B),L.c(),L.m(e,null)):L&&(L.d(1),L=null),B[1].CODE_INTERPRETER_ENGINE==="jupyter"?P?(P.p(B,q),q&2&&Y(P,1)):(P=pn(B),P.c(),Y(P,1),P.m(I.parentNode,I)):P&&(at(),W(P,1,1,()=>{P=null}),nt()),(!M||q&4)&&O!==(O=B[2].t("Code Interpreter Prompt Template")+"")&&F(N,O);const z={};q&4&&(z.content=B[2].t("Leave empty to use the default prompt, or enter a custom prompt")),q&67108870&&(z.$$scope={dirty:q,ctx:B}),V.$set(z)},i(B){M||(Y(P),Y(V.$$.fragment,B),M=!0)},o(B){W(P),W(V.$$.fragment,B),M=!1},d(B){B&&(c(e),c(b),c(I),c(T),c(w),c(k)),xt(C,B),L&&L.d(),P&&P.d(B),pe(V),R=!1,ee()}}}function _n(s){let e,t=s[21]+"",l;return{c(){e=_("option"),l=H(t),this.h()},l(r){e=h(r,"OPTION",{});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){e.__value=s[21],le(e,e.__value)},m(r,i){U(r,e,i),n(e,l)},p:tt,d(r){r&&c(e)}}}function hn(s){let e,t=s[2].t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksâ€”proceed with extreme caution.")+"",l;return{c(){e=_("div"),l=H(t),this.h()},l(r){e=h(r,"DIV",{class:!0});var i=v(e);l=G(i,t),i.forEach(c),this.h()},h(){f(e,"class","text-gray-500 text-xs")},m(r,i){U(r,e,i),n(e,l)},p(r,i){i&4&&t!==(t=r[2].t("Warning: Jupyter execution enables arbitrary code execution, posing severe security risksâ€”proceed with extreme caution.")+"")&&F(l,t)},d(r){r&&c(e)}}}function pn(s){let e,t,l=s[2].t("Jupyter URL")+"",r,i,a,o,u,d,E,g,p,m,b=s[2].t("Jupyter Auth")+"",I,T,w,k,D,y=s[2].t("None")+"",O,N,S=s[2].t("Token")+"",V,M,R=s[2].t("Password")+"",ee,Z,C,L,P,B,q=s[2].t("Code Execution Timeout")+"",z,x,re,te,Q,J,j,X=s[1].CODE_INTERPRETER_JUPYTER_AUTH&&vn(s);return te=new Ot({props:{content:s[2].t("Enter timeout in seconds"),$$slots:{default:[ud]},$$scope:{ctx:s}}}),{c(){e=_("div"),t=_("div"),r=H(l),i=A(),a=_("div"),o=_("div"),u=_("input"),E=A(),g=_("div"),p=_("div"),m=_("div"),I=H(b),T=A(),w=_("div"),k=_("select"),D=_("option"),O=H(y),N=_("option"),V=H(S),M=_("option"),ee=H(R),C=A(),X&&X.c(),L=A(),P=_("div"),B=_("div"),z=H(q),x=A(),re=_("div"),de(te.$$.fragment),this.h()},l(K){e=h(K,"DIV",{class:!0});var ie=v(e);t=h(ie,"DIV",{class:!0});var fe=v(t);r=G(fe,l),fe.forEach(c),i=$(ie),a=h(ie,"DIV",{class:!0});var ne=v(a);o=h(ne,"DIV",{class:!0});var Ie=v(o);u=h(Ie,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ie.forEach(c),ne.forEach(c),ie.forEach(c),E=$(K),g=h(K,"DIV",{class:!0});var ke=v(g);p=h(ke,"DIV",{class:!0});var be=v(p);m=h(be,"DIV",{class:!0});var ce=v(m);I=G(ce,b),ce.forEach(c),T=$(be),w=h(be,"DIV",{});var ae=v(w);k=h(ae,"SELECT",{class:!0,placeholder:!0});var ve=v(k);D=h(ve,"OPTION",{});var Te=v(D);O=G(Te,y),Te.forEach(c),N=h(ve,"OPTION",{});var ge=v(N);V=G(ge,S),ge.forEach(c),M=h(ve,"OPTION",{});var $e=v(M);ee=G($e,R),$e.forEach(c),ve.forEach(c),ae.forEach(c),be.forEach(c),C=$(ke),X&&X.l(ke),ke.forEach(c),L=$(K),P=h(K,"DIV",{class:!0});var Ve=v(P);B=h(Ve,"DIV",{class:!0});var oe=v(B);z=G(oe,q),oe.forEach(c),x=$(Ve),re=h(Ve,"DIV",{class:!0});var we=v(re);_e(te.$$.fragment,we),we.forEach(c),Ve.forEach(c),this.h()},h(){f(t,"class","text-xs font-medium"),f(u,"class","w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden"),f(u,"type","text"),f(u,"placeholder",d=s[2].t("Enter Jupyter URL")),f(u,"autocomplete","off"),f(o,"class","flex-1"),f(a,"class","flex w-full"),f(e,"class","mb-2.5 flex flex-col gap-1.5 w-full"),f(m,"class","text-xs font-medium"),D.selected=!0,D.__value="",le(D,D.__value),N.__value="token",le(N,N.__value),M.__value="password",le(M,M.__value),f(k,"class","dark:bg-gray-900 w-fit pr-8 rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-left"),f(k,"placeholder",Z=s[2].t("Select an auth method")),s[1].CODE_INTERPRETER_JUPYTER_AUTH===void 0&&ml(()=>s[15].call(k)),f(p,"class","flex gap-2 w-full items-center justify-between"),f(g,"class","mb-2.5 flex flex-col gap-1.5 w-full"),f(B,"class","text-xs font-medium"),f(re,"class",""),f(P,"class","flex gap-2 w-full items-center justify-between")},m(K,ie){U(K,e,ie),n(e,t),n(t,r),n(e,i),n(e,a),n(a,o),n(o,u),le(u,s[1].CODE_INTERPRETER_JUPYTER_URL),U(K,E,ie),U(K,g,ie),n(g,p),n(p,m),n(m,I),n(p,T),n(p,w),n(w,k),n(k,D),n(D,O),n(k,N),n(N,V),n(k,M),n(M,ee),yt(k,s[1].CODE_INTERPRETER_JUPYTER_AUTH,!0),n(g,C),X&&X.m(g,null),U(K,L,ie),U(K,P,ie),n(P,B),n(B,z),n(P,x),n(P,re),he(te,re,null),Q=!0,J||(j=[ue(u,"input",s[14]),ue(k,"change",s[15])],J=!0)},p(K,ie){(!Q||ie&4)&&l!==(l=K[2].t("Jupyter URL")+"")&&F(r,l),(!Q||ie&4&&d!==(d=K[2].t("Enter Jupyter URL")))&&f(u,"placeholder",d),ie&18&&u.value!==K[1].CODE_INTERPRETER_JUPYTER_URL&&le(u,K[1].CODE_INTERPRETER_JUPYTER_URL),(!Q||ie&4)&&b!==(b=K[2].t("Jupyter Auth")+"")&&F(I,b),(!Q||ie&4)&&y!==(y=K[2].t("None")+"")&&F(O,y),(!Q||ie&4)&&S!==(S=K[2].t("Token")+"")&&F(V,S),(!Q||ie&4)&&R!==(R=K[2].t("Password")+"")&&F(ee,R),(!Q||ie&4&&Z!==(Z=K[2].t("Select an auth method")))&&f(k,"placeholder",Z),ie&18&&yt(k,K[1].CODE_INTERPRETER_JUPYTER_AUTH),K[1].CODE_INTERPRETER_JUPYTER_AUTH?X?(X.p(K,ie),ie&2&&Y(X,1)):(X=vn(K),X.c(),Y(X,1),X.m(g,null)):X&&(at(),W(X,1,1,()=>{X=null}),nt()),(!Q||ie&4)&&q!==(q=K[2].t("Code Execution Timeout")+"")&&F(z,q);const fe={};ie&4&&(fe.content=K[2].t("Enter timeout in seconds")),ie&67108870&&(fe.$$scope={dirty:ie,ctx:K}),te.$set(fe)},i(K){Q||(Y(X),Y(te.$$.fragment,K),Q=!0)},o(K){W(X),W(te.$$.fragment,K),Q=!1},d(K){K&&(c(e),c(E),c(g),c(L),c(P)),X&&X.d(),pe(te),J=!1,zt(j)}}}function vn(s){let e,t,l,r,i;const a=[od,id],o=[];function u(d,E){return d[1].CODE_INTERPRETER_JUPYTER_AUTH==="password"?0:1}return l=u(s),r=o[l]=a[l](s),{c(){e=_("div"),t=_("div"),r.c(),this.h()},l(d){e=h(d,"DIV",{class:!0});var E=v(e);t=h(E,"DIV",{class:!0});var g=v(t);r.l(g),g.forEach(c),E.forEach(c),this.h()},h(){f(t,"class","flex-1"),f(e,"class","flex w-full gap-2")},m(d,E){U(d,e,E),n(e,t),o[l].m(t,null),i=!0},p(d,E){let g=l;l=u(d),l===g?o[l].p(d,E):(at(),W(o[g],1,1,()=>{o[g]=null}),nt(),r=o[l],r?r.p(d,E):(r=o[l]=a[l](d),r.c()),Y(r,1),r.m(t,null))},i(d){i||(Y(r),i=!0)},o(d){W(r),i=!1},d(d){d&&c(e),o[l].d()}}}function id(s){let e,t,l;function r(a){s[17](a)}let i={type:"text",placeholder:s[2].t("Enter Jupyter Token"),autocomplete:"off"};return s[1].CODE_INTERPRETER_JUPYTER_AUTH_TOKEN!==void 0&&(i.value=s[1].CODE_INTERPRETER_JUPYTER_AUTH_TOKEN),e=new pl({props:i}),Je.push(()=>Qe(e,"value",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};o&4&&(u.placeholder=a[2].t("Enter Jupyter Token")),!t&&o&2&&(t=!0,u.value=a[1].CODE_INTERPRETER_JUPYTER_AUTH_TOKEN,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function od(s){let e,t,l;function r(a){s[16](a)}let i={type:"text",placeholder:s[2].t("Enter Jupyter Password"),autocomplete:"off"};return s[1].CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD!==void 0&&(i.value=s[1].CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD),e=new pl({props:i}),Je.push(()=>Qe(e,"value",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};o&4&&(u.placeholder=a[2].t("Enter Jupyter Password")),!t&&o&2&&(t=!0,u.value=a[1].CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function ud(s){let e,t,l,r;return{c(){e=_("input"),this.h()},l(i){e=h(i,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){f(e,"class","dark:bg-gray-900 w-fit rounded-sm px-2 p-1 text-xs bg-transparent outline-hidden text-right"),f(e,"type","number"),f(e,"placeholder",t=s[2].t("e.g. 60")),f(e,"autocomplete","off")},m(i,a){U(i,e,a),le(e,s[1].CODE_INTERPRETER_JUPYTER_TIMEOUT),l||(r=ue(e,"input",s[18]),l=!0)},p(i,a){a&4&&t!==(t=i[2].t("e.g. 60"))&&f(e,"placeholder",t),a&18&&$l(e.value)!==i[1].CODE_INTERPRETER_JUPYTER_TIMEOUT&&le(e,i[1].CODE_INTERPRETER_JUPYTER_TIMEOUT)},d(i){i&&c(e),l=!1,r()}}}function fd(s){let e,t,l;function r(a){s[19](a)}let i={placeholder:s[2].t("Leave empty to use the default prompt, or enter a custom prompt")};return s[1].CODE_INTERPRETER_PROMPT_TEMPLATE!==void 0&&(i.value=s[1].CODE_INTERPRETER_PROMPT_TEMPLATE),e=new Es({props:i}),Je.push(()=>Qe(e,"value",r)),{c(){de(e.$$.fragment)},l(a){_e(e.$$.fragment,a)},m(a,o){he(e,a,o),l=!0},p(a,o){const u={};o&4&&(u.placeholder=a[2].t("Leave empty to use the default prompt, or enter a custom prompt")),!t&&o&2&&(t=!0,u.value=a[1].CODE_INTERPRETER_PROMPT_TEMPLATE,Xe(()=>t=!1)),e.$set(u)},i(a){l||(Y(e.$$.fragment,a),l=!0)},o(a){W(e.$$.fragment,a),l=!1},d(a){pe(e,a)}}}function cd(s){let e,t,l,r,i,a=s[2].t("Save")+"",o,u,d,E,g=s[1]&&nn(s);return{c(){e=_("form"),t=_("div"),g&&g.c(),l=A(),r=_("div"),i=_("button"),o=H(a),this.h()},l(p){e=h(p,"FORM",{class:!0});var m=v(e);t=h(m,"DIV",{class:!0});var b=v(t);g&&g.l(b),b.forEach(c),l=$(m),r=h(m,"DIV",{class:!0});var I=v(r);i=h(I,"BUTTON",{class:!0,type:!0});var T=v(i);o=G(T,a),T.forEach(c),I.forEach(c),m.forEach(c),this.h()},h(){f(t,"class","space-y-3 overflow-y-scroll scrollbar-hidden h-full"),f(i,"class","px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full"),f(i,"type","submit"),f(r,"class","flex justify-end pt-3 text-sm font-medium"),f(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(p,m){U(p,e,m),n(e,t),g&&g.m(t,null),n(e,l),n(e,r),n(r,i),n(i,o),u=!0,d||(E=ue(e,"submit",Ml(s[20])),d=!0)},p(p,[m]){p[1]?g?(g.p(p,m),m&2&&Y(g,1)):(g=nn(p),g.c(),Y(g,1),g.m(t,null)):g&&(at(),W(g,1,1,()=>{g=null}),nt()),(!u||m&4)&&a!==(a=p[2].t("Save")+"")&&F(o,a)},i(p){u||(Y(g),u=!0)},o(p){W(g),u=!1},d(p){p&&c(e),g&&g.d(),d=!1,E()}}}function dd(s,e,t){let l;const r=bl("i18n");Vt(s,r,V=>t(2,l=V));let{saveHandler:i}=e,a=null,o=["pyodide","jupyter"];const u=async()=>{await Qn(localStorage.token,a)};Vl(async()=>{const V=await Xn(localStorage.token);V&&t(1,a=V)});function d(){a.CODE_EXECUTION_ENGINE=vl(this),t(1,a),t(4,o)}function E(){a.CODE_EXECUTION_JUPYTER_URL=this.value,t(1,a),t(4,o)}function g(){a.CODE_EXECUTION_JUPYTER_AUTH=vl(this),t(1,a),t(4,o)}function p(V){s.$$.not_equal(a.CODE_EXECUTION_JUPYTER_AUTH_PASSWORD,V)&&(a.CODE_EXECUTION_JUPYTER_AUTH_PASSWORD=V,t(1,a))}function m(V){s.$$.not_equal(a.CODE_EXECUTION_JUPYTER_AUTH_TOKEN,V)&&(a.CODE_EXECUTION_JUPYTER_AUTH_TOKEN=V,t(1,a))}function b(){a.CODE_EXECUTION_JUPYTER_TIMEOUT=$l(this.value),t(1,a),t(4,o)}function I(V){s.$$.not_equal(a.ENABLE_CODE_INTERPRETER,V)&&(a.ENABLE_CODE_INTERPRETER=V,t(1,a))}function T(){a.CODE_INTERPRETER_ENGINE=vl(this),t(1,a),t(4,o)}function w(){a.CODE_INTERPRETER_JUPYTER_URL=this.value,t(1,a),t(4,o)}function k(){a.CODE_INTERPRETER_JUPYTER_AUTH=vl(this),t(1,a),t(4,o)}function D(V){s.$$.not_equal(a.CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD,V)&&(a.CODE_INTERPRETER_JUPYTER_AUTH_PASSWORD=V,t(1,a))}function y(V){s.$$.not_equal(a.CODE_INTERPRETER_JUPYTER_AUTH_TOKEN,V)&&(a.CODE_INTERPRETER_JUPYTER_AUTH_TOKEN=V,t(1,a))}function O(){a.CODE_INTERPRETER_JUPYTER_TIMEOUT=$l(this.value),t(1,a),t(4,o)}function N(V){s.$$.not_equal(a.CODE_INTERPRETER_PROMPT_TEMPLATE,V)&&(a.CODE_INTERPRETER_PROMPT_TEMPLATE=V,t(1,a))}const S=async()=>{await u(),i()};return s.$$set=V=>{"saveHandler"in V&&t(0,i=V.saveHandler)},[i,a,l,r,o,u,d,E,g,p,m,b,I,T,w,k,D,y,O,N,S]}class _d extends _l{constructor(e){super(),hl(this,e,dd,cd,dl,{saveHandler:0})}}function hd(s){let e,t;return e=new yo({props:{saveHandler:s[16]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.saveHandler=l[16]),e.$set(i)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function pd(s){let e,t;return e=new zi({props:{saveHandler:s[15]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.saveHandler=l[15]),e.$set(i)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function vd(s){let e,t;return e=new su({}),e.$on("save",s[14]),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p:tt,i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function md(s){let e,t;return e=new jo({props:{saveHandler:s[13]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.saveHandler=l[13]),e.$set(i)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function gd(s){let e,t;return e=new pu({}),e.$on("save",s[12]),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p:tt,i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Ed(s){let e,t;return e=new _d({props:{saveHandler:s[11]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.saveHandler=l[11]),e.$set(i)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function bd(s){let e,t;return e=new Lc({props:{saveHandler:s[10]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.saveHandler=l[10]),e.$set(i)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Id(s){let e,t;return e=new pc({}),e.$on("save",s[9]),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p:tt,i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function wd(s){let e,t;return e=new sd({}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p:tt,i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function kd(s){let e,t;return e=new Af({}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p:tt,i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Td(s){let e,t;return e=new zf({}),e.$on("save",s[8]),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p:tt,i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function Dd(s){let e,t;return e=new xi({props:{saveHandler:s[7]}}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.saveHandler=l[7]),e.$set(i)},i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}function yd(s){let e,t,l,r,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',a,o,u=s[1].t("General")+"",d,E,g,p,m,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',I,T,w=s[1].t("Connections")+"",k,D,y,O,N,S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',V,M,R=s[1].t("Audio")+"",ee,Z,C,L,P,B='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>',q,z,x=s[1].t("Database")+"",re,te,Q,J,j,X,K,ie,fe;const ne=[Dd,Td,kd,wd,Id,bd,Ed,gd,md,vd,pd,hd],Ie=[];function ke(be,ce){return be[0]==="general"?0:be[0]==="connections"?1:be[0]==="models"?2:be[0]==="evaluations"?3:be[0]==="documents"?4:be[0]==="web"?5:be[0]==="code-execution"?6:be[0]==="interface"?7:be[0]==="audio"?8:be[0]==="images"?9:be[0]==="db"?10:be[0]==="pipelines"?11:-1}return~(j=ke(s))&&(X=Ie[j]=ne[j](s)),{c(){e=_("div"),t=_("div"),l=_("button"),r=_("div"),r.innerHTML=i,a=A(),o=_("div"),d=H(u),g=A(),p=_("button"),m=_("div"),m.innerHTML=b,I=A(),T=_("div"),k=H(w),y=A(),O=_("button"),N=_("div"),N.innerHTML=S,V=A(),M=_("div"),ee=H(R),C=A(),L=_("button"),P=_("div"),P.innerHTML=B,q=A(),z=_("div"),re=H(x),Q=A(),J=_("div"),X&&X.c(),this.h()},l(be){e=h(be,"DIV",{class:!0});var ce=v(e);t=h(ce,"DIV",{id:!0,class:!0});var ae=v(t);l=h(ae,"BUTTON",{class:!0});var ve=v(l);r=h(ve,"DIV",{class:!0,"data-svelte-h":!0}),Rt(r)!=="svelte-1e9u9pw"&&(r.innerHTML=i),a=$(ve),o=h(ve,"DIV",{class:!0});var Te=v(o);d=G(Te,u),Te.forEach(c),ve.forEach(c),g=$(ae),p=h(ae,"BUTTON",{class:!0});var ge=v(p);m=h(ge,"DIV",{class:!0,"data-svelte-h":!0}),Rt(m)!=="svelte-1xixjje"&&(m.innerHTML=b),I=$(ge),T=h(ge,"DIV",{class:!0});var $e=v(T);k=G($e,w),$e.forEach(c),ge.forEach(c),y=$(ae),O=h(ae,"BUTTON",{class:!0});var Ve=v(O);N=h(Ve,"DIV",{class:!0,"data-svelte-h":!0}),Rt(N)!=="svelte-sf0iba"&&(N.innerHTML=S),V=$(Ve),M=h(Ve,"DIV",{class:!0});var oe=v(M);ee=G(oe,R),oe.forEach(c),Ve.forEach(c),C=$(ae),L=h(ae,"BUTTON",{class:!0});var we=v(L);P=h(we,"DIV",{class:!0,"data-svelte-h":!0}),Rt(P)!=="svelte-35c53k"&&(P.innerHTML=B),q=$(we),z=h(we,"DIV",{class:!0});var De=v(z);re=G(De,x),De.forEach(c),we.forEach(c),ae.forEach(c),Q=$(ce),J=h(ce,"DIV",{class:!0});var Ne=v(J);X&&X.l(Ne),Ne.forEach(c),ce.forEach(c),this.h()},h(){f(r,"class","self-center mr-2"),f(o,"class","self-center"),f(l,"class",E="px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[0]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),f(m,"class","self-center mr-2"),f(T,"class","self-center"),f(p,"class",D="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="connections"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),f(N,"class","self-center mr-2"),f(M,"class","self-center"),f(O,"class",Z="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),f(P,"class","self-center mr-2"),f(z,"class","self-center"),f(L,"class",te="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[0]==="db"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),f(t,"id","admin-settings-tabs-container"),f(t,"class","tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),f(J,"class","flex-1 mt-3 lg:mt-0 overflow-y-scroll pr-1 scrollbar-hidden"),f(e,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4")},m(be,ce){U(be,e,ce),n(e,t),n(t,l),n(l,r),n(l,a),n(l,o),n(o,d),n(t,g),n(t,p),n(p,m),n(p,I),n(p,T),n(T,k),n(t,y),n(t,O),n(O,N),n(O,V),n(O,M),n(M,ee),n(t,C),n(t,L),n(L,P),n(L,q),n(L,z),n(z,re),n(e,Q),n(e,J),~j&&Ie[j].m(J,null),K=!0,ie||(fe=[ue(l,"click",s[3]),ue(p,"click",s[4]),ue(O,"click",s[5]),ue(L,"click",s[6])],ie=!0)},p(be,[ce]){(!K||ce&2)&&u!==(u=be[1].t("General")+"")&&F(d,u),(!K||ce&1&&E!==(E="px-0.5 py-1 min-w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(be[0]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&f(l,"class",E),(!K||ce&2)&&w!==(w=be[1].t("Connections")+"")&&F(k,w),(!K||ce&1&&D!==(D="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="connections"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&f(p,"class",D),(!K||ce&2)&&R!==(R=be[1].t("Audio")+"")&&F(ee,R),(!K||ce&1&&Z!==(Z="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="audio"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&f(O,"class",Z),(!K||ce&2)&&x!==(x=be[1].t("Database")+"")&&F(re,x),(!K||ce&1&&te!==(te="px-0.5 py-1 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(be[0]==="db"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&f(L,"class",te);let ae=j;j=ke(be),j===ae?~j&&Ie[j].p(be,ce):(X&&(at(),W(Ie[ae],1,1,()=>{Ie[ae]=null}),nt()),~j?(X=Ie[j],X?X.p(be,ce):(X=Ie[j]=ne[j](be),X.c()),Y(X,1),X.m(J,null)):X=null)},i(be){K||(Y(X),K=!0)},o(be){W(X),K=!1},d(be){be&&c(e),~j&&Ie[j].d(),ie=!1,zt(fe)}}}function Ad(s,e,t){let l;const r=bl("i18n");Vt(s,r,y=>t(1,l=y));let i="general";return Vl(()=>{const y=document.getElementById("admin-settings-tabs-container");y&&y.addEventListener("wheel",function(O){O.deltaY!==0&&(y.scrollLeft+=O.deltaY)})}),[i,l,r,()=>{t(0,i="general")},()=>{t(0,i="connections")},()=>{t(0,i="audio")},()=>{t(0,i="db")},async()=>{Ge.success(l.t("Settings saved successfully!")),await ws(),await Pl.set(await gs())},()=>{Ge.success(l.t("Settings saved successfully!"))},async()=>{Ge.success(l.t("Settings saved successfully!")),await ws(),await Pl.set(await gs())},async()=>{Ge.success(l.t("Settings saved successfully!")),await ws(),await Pl.set(await gs())},async()=>{Ge.success(l.t("Settings saved successfully!")),await ws(),await Pl.set(await gs())},()=>{Ge.success(l.t("Settings saved successfully!"))},()=>{Ge.success(l.t("Settings saved successfully!"))},()=>{Ge.success(l.t("Settings saved successfully!"))},()=>{Ge.success(l.t("Settings saved successfully!"))},()=>{Ge.success(l.t("Settings saved successfully!"))}]}class $d extends _l{constructor(e){super(),hl(this,e,Ad,yd,dl,{})}}function Vd(s){let e,t;return e=new $d({}),{c(){de(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,r){he(e,l,r),t=!0},p:tt,i(l){t||(Y(e.$$.fragment,l),t=!0)},o(l){W(e.$$.fragment,l),t=!1},d(l){pe(e,l)}}}class p_ extends _l{constructor(e){super(),hl(this,e,null,Vd,dl,{})}}export{p_ as component};
//# sourceMappingURL=13.BGana8sT.js.map
