import{s as Q,y as X,e as $,k as U,c as b,a as w,o as q,d as h,f as p,i as C,g as v,B as K,u as Y,A as Z,p as le,j as oe,n as ee}from"../chunks/Dc4_ziGv.js";import{S as te,i as ne,f as re,b as T,d as N,m as j,g as ie,a as V,c as ae,t as E,e as R}from"../chunks/CAZSMy3J.js";import{R as ce,V as ue}from"../chunks/BHyjy2lL.js";import{M as fe}from"../chunks/B59JPjC8.js";import{T as de}from"../chunks/Cj5D4_dy.js";import{t as L}from"../chunks/gLvYLTeg.js";function pe(o){let e,n;return e=new de({props:{content:o[3].t("Voice Input"),$$slots:{default:[he]},$$scope:{ctx:o}}}),{c(){T(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,l){j(e,t,l),n=!0},p(t,l){const a={};l&8&&(a.content=t[3].t("Voice Input")),l&2060&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function me(o){let e,n,t,l;function a(s){o[7](s)}let r={className:"p-1 w-full max-w-full"};return o[2]!==void 0&&(r.recording=o[2]),n=new ue({props:r}),X.push(()=>re(n,"recording",a)),n.$on("cancel",o[8]),n.$on("confirm",o[9]),{c(){e=$("div"),T(n.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var m=w(e);N(n.$$.fragment,m),m.forEach(h),this.h()},h(){p(e,"class","flex-1 w-full")},m(s,m){C(s,e,m),j(n,e,null),l=!0},p(s,m){const _={};!t&&m&4&&(t=!0,_.recording=s[2],Z(()=>t=!1)),n.$set(_)},i(s){l||(E(n.$$.fragment,s),l=!0)},o(s){V(n.$$.fragment,s),l=!1},d(s){s&&h(e),R(n)}}}function he(o){let e,n,t,l,a;return n=new fe({props:{className:"size-4"}}),{c(){e=$("button"),T(n.$$.fragment),this.h()},l(r){e=b(r,"BUTTON",{class:!0,type:!0});var s=w(e);N(n.$$.fragment,s),s.forEach(h),this.h()},h(){p(e,"class","cursor-pointer p-2.5 flex rounded-full hover:bg-gray-100 dark:hover:bg-gray-850 transition shadow-xl"),p(e,"type","button")},m(r,s){C(r,e,s),j(n,e,null),t=!0,l||(a=Y(e,"click",o[10]),l=!0)},p:ee,i(r){t||(E(n.$$.fragment,r),t=!0)},o(r){V(n.$$.fragment,r),t=!1},d(r){r&&h(e),R(n),l=!1,a()}}}function _e(o){let e,n,t,l,a,r,s,m,_,g,P,B,x,c,u,f,k,M,S,W=ge;function se(i){o[6](i)}let z={className:"input-prose-sm",placeholder:o[3].t("Write something..."),preserveBreaks:!0};o[1]!==void 0&&(z.value=o[1]),g=new ce({props:z}),X.push(()=>re(g,"value",se));const A=[me,pe],I=[];function O(i,d){return i[2]?0:1}return u=O(o),f=I[u]=A[u](o),{c(){e=$("div"),n=U(),t=$("div"),l=$("div"),a=$("div"),r=$("input"),m=U(),_=$("div"),T(g.$$.fragment),B=U(),x=$("div"),c=$("div"),f.c(),this.h()},l(i){e=b(i,"DIV",{class:!0});var d=w(e);n=q(d),t=b(d,"DIV",{class:!0});var y=w(t);l=b(y,"DIV",{class:!0});var D=w(l);a=b(D,"DIV",{class:!0});var F=w(a);r=b(F,"INPUT",{class:!0,type:!0,placeholder:!0}),F.forEach(h),D.forEach(h),m=q(y),_=b(y,"DIV",{class:!0});var G=w(_);N(g.$$.fragment,G),G.forEach(h),y.forEach(h),B=q(d),x=b(d,"DIV",{class:!0});var H=w(x);c=b(H,"DIV",{class:!0});var J=w(c);f.l(J),J.forEach(h),H.forEach(h),d.forEach(h),this.h()},h(){p(r,"class","w-full text-2xl font-medium bg-transparent outline-hidden"),p(r,"type","text"),p(r,"placeholder",s=o[3].t("Title")),r.required=!0,p(a,"class","w-full"),p(l,"class","shrink-0 w-full flex justify-between items-center"),p(_,"class","flex-1 w-full h-full"),p(t,"class","w-full flex flex-col gap-2 "),p(c,"class","flex gap-0.5 justify-end w-full"),p(x,"class","absolute bottom-0 left-0 right-0 p-5 max-w-full flex justify-end"),p(e,"class","relative flex-1 w-full h-full flex justify-center overflow-auto px-5")},m(i,d){C(i,e,d),v(e,n),v(e,t),v(t,l),v(l,a),v(a,r),K(r,o[0]),v(t,m),v(t,_),j(g,_,null),v(e,B),v(e,x),v(x,c),I[u].m(c,null),k=!0,M||(S=Y(r,"input",o[5]),M=!0)},p(i,[d]){(!k||d&8&&s!==(s=i[3].t("Title")))&&p(r,"placeholder",s),d&1&&r.value!==i[0]&&K(r,i[0]);const y={};d&8&&(y.placeholder=i[3].t("Write something...")),!P&&d&2&&(P=!0,y.value=i[1],Z(()=>P=!1)),g.$set(y);let D=u;u=O(i),u===D?I[u].p(i,d):(ie(),V(I[D],1,1,()=>{I[D]=null}),ae(),f=I[u],f?f.p(i,d):(f=I[u]=A[u](i),f.c()),E(f,1),f.m(c,null))},i(i){k||(E(W),E(g.$$.fragment,i),E(f),k=!0)},o(i){V(W),V(g.$$.fragment,i),V(f),k=!1},d(i){i&&h(e),R(g),I[u].d(),M=!1,S()}}}let ge=!1;function ve(o,e,n){let t;const l=le("i18n");oe(o,l,c=>n(3,t=c));let a="",r="",s=!1;function m(){a=this.value,n(0,a)}function _(c){r=c,n(1,r)}function g(c){s=c,n(2,s)}return[a,r,s,t,l,m,_,g,()=>{n(2,s=!1)},c=>{const{text:u,filename:f}=c.detail,k=`${window.location.origin}/cache/audio/transcription/${f}`;r.trim()!==""?n(1,r=`${r}

${u}

Recording: ${k}

`):n(1,r=`${r}${u}

Recording: ${k}

`),n(2,s=!1)},async()=>{try{let c=await navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(u){return L.error(t.t("Permission denied when accessing microphone: {{error}}",{error:u})),null});c&&(n(2,s=!0),c.getTracks().forEach(f=>f.stop())),c=null}catch{L.error(t.t("Permission denied when accessing microphone"))}}]}class $e extends te{constructor(e){super(),ne(this,e,ve,_e,Q,{})}}function be(o){let e,n;return e=new $e({}),{c(){T(e.$$.fragment)},l(t){N(e.$$.fragment,t)},m(t,l){j(e,t,l),n=!0},p:ee,i(t){n||(E(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}class xe extends te{constructor(e){super(),ne(this,e,null,be,Q,{})}}export{xe as component};
//# sourceMappingURL=23.jDQiRhqs.js.map
