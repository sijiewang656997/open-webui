import{s as y,d as f,i as v,m as d,j as g,p as N,q as O,n as q,b as T,c as h,e as b,f as k,h as E}from"../chunks/CgRTDwF2.js";import{S as U,i as B,t as p,a as _,c as W,d as I,m as S,b as w,e as R,g as C}from"../chunks/Bnxgdxyh.js";import{g as D}from"../chunks/C_2ZPrHa.js";import{p as P}from"../chunks/Bx1oYFf3.js";import{a as j,u as Q,g as F}from"../chunks/Due45wRy.js";import{S as H}from"../chunks/CnJpwmt-.js";import{T as M}from"../chunks/C8qcEoZc.js";import{W as $}from"../chunks/CisIfe-u.js";import{t as z}from"../chunks/D-bUEbUi.js";import{e as A,c as G}from"../chunks/B9ns8vb-.js";import{t as u}from"../chunks/Fny8-CkQ.js";function J(i){let o,t,e,s;return e=new H({}),{c(){o=E("div"),t=E("div"),R(e.$$.fragment),this.h()},l(r){o=b(r,"DIV",{class:!0});var a=k(o);t=b(a,"DIV",{class:!0});var m=k(t);w(e.$$.fragment,m),m.forEach(f),a.forEach(f),this.h()},h(){h(t,"class","pb-16"),h(o,"class","flex items-center justify-center h-full")},m(r,a){v(r,o,a),T(o,t),S(e,t,null),s=!0},p:q,i(r){s||(_(e.$$.fragment,r),s=!0)},o(r){p(e.$$.fragment,r),s=!1},d(r){r&&f(o),I(e)}}}function K(i){let o,t;return o=new M({props:{edit:!0,id:i[0].id,name:i[0].name,meta:i[0].meta,content:i[0].content,accessControl:i[0].access_control,onSave:i[3]}}),{c(){R(o.$$.fragment)},l(e){w(o.$$.fragment,e)},m(e,s){S(o,e,s),t=!0},p(e,s){const r={};s&1&&(r.id=e[0].id),s&1&&(r.name=e[0].name),s&1&&(r.meta=e[0].meta),s&1&&(r.content=e[0].content),s&1&&(r.accessControl=e[0].access_control),o.$set(r)},i(e){t||(_(o.$$.fragment,e),t=!0)},o(e){p(o.$$.fragment,e),t=!1},d(e){I(o,e)}}}function L(i){let o,t,e,s;const r=[K,J],a=[];function m(c,n){return c[0]?0:1}return o=m(i),t=a[o]=r[o](i),{c(){t.c(),e=d()},l(c){t.l(c),e=d()},m(c,n){a[o].m(c,n),v(c,e,n),s=!0},p(c,[n]){let l=o;o=m(c),o===l?a[o].p(c,n):(C(),p(a[l],1,1,()=>{a[l]=null}),W(),t=a[o],t?t.p(c,n):(t=a[o]=r[o](c),t.c()),_(t,1),t.m(e.parentNode,e))},i(c){s||(_(t),s=!0)},o(c){p(t),s=!1},d(c){c&&f(e),a[o].d(c)}}}function X(i,o,t){let e,s;g(i,P,n=>t(4,e=n));const r=N("i18n");g(i,r,n=>t(5,s=n));let a=null;const m=async n=>{console.log(n);const l=A(n.content);if(G((l==null?void 0:l.required_open_webui_version)??"0.0.0",$)){console.log("Version is lower than required"),u.error(s.t("Open WebUI version (v{{OPEN_WEBUI_VERSION}}) is lower than required version (v{{REQUIRED_VERSION}})",{OPEN_WEBUI_VERSION:$,REQUIRED_VERSION:(l==null?void 0:l.required_open_webui_version)??"0.0.0"}));return}await Q(localStorage.token,a.id,{id:n.id,name:n.name,meta:n.meta,content:n.content,access_control:n.access_control}).catch(V=>(u.error(`${V}`),null))&&(u.success(s.t("Tool updated successfully")),z.set(await F(localStorage.token)))};return O(async()=>{console.log("mounted");const n=e.url.searchParams.get("id");n&&(t(0,a=await j(localStorage.token,n).catch(l=>(u.error(`${l}`),D("/workspace/tools"),null))),console.log(a))}),[a,r,m,n=>{m(n)}]}class le extends U{constructor(o){super(),B(this,o,X,L,y,{})}}export{le as component};
//# sourceMappingURL=37.Dj-SHNRJ.js.map
