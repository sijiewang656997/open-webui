{"version":3,"file":"Collapsible.js","sources":["../../../../src/lib/components/common/Collapsible.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { getContext, createEventDispatcher } from 'svelte';\n\tconst i18n = getContext('i18n');\n\n\timport dayjs from '$lib/dayjs';\n\timport duration from 'dayjs/plugin/duration';\n\timport relativeTime from 'dayjs/plugin/relativeTime';\n\n\tdayjs.extend(duration);\n\tdayjs.extend(relativeTime);\n\n\tasync function loadLocale(locales) {\n\t\tfor (const locale of locales) {\n\t\t\ttry {\n\t\t\t\tdayjs.locale(locale);\n\t\t\t\tbreak; // Stop after successfully loading the first available locale\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(`Could not load locale '${locale}':`, error);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Assuming $i18n.languages is an array of language codes\n\t$: loadLocale($i18n.languages);\n\n\tconst dispatch = createEventDispatcher();\n\t$: dispatch('change', open);\n\n\timport { slide } from 'svelte/transition';\n\timport { quintOut } from 'svelte/easing';\n\n\timport ChevronUp from '../icons/ChevronUp.svelte';\n\timport ChevronDown from '../icons/ChevronDown.svelte';\n\timport Spinner from './Spinner.svelte';\n\n\texport let open = false;\n\texport let id = '';\n\texport let className = '';\n\texport let buttonClassName =\n\t\t'w-fit text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition';\n\texport let title = null;\n\texport let attributes = null;\n\n\texport let grow = false;\n\n\texport let disabled = false;\n\texport let hide = false;\n</script>\n\n<div {id} class={className}>\n\t{#if title !== null}\n\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t\t<!-- svelte-ignore a11y-click-events-have-key-events -->\n\t\t<div\n\t\t\tclass=\"{buttonClassName} cursor-pointer\"\n\t\t\ton:pointerup={() => {\n\t\t\t\tif (!disabled) {\n\t\t\t\t\topen = !open;\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tclass=\" w-full font-medium flex items-center justify-between gap-2 {attributes?.done &&\n\t\t\t\tattributes?.done !== 'true'\n\t\t\t\t\t? 'shimmer'\n\t\t\t\t\t: ''}\n\t\t\t\"\n\t\t\t>\n\t\t\t\t{#if attributes?.done && attributes?.done !== 'true'}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Spinner className=\"size-4\" />\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\n\t\t\t\t<div class=\"\">\n\t\t\t\t\t{#if attributes?.type === 'reasoning'}\n\t\t\t\t\t\t{#if attributes?.done === 'true' && attributes?.duration}\n\t\t\t\t\t\t\t{#if attributes.duration < 60}\n\t\t\t\t\t\t\t\t{$i18n.t('Thought for {{DURATION}} seconds', {\n\t\t\t\t\t\t\t\t\tDURATION: attributes.duration\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t{$i18n.t('Thought for {{DURATION}}', {\n\t\t\t\t\t\t\t\t\tDURATION: dayjs.duration(attributes.duration, 'seconds').humanize()\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t{$i18n.t('Thinking...')}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t{:else if attributes?.type === 'code_interpreter'}\n\t\t\t\t\t\t{#if attributes?.done === 'true'}\n\t\t\t\t\t\t\t{$i18n.t('Analyzed')}\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t{$i18n.t('Analyzing...')}\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{title}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"flex self-center translate-y-[1px]\">\n\t\t\t\t\t{#if open}\n\t\t\t\t\t\t<ChevronUp strokeWidth=\"3.5\" className=\"size-3.5\" />\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<ChevronDown strokeWidth=\"3.5\" className=\"size-3.5\" />\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t{:else}\n\t\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t\t<!-- svelte-ignore a11y-click-events-have-key-events -->\n\t\t<div\n\t\t\tclass=\"{buttonClassName} cursor-pointer\"\n\t\t\ton:pointerup={() => {\n\t\t\t\tif (!disabled) {\n\t\t\t\t\topen = !open;\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<div>\n\t\t\t\t<slot />\n\n\t\t\t\t{#if grow}\n\t\t\t\t\t{#if open && !hide}\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\ttransition:slide={{ duration: 300, easing: quintOut, axis: 'y' }}\n\t\t\t\t\t\t\ton:pointerup={(e) => {\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<slot name=\"content\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n\n\t{#if !grow}\n\t\t{#if open && !hide}\n\t\t\t<div transition:slide={{ duration: 300, easing: quintOut, axis: 'y' }}>\n\t\t\t\t<slot name=\"content\" />\n\t\t\t</div>\n\t\t{/if}\n\t{/if}\n</div>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,QAAA,OAAO,WAAW,MAAM;;AAM9B,QAAM,OAAO,QAAQ;AACrB,QAAM,OAAO,YAAY;iBAEV,WAAW,SAAA;eACd,UAAU,SAAA;;AAEnB,cAAM,OAAO,MAAM;;MAEX,SAAA,OAAA;AACR,gBAAQ,MAAA,0BAAgC,MAAM,MAAM,KAAK;AAAA;;;QAQtD,WAAW,sBAAA;QAUN,OAAO,MAAA,IAAA;QACP,KAAK,GAAA,IAAA;QACL,YAAY,GAAA,IAAA;QACZ,kBACV,8EAAA,IAAA;QACU,QAAQ,KAAA,IAAA;QACR,aAAa,KAAA,IAAA;QAEb,OAAO,MAAA,IAAA;QAEP,WAAW,MAAA,IAAA;QACX,OAAO,MAAA,IAAA;;;;;;;;;;;AAvBf,eAAW,MAAM,SAAS;AAAA;;AAG1B,aAAS,UAAU,IAAI;AAAA;;oEAuBV,WAAS,CAAA,CAAA,IACpB,UAAU,+BAIL,iBAAe,IAAA,IAAA,iBAAA,iBAAA,gEAAA;AAAA,IAQ8C,YAAY,QAChF,YAAY,SAAS,SAClB,YACA;AAAA;EAGE,CAAA,KAAA,YAAY,QAAQ,YAAY,SAAS,0IAOxC,YAAY,SAAS,cACpB,GAAA,YAAY,SAAS,UAAU,YAAY,cAC1C,WAAW,WAAW,eACzB,MAAM,EAAE,sCACR,UAAU,WAAW,SAAA,CAAA,CAAA,CAAA,eAGrB,MAAM,EAAE,4BAA0B;AAAA,IAClC,UAAU,MAAM,SAAS,WAAW,UAAU,SAAS,EAAE,SAAQ;AAAA,sBAIlE,MAAM,EAAE,aAAa,CAAA,CAAA,EAAA,QAEd,YAAY,SAAS,wBACzB,YAAY,SAAS,mBACxB,MAAM,EAAE,UAAU,CAAA,CAAA,eAElB,MAAM,EAAE,cAAc,CAAA,CAAA,EAAA,KAGvB,GAAA,OAAA,KAAK,+DAKF;;;;;;;;;;;;;;;;4BAYC,iBAAA,OAAA,8FAUF,OACC,GAAA,SAAS,4FAeZ,OACA,GAAA,SAAS;;"}