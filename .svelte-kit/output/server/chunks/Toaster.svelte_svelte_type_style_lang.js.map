{"version":3,"file":"Toaster.svelte_svelte_type_style_lang.js","sources":["../../../../node_modules/svelte-sonner/dist/internal/helpers.js","../../../../node_modules/svelte-sonner/dist/state.js"],"sourcesContent":["import { writable } from 'svelte/store';\nexport function cn(...classes) {\n    return classes.filter(Boolean).join(' ');\n}\nexport const isBrowser = typeof document !== 'undefined';\n/**\n * A custom store that only allows setting/updating the value from the\n * browser to avoid SSR data leaks. By defining this helper, we don't\n * have to worry about checking for `isBrowser` in every place we\n * mutate the various stores.\n *\n * This should only ever be initialized with an empty array or object,\n * as otherwise the initial value will persist across requests.\n */\nexport function clientWritable(initialValue) {\n    const store = writable(initialValue);\n    function set(value) {\n        if (isBrowser) {\n            store.set(value);\n        }\n    }\n    function update(updater) {\n        if (isBrowser) {\n            store.update(updater);\n        }\n    }\n    return {\n        subscribe: store.subscribe,\n        set,\n        update\n    };\n}\n","import { get } from 'svelte/store';\nimport { clientWritable } from './internal/helpers.js';\nlet toastsCounter = 0;\nfunction createToastState() {\n    const toasts = clientWritable([]);\n    const heights = clientWritable([]);\n    function addToast(data) {\n        toasts.update((prev) => [data, ...prev]);\n    }\n    function create(data) {\n        const { message, ...rest } = data;\n        const id = typeof data?.id === 'number' || (data.id && data.id?.length > 0)\n            ? data.id\n            : toastsCounter++;\n        const dismissable = data.dismissable === undefined ? true : data.dismissable;\n        const type = data.type === undefined ? 'default' : data.type;\n        const $toasts = get(toasts);\n        const alreadyExists = $toasts.find((toast) => {\n            return toast.id === id;\n        });\n        if (alreadyExists) {\n            toasts.update((prev) => prev.map((toast) => {\n                if (toast.id === id) {\n                    return {\n                        ...toast,\n                        ...data,\n                        id,\n                        title: message,\n                        dismissable,\n                        type,\n                        updated: true\n                    };\n                }\n                return {\n                    ...toast,\n                    updated: false\n                };\n            }));\n        }\n        else {\n            addToast({ ...rest, id, title: message, dismissable, type });\n        }\n        return id;\n    }\n    function dismiss(id) {\n        if (id === undefined) {\n            toasts.update((prev) => prev.map((toast) => ({ ...toast, dismiss: true })));\n            return;\n        }\n        toasts.update((prev) => prev.map((toast) => (toast.id === id ? { ...toast, dismiss: true } : toast)));\n        return id;\n    }\n    function remove(id) {\n        if (id === undefined) {\n            toasts.set([]);\n            return;\n        }\n        toasts.update((prev) => prev.filter((toast) => toast.id !== id));\n        return id;\n    }\n    function message(message, data) {\n        return create({ ...data, type: 'default', message });\n    }\n    function error(message, data) {\n        return create({ ...data, type: 'error', message });\n    }\n    function success(message, data) {\n        return create({ ...data, type: 'success', message });\n    }\n    function info(message, data) {\n        return create({ ...data, type: 'info', message });\n    }\n    function warning(message, data) {\n        return create({ ...data, type: 'warning', message });\n    }\n    function loading(message, data) {\n        return create({ ...data, type: 'loading', message });\n    }\n    function promise(promise, data) {\n        if (!data) {\n            // Nothing to show\n            return;\n        }\n        let id = undefined;\n        if (data.loading !== undefined) {\n            id = create({\n                ...data,\n                promise,\n                type: 'loading',\n                message: data.loading\n            });\n        }\n        const p = promise instanceof Promise ? promise : promise();\n        let shouldDismiss = id !== undefined;\n        p.then((response) => {\n            // TODO: Clean up TS here, response has incorrect type\n            // @ts-expect-error: Incorrect response type\n            if (response && typeof response.ok === 'boolean' && !response.ok) {\n                shouldDismiss = false;\n                const message = typeof data.error === 'function'\n                    ? // @ts-expect-error: Incorrect response type\n                        data.error(`HTTP error! status: ${response.status}`)\n                    : data.error;\n                create({ id, type: 'error', message });\n            }\n            else if (data.success !== undefined) {\n                shouldDismiss = false;\n                const message = \n                // @ts-expect-error: TODO: Better function checking\n                typeof data.success === 'function' ? data.success(response) : data.success;\n                create({ id, type: 'success', message });\n            }\n        })\n            .catch((error) => {\n            if (data.error !== undefined) {\n                shouldDismiss = false;\n                const message = \n                // @ts-expect-error: TODO: Better function checking\n                typeof data.error === 'function' ? data.error(error) : data.error;\n                create({ id, type: 'error', message });\n            }\n        })\n            .finally(() => {\n            if (shouldDismiss) {\n                // Toast is still in load state (and will be indefinitely â€” dismiss it)\n                dismiss(id);\n                id = undefined;\n            }\n            data.finally?.();\n        });\n        return id;\n    }\n    function custom(component, data) {\n        const id = data?.id || toastsCounter++;\n        create({ component, id, ...data });\n        return id;\n    }\n    function removeHeight(id) {\n        heights.update((prev) => prev.filter((height) => height.toastId !== id));\n    }\n    function setHeight(data) {\n        const exists = get(heights).find((el) => el.toastId === data.toastId);\n        if (exists === undefined) {\n            heights.update((prev) => [data, ...prev]);\n            return;\n        }\n        heights.update((prev) => prev.map((el) => {\n            if (el.toastId === data.toastId) {\n                return data;\n            }\n            else {\n                return el;\n            }\n        }));\n    }\n    function reset() {\n        toasts.set([]);\n        heights.set([]);\n    }\n    return {\n        // methods\n        create,\n        addToast,\n        dismiss,\n        remove,\n        message,\n        error,\n        success,\n        info,\n        warning,\n        loading,\n        promise,\n        custom,\n        removeHeight,\n        setHeight,\n        reset,\n        // stores\n        toasts,\n        heights\n    };\n}\nexport const toastState = createToastState();\n// bind this to the toast function\nfunction toastFunction(message, data) {\n    return toastState.create({\n        message,\n        ...data\n    });\n}\nconst basicToast = toastFunction;\n// We use `Object.assign` to maintain the correct types as we would lose them otherwise\nexport const toast = Object.assign(basicToast, {\n    success: toastState.success,\n    info: toastState.info,\n    warning: toastState.warning,\n    error: toastState.error,\n    custom: toastState.custom,\n    message: toastState.message,\n    promise: toastState.promise,\n    dismiss: toastState.dismiss,\n    loading: toastState.loading\n});\nexport const useEffect = (subscribe) => ({ subscribe });\n"],"names":["message","get","toast","promise","error"],"mappings":"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","x_google_ignoreList":[0,1]}