{"version":3,"file":"menu-trigger.js","sources":["../../../../node_modules/svelte/src/runtime/easing/index.js","../../../../src/lib/utils/transitions/index.ts","../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/array.js","../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/highlight.js","../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/sleep.js","../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/id.js","../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/debounce.js","../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/platform.js","../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/scroll.js","../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/store/derivedVisible.js","../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/rovingFocus.js","../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/typeahead.js","../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/elements.js","../../../../node_modules/@melt-ui/svelte/dist/internal/helpers/focus.js","../../../../node_modules/@melt-ui/svelte/dist/internal/actions/floating/action.js","../../../../node_modules/@melt-ui/svelte/dist/internal/actions/focus-trap/action.js","../../../../node_modules/@melt-ui/svelte/dist/internal/actions/modal/action.js","../../../../node_modules/@melt-ui/svelte/dist/internal/actions/popper/action.js","../../../../node_modules/@melt-ui/svelte/dist/internal/actions/portal.js","../../../../node_modules/@melt-ui/svelte/dist/internal/actions/interact-outside/action.js","../../../../node_modules/@melt-ui/svelte/dist/builders/menu/create.js","../../../../node_modules/@melt-ui/svelte/dist/builders/dropdown-menu/create.js","../../../../node_modules/@melt-ui/svelte/dist/builders/separator/create.js","../../../../node_modules/bits-ui/dist/bits/floating/helpers.js","../../../../node_modules/bits-ui/dist/bits/menu/ctx.js","../../../../node_modules/bits-ui/dist/bits/menu/components/menu.svelte","../../../../node_modules/bits-ui/dist/bits/menu/components/menu-content.svelte","../../../../node_modules/bits-ui/dist/bits/menu/components/menu-trigger.svelte"],"sourcesContent":["/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nexport { identity as linear } from '../internal/index.js';\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backInOut(t) {\n\tconst s = 1.70158 * 1.525;\n\tif ((t *= 2) < 1) return 0.5 * (t * t * ((s + 1) * t - s));\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backIn(t) {\n\tconst s = 1.70158;\n\treturn t * t * ((s + 1) * t - s);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function backOut(t) {\n\tconst s = 1.70158;\n\treturn --t * t * ((s + 1) * t + s) + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceOut(t) {\n\tconst a = 4.0 / 11.0;\n\tconst b = 8.0 / 11.0;\n\tconst c = 9.0 / 10.0;\n\tconst ca = 4356.0 / 361.0;\n\tconst cb = 35442.0 / 1805.0;\n\tconst cc = 16061.0 / 1805.0;\n\tconst t2 = t * t;\n\treturn t < a\n\t\t? 7.5625 * t2\n\t\t: t < b\n\t\t? 9.075 * t2 - 9.9 * t + 3.4\n\t\t: t < c\n\t\t? ca * t2 - cb * t + cc\n\t\t: 10.8 * t * t - 20.52 * t + 10.72;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceInOut(t) {\n\treturn t < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0)) : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function bounceIn(t) {\n\treturn 1.0 - bounceOut(1.0 - t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circInOut(t) {\n\tif ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circIn(t) {\n\treturn 1.0 - Math.sqrt(1.0 - t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function circOut(t) {\n\treturn Math.sqrt(1 - --t * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicInOut(t) {\n\treturn t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicIn(t) {\n\treturn t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function cubicOut(t) {\n\tconst f = t - 1.0;\n\treturn f * f * f + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticInOut(t) {\n\treturn t < 0.5\n\t\t? 0.5 * Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n\t\t: 0.5 *\n\t\t\t\tMath.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n\t\t\t\tMath.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n\t\t\t\t1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticIn(t) {\n\treturn Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function elasticOut(t) {\n\treturn Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoInOut(t) {\n\treturn t === 0.0 || t === 1.0\n\t\t? t\n\t\t: t < 0.5\n\t\t? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n\t\t: -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoIn(t) {\n\treturn t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function expoOut(t) {\n\treturn t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadInOut(t) {\n\tt /= 0.5;\n\tif (t < 1) return 0.5 * t * t;\n\tt--;\n\treturn -0.5 * (t * (t - 2) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadIn(t) {\n\treturn t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quadOut(t) {\n\treturn -t * (t - 2.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartInOut(t) {\n\treturn t < 0.5 ? +8.0 * Math.pow(t, 4.0) : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartIn(t) {\n\treturn Math.pow(t, 4.0);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quartOut(t) {\n\treturn Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintInOut(t) {\n\tif ((t *= 2) < 1) return 0.5 * t * t * t * t * t;\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintIn(t) {\n\treturn t * t * t * t * t;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function quintOut(t) {\n\treturn --t * t * t * t * t + 1;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineInOut(t) {\n\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineIn(t) {\n\tconst v = Math.cos(t * Math.PI * 0.5);\n\tif (Math.abs(v) < 1e-14) return 1;\n\telse return 1 - v;\n}\n\n/**\n * https://svelte.dev/docs/svelte-easing\n * @param {number} t\n * @returns {number}\n */\nexport function sineOut(t) {\n\treturn Math.sin((t * Math.PI) / 2);\n}\n","import { cubicOut } from 'svelte/easing';\nimport type { TransitionConfig } from 'svelte/transition';\n\ntype FlyAndScaleParams = {\n\ty?: number;\n\tstart?: number;\n\tduration?: number;\n};\n\nconst defaultFlyAndScaleParams = { y: -8, start: 0.95, duration: 200 };\n\nexport const flyAndScale = (node: Element, params?: FlyAndScaleParams): TransitionConfig => {\n\tconst style = getComputedStyle(node);\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst withDefaults = { ...defaultFlyAndScaleParams, ...params };\n\n\tconst scaleConversion = (valueA: number, scaleA: [number, number], scaleB: [number, number]) => {\n\t\tconst [minA, maxA] = scaleA;\n\t\tconst [minB, maxB] = scaleB;\n\n\t\tconst percentage = (valueA - minA) / (maxA - minA);\n\t\tconst valueB = percentage * (maxB - minB) + minB;\n\n\t\treturn valueB;\n\t};\n\n\tconst styleToString = (style: Record<string, number | string | undefined>): string => {\n\t\treturn Object.keys(style).reduce((str, key) => {\n\t\t\tif (style[key] === undefined) return str;\n\t\t\treturn str + `${key}:${style[key]};`;\n\t\t}, '');\n\t};\n\n\treturn {\n\t\tduration: withDefaults.duration ?? 200,\n\t\tdelay: 0,\n\t\tcss: (t) => {\n\t\t\tconst y = scaleConversion(t, [0, 1], [withDefaults.y, 0]);\n\t\t\tconst scale = scaleConversion(t, [0, 1], [withDefaults.start, 1]);\n\n\t\t\treturn styleToString({\n\t\t\t\ttransform: `${transform} translate3d(0, ${y}px, 0) scale(${scale})`,\n\t\t\t\topacity: t\n\t\t\t});\n\t\t},\n\t\teasing: cubicOut\n\t};\n};\n","import { dequal as deepEqual } from 'dequal';\n/**\n * Returns the element some number before the given index. If the target index is out of bounds:\n *   - If looping is disabled, the first element will be returned.\n *   - If looping is enabled, the last element will be returned.\n * @param array the array.\n * @param currentIndex the index of the current element.\n * @param increment the number of elements to move forward.\n * @param loop loop to the beginning of the array if the target index is out of bounds?\n */\nexport function back(array, index, increment, loop = true) {\n    const previousIndex = index - increment;\n    if (previousIndex <= 0) {\n        return loop ? array[array.length - 1] : array[0];\n    }\n    return array[previousIndex];\n}\n/**\n * Returns the element some number after the given index. If the target index is out of bounds:\n *   - If looping is disabled, the last element will be returned.\n *   - If looping is enabled, the first element will be returned.\n * @param array the array.\n * @param currentIndex the index of the current element.\n * @param increment the number of elements to move forward.\n * @param loop loop to the beginning of the array if the target index is out of bounds?\n */\nexport function forward(array, index, increment, loop = true) {\n    const nextIndex = index + increment;\n    if (nextIndex > array.length - 1) {\n        return loop ? array[0] : array[array.length - 1];\n    }\n    return array[nextIndex];\n}\n/**\n * Returns the array element after to the given index.\n * @param array the array.\n * @param currentIndex the index of the current element.\n * @param loop loop to the beginning of the array if the next index is out of bounds?\n */\nexport function next(array, index, loop = true) {\n    if (index === array.length - 1) {\n        return loop ? array[0] : array[index];\n    }\n    return array[index + 1];\n}\n/**\n * Returns the array element prior to the given index.\n * @param array the array.\n * @param currentIndex the index of the current element.\n * @param loop loop to the end of the array if the previous index is out of bounds?\n */\nexport function prev(array, currentIndex, loop = true) {\n    if (currentIndex <= 0) {\n        return loop ? array[array.length - 1] : array[0];\n    }\n    return array[currentIndex - 1];\n}\n/**\n * Returns the last element in an array.\n * @param array the array.\n */\nexport function last(array) {\n    return array[array.length - 1];\n}\n/**\n * Wraps an array around itself at a given starting index.\n * @example ```ts\n * wrapArray(['a', 'b', 'c', 'd'], 2);\n * // ['c', 'd', 'a', 'b']\n * ```\n * @see https://github.com/radix-ui/primitives\n */\nexport function wrapArray(array, startIndex) {\n    return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n/**\n * Toggles an item in an array. If the item is already in the array,\n * it is removed. Otherwise, it is added.\n * @param item The item to toggle.\n * @param array The array to toggle the item in.\n * @returns The updated array with the item toggled.\n * @template T The type of the items in the array.\n * @example ```typescript\n * const arr = [1, 2, 3];\n * const newArr = toggle(2, arr);\n * // newArr = [1, 3]\n * ```\n */\nexport function toggle(item, array, compare = deepEqual) {\n    const itemIdx = array.findIndex((innerItem) => compare(innerItem, item));\n    if (itemIdx !== -1) {\n        array.splice(itemIdx, 1);\n    }\n    else {\n        array.push(item);\n    }\n    return array;\n}\n/**\n * Splits an array into chunks of a given size.\n * @param arr The array to split.\n * @param size The size of each chunk.\n * @returns An array of arrays, where each sub-array has `size` elements from the original array.\n * @example ```ts\n * const arr = [1, 2, 3, 4, 5, 6, 7, 8];\n * const chunks = chunk(arr, 3);\n * // chunks = [[1, 2, 3], [4, 5, 6], [7, 8]]\n * ```\n */\nexport function chunk(arr, size) {\n    const result = [];\n    for (let i = 0; i < arr.length; i += size) {\n        result.push(arr.slice(i, i + size));\n    }\n    return result;\n}\n/**\n * Checks if the given index is valid for the given array.\n *\n * @param index - The index to check\n * @param arr - The array to check\n */\nexport function isValidIndex(index, arr) {\n    return index >= 0 && index < arr.length;\n}\n","export function addHighlight(element) {\n    element.setAttribute('data-highlighted', '');\n}\nexport function removeHighlight(element) {\n    element.removeAttribute('data-highlighted');\n}\n","export function sleep(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n}\n","import { nanoid } from 'nanoid/non-secure';\n/**\n * A function that generates a random id\n * @returns An id\n */\nexport function generateId() {\n    return nanoid(10);\n}\nexport function generateIds(args) {\n    return args.reduce((acc, curr) => {\n        acc[curr] = generateId();\n        return acc;\n    }, {});\n}\nexport function stringifiedIdObjType(args) {\n    return `Record<${args.map((arg) => `\"${arg}\"`).join(' | ')}, string>`;\n}\n","export function debounce(fn, wait = 500) {\n    let timeout = null;\n    return function (...args) {\n        const later = () => {\n            timeout = null;\n            fn(...args);\n        };\n        timeout && clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n    };\n}\n","export const isDom = () => typeof window !== 'undefined';\nexport function getPlatform() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const agent = navigator.userAgentData;\n    return (agent?.platform ?? navigator.platform);\n}\nconst pt = (v) => isDom() && v.test(getPlatform().toLowerCase());\nconst ua = (v) => isDom() && v.test(navigator.userAgent);\nconst vn = (v) => isDom() && v.test(navigator.vendor);\nexport const isTouchDevice = () => isDom() && !!navigator.maxTouchPoints;\nexport const isMac = () => pt(/^mac/) && !isTouchDevice();\nexport const isIPhone = () => pt(/^iphone/);\nexport const isSafari = () => isApple() && vn(/apple/i);\nexport const isFirefox = () => ua(/firefox\\//i);\nexport const isApple = () => pt(/mac|iphone|ipad|ipod/i);\nexport const isIos = () => isApple() && !isMac();\n","// Modified from @zag-js/remove-scroll v0.10.2 (2023-06-10)\n// Source: https://github.com/chakra-ui/zag\n// https://github.com/chakra-ui/zag/blob/main/packages/utilities/remove-scroll/src/index.ts\nimport { noop } from './callbacks.js';\nimport { isIos } from './platform.js';\nconst LOCK_CLASSNAME = 'data-melt-scroll-lock';\nfunction assignStyle(el, style) {\n    if (!el)\n        return;\n    const previousStyle = el.style.cssText;\n    Object.assign(el.style, style);\n    return () => {\n        el.style.cssText = previousStyle;\n    };\n}\nfunction setCSSProperty(el, property, value) {\n    if (!el)\n        return;\n    const previousValue = el.style.getPropertyValue(property);\n    el.style.setProperty(property, value);\n    return () => {\n        if (previousValue) {\n            el.style.setProperty(property, previousValue);\n        }\n        else {\n            el.style.removeProperty(property);\n        }\n    };\n}\nfunction getPaddingProperty(documentElement) {\n    // RTL <body> scrollbar\n    const documentLeft = documentElement.getBoundingClientRect().left;\n    const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n    return scrollbarX ? 'paddingLeft' : 'paddingRight';\n}\nexport function removeScroll(_document) {\n    const doc = _document ?? document;\n    const win = doc.defaultView ?? window;\n    const { documentElement, body } = doc;\n    const locked = body.hasAttribute(LOCK_CLASSNAME);\n    if (locked)\n        return noop;\n    body.setAttribute(LOCK_CLASSNAME, '');\n    const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n    const setScrollbarWidthProperty = () => setCSSProperty(documentElement, '--scrollbar-width', `${scrollbarWidth}px`);\n    const paddingProperty = getPaddingProperty(documentElement);\n    const scrollbarSidePadding = win.getComputedStyle(body)[paddingProperty];\n    const setStyle = () => assignStyle(body, {\n        overflow: 'hidden',\n        [paddingProperty]: `calc(${scrollbarSidePadding} + ${scrollbarWidth}px)`,\n    });\n    // Only iOS doesn't respect `overflow: hidden` on document.body\n    const setIOSStyle = () => {\n        const { scrollX, scrollY, visualViewport } = win;\n        // iOS 12 does not support `visuaViewport`.\n        const offsetLeft = visualViewport?.offsetLeft ?? 0;\n        const offsetTop = visualViewport?.offsetTop ?? 0;\n        const restoreStyle = assignStyle(body, {\n            position: 'fixed',\n            overflow: 'hidden',\n            top: `${-(scrollY - Math.floor(offsetTop))}px`,\n            left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n            right: '0',\n            [paddingProperty]: `calc(${scrollbarSidePadding} + ${scrollbarWidth}px)`,\n        });\n        return () => {\n            restoreStyle?.();\n            win.scrollTo(scrollX, scrollY);\n        };\n    };\n    const cleanups = [setScrollbarWidthProperty(), isIos() ? setIOSStyle() : setStyle()];\n    return () => {\n        cleanups.forEach((fn) => fn?.());\n        body.removeAttribute(LOCK_CLASSNAME);\n    };\n}\n","import { derived } from 'svelte/store';\n/**\n * Helper function to standardize the way we derive a visible state for the\n * popper/floating elements.\n */\nexport function derivedVisible(obj) {\n    const { open, forceVisible, activeTrigger } = obj;\n    return derived([open, forceVisible, activeTrigger], ([$open, $forceVisible, $activeTrigger]) => ($open || $forceVisible) && $activeTrigger !== null);\n}\n","import { isBrowser, isHTMLElement } from './is.js';\nimport { sleep } from './sleep.js';\n/**\n * Manage roving focus between elements. Sets the current active element to\n * tabindex -1 and the next element to tabindex 0.\n *\n * @param nextElement The element to focus on\n */\nexport function handleRovingFocus(nextElement) {\n    if (!isBrowser)\n        return;\n    sleep(1).then(() => {\n        const currentFocusedElement = document.activeElement;\n        if (!isHTMLElement(currentFocusedElement) || currentFocusedElement === nextElement)\n            return;\n        currentFocusedElement.tabIndex = -1;\n        if (nextElement) {\n            nextElement.tabIndex = 0;\n            nextElement.focus();\n        }\n    });\n}\nfunction getFocusableElements() {\n    return Array.from(document.querySelectorAll('a[href]:not([tabindex=\"-1\"]), button:not([disabled]):not([tabindex=\"-1\"]), input:not([disabled]):not([tabindex=\"-1\"]), select:not([disabled]):not([tabindex=\"-1\"]), textarea:not([disabled]):not([tabindex=\"-1\"]), [tabindex]:not([tabindex=\"-1\"])'));\n}\nexport function getNextFocusable(currentElement) {\n    const focusableElements = getFocusableElements();\n    const currentIndex = focusableElements.indexOf(currentElement);\n    const nextIndex = currentIndex + 1;\n    const nextElement = focusableElements[nextIndex];\n    if (nextIndex < focusableElements.length && isHTMLElement(nextElement)) {\n        return nextElement;\n    }\n    return null;\n}\nexport function getPreviousFocusable(currentElement) {\n    const focusableElements = getFocusableElements();\n    const currentIndex = focusableElements.indexOf(currentElement);\n    const previousIndex = currentIndex - 1;\n    const prevElement = focusableElements[previousIndex];\n    if (previousIndex >= 0 && isHTMLElement(prevElement)) {\n        return prevElement;\n    }\n    return null;\n}\n","import { get, writable } from 'svelte/store';\nimport { wrapArray } from './array.js';\nimport { debounce } from './debounce.js';\nimport { isHTMLElement } from './is.js';\nimport { handleRovingFocus } from './rovingFocus.js';\nimport { withGet } from './withGet.js';\n/**\n * Keys to ignore for typeahead so we aren't matching things\n * like `Shift menu item` or `Control center` or `Alt menu` when\n * a user presses those keys.\n */\nconst ignoredKeys = new Set(['Shift', 'Control', 'Alt', 'Meta', 'CapsLock', 'NumLock']);\n/**\n * Default options for the typeahead search.\n * We default to roving focus when a match is found, but\n * you can override this with the `onMatch` option.\n */\nconst defaults = {\n    onMatch: handleRovingFocus,\n    getCurrentItem: () => document.activeElement,\n};\nexport function createTypeaheadSearch(args = {}) {\n    const withDefaults = { ...defaults, ...args };\n    const typed = withGet(writable([]));\n    const resetTyped = debounce(() => {\n        typed.update(() => []);\n    });\n    const handleTypeaheadSearch = (key, items) => {\n        if (ignoredKeys.has(key))\n            return;\n        const currentItem = withDefaults.getCurrentItem();\n        const $typed = get(typed);\n        if (!Array.isArray($typed)) {\n            return;\n        }\n        $typed.push(key.toLowerCase());\n        typed.set($typed);\n        const candidateItems = items.filter((item) => {\n            if (item.getAttribute('disabled') === 'true' ||\n                item.getAttribute('aria-disabled') === 'true' ||\n                item.hasAttribute('data-disabled')) {\n                return false;\n            }\n            return true;\n        });\n        const isRepeated = $typed.length > 1 && $typed.every((char) => char === $typed[0]);\n        const normalizeSearch = isRepeated ? $typed[0] : $typed.join('');\n        const currentItemIndex = isHTMLElement(currentItem) ? candidateItems.indexOf(currentItem) : -1;\n        let wrappedItems = wrapArray(candidateItems, Math.max(currentItemIndex, 0));\n        const excludeCurrentItem = normalizeSearch.length === 1;\n        if (excludeCurrentItem) {\n            wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n        }\n        const nextItem = wrappedItems.find((item) => item?.innerText && item.innerText.toLowerCase().startsWith(normalizeSearch.toLowerCase()));\n        if (isHTMLElement(nextItem) && nextItem !== currentItem) {\n            withDefaults.onMatch(nextItem);\n        }\n        resetTyped();\n    };\n    return {\n        typed,\n        resetTyped,\n        handleTypeaheadSearch,\n    };\n}\n","import { isHTMLElement } from './is.js';\n/**\n * Get an element's ancestor which has a `data-portal` attribute.\n * This is used to handle nested portals/overlays/dialogs/popovers.\n */\nfunction getPortalParent(node) {\n    let parent = node.parentElement;\n    while (isHTMLElement(parent) && !parent.hasAttribute('data-portal')) {\n        parent = parent.parentElement;\n    }\n    return parent || 'body';\n}\n/**\n * Gets the destination for a portal given the node and a user-specified portal prop.\n * If a portal prop is not `undefined`, it is used as the destination.\n */\nexport function getPortalDestination(node, portalProp) {\n    // user-specified portal prop, use it\n    if (portalProp !== undefined)\n        return portalProp;\n    // find the closest portal parent, or the body if none is found\n    const portalParent = getPortalParent(node);\n    // if the portalParent is the body, we portal to the body\n    // making it a \"top-level\" portal\n    if (portalParent === 'body')\n        return document.body;\n    // if the portalParent is not the body, we have a portal parent\n    // and shouldn't portal to anything so it remains within that parent\n    // so we return `null`\n    return null;\n}\n","import { isFunction, isHTMLElement, sleep } from './index.js';\nimport { tick } from 'svelte';\nexport async function handleFocus(args) {\n    const { prop, defaultEl } = args;\n    await Promise.all([sleep(1), tick]);\n    if (prop === undefined) {\n        defaultEl?.focus();\n        return;\n    }\n    const returned = isFunction(prop) ? prop(defaultEl) : prop;\n    if (typeof returned === 'string') {\n        // Get el by selector, focus it\n        const el = document.querySelector(returned);\n        if (!isHTMLElement(el))\n            return;\n        el.focus();\n    }\n    else if (isHTMLElement(returned)) {\n        // Focus it\n        returned.focus();\n    }\n}\n","// Modified from Grail UI v0.9.6 (2023-06-10)\n// Source: https://github.com/grail-ui/grail-ui\n// https://github.com/grail-ui/grail-ui/tree/master/packages/grail-ui/src/floating/placement.ts\nimport { flip, offset, arrow, shift, size, computePosition, autoUpdate, } from '@floating-ui/dom';\nimport { isHTMLElement, noop } from '../../helpers/index.js';\nconst defaultConfig = {\n    strategy: 'absolute',\n    placement: 'top',\n    gutter: 5,\n    flip: true,\n    sameWidth: false,\n    overflowPadding: 8,\n};\nconst ARROW_TRANSFORM = {\n    bottom: 'rotate(45deg)',\n    left: 'rotate(135deg)',\n    top: 'rotate(225deg)',\n    right: 'rotate(315deg)',\n};\nconst SIDE_OPTIONS = ['top', 'right', 'bottom', 'left'];\nconst ALIGN_OPTIONS = ['start', 'center', 'end'];\nexport function useFloating(reference, floating, opts = {}) {\n    if (!floating || !reference || opts === null)\n        return {\n            destroy: noop,\n        };\n    const options = { ...defaultConfig, ...opts };\n    const arrowEl = floating.querySelector('[data-arrow=true]');\n    const middleware = [];\n    if (options.flip) {\n        middleware.push(flip({\n            boundary: options.boundary,\n            padding: options.overflowPadding,\n        }));\n    }\n    const arrowOffset = isHTMLElement(arrowEl) ? arrowEl.offsetHeight / 2 : 0;\n    if (options.gutter || options.offset) {\n        const data = options.gutter ? { mainAxis: options.gutter } : options.offset;\n        if (data?.mainAxis != null) {\n            data.mainAxis += arrowOffset;\n        }\n        middleware.push(offset(data));\n    }\n    middleware.push(shift({\n        boundary: options.boundary,\n        crossAxis: options.overlap,\n        padding: options.overflowPadding,\n    }));\n    if (arrowEl) {\n        middleware.push(arrow({ element: arrowEl, padding: 8 }));\n    }\n    middleware.push(size({\n        padding: options.overflowPadding,\n        apply({ rects, availableHeight, availableWidth }) {\n            if (options.sameWidth) {\n                Object.assign(floating.style, {\n                    width: `${Math.round(rects.reference.width)}px`,\n                    minWidth: 'unset',\n                });\n            }\n            if (options.fitViewport) {\n                Object.assign(floating.style, {\n                    maxWidth: `${availableWidth}px`,\n                    maxHeight: `${availableHeight}px`,\n                });\n            }\n        },\n    }));\n    function compute() {\n        if (!reference || !floating)\n            return;\n        // if the reference is no longer in the document (e.g. it was removed), ignore it\n        if (isHTMLElement(reference) && !reference.ownerDocument.documentElement.contains(reference))\n            return;\n        const { placement, strategy } = options;\n        computePosition(reference, floating, {\n            placement,\n            middleware,\n            strategy,\n        }).then((data) => {\n            const x = Math.round(data.x);\n            const y = Math.round(data.y);\n            // get the chosen side and align from the placement to apply as attributes\n            // to the floating element and arrow\n            const [side, align] = getSideAndAlignFromPlacement(data.placement);\n            floating.setAttribute('data-side', side);\n            floating.setAttribute('data-align', align);\n            Object.assign(floating.style, {\n                position: options.strategy,\n                top: `${y}px`,\n                left: `${x}px`,\n            });\n            if (isHTMLElement(arrowEl) && data.middlewareData.arrow) {\n                const { x, y } = data.middlewareData.arrow;\n                const dir = data.placement.split('-')[0];\n                arrowEl.setAttribute('data-side', dir);\n                Object.assign(arrowEl.style, {\n                    position: 'absolute',\n                    left: x != null ? `${x}px` : '',\n                    top: y != null ? `${y}px` : '',\n                    [dir]: `calc(100% - ${arrowOffset}px)`,\n                    transform: ARROW_TRANSFORM[dir],\n                    backgroundColor: 'inherit',\n                    zIndex: 'inherit',\n                });\n            }\n            return data;\n        });\n    }\n    // Apply `position` to floating element prior to the computePosition() call.\n    Object.assign(floating.style, {\n        position: options.strategy,\n    });\n    return {\n        destroy: autoUpdate(reference, floating, compute),\n    };\n}\nfunction getSideAndAlignFromPlacement(placement) {\n    const [side, align = 'center'] = placement.split('-');\n    return [side, align];\n}\n","// Modified from Grail UI v0.9.6 (2023-06-10)\n// Source: https://github.com/grail-ui/grail-ui\n// https://github.com/grail-ui/grail-ui/tree/master/packages/grail-ui/src/focusTrap/focusTrap.ts\nimport { writable, readonly } from 'svelte/store';\nimport { createFocusTrap as _createFocusTrap } from 'focus-trap';\nexport function createFocusTrap(config = {}) {\n    let trap;\n    const { immediate, ...focusTrapOptions } = config;\n    const hasFocus = writable(false);\n    const isPaused = writable(false);\n    const activate = (opts) => trap?.activate(opts);\n    const deactivate = (opts) => {\n        trap?.deactivate(opts);\n    };\n    const pause = () => {\n        if (trap) {\n            trap.pause();\n            isPaused.set(true);\n        }\n    };\n    const unpause = () => {\n        if (trap) {\n            trap.unpause();\n            isPaused.set(false);\n        }\n    };\n    const useFocusTrap = (node) => {\n        trap = _createFocusTrap(node, {\n            ...focusTrapOptions,\n            onActivate() {\n                hasFocus.set(true);\n                config.onActivate?.();\n            },\n            onDeactivate() {\n                hasFocus.set(false);\n                config.onDeactivate?.();\n            },\n        });\n        if (immediate) {\n            activate();\n        }\n        return {\n            destroy() {\n                deactivate();\n                trap = undefined;\n            },\n        };\n    };\n    return {\n        useFocusTrap,\n        hasFocus: readonly(hasFocus),\n        isPaused: readonly(isPaused),\n        activate,\n        deactivate,\n        pause,\n        unpause,\n    };\n}\n","import { isElement, last, noop, sleep } from '../../helpers/index.js';\nimport { useInteractOutside } from '../index.js';\nconst visibleModals = [];\nexport function useModal(node, config) {\n    let unsubInteractOutside = noop;\n    function removeNodeFromVisibleModals() {\n        const index = visibleModals.indexOf(node);\n        if (index >= 0) {\n            visibleModals.splice(index, 1);\n        }\n    }\n    function update(config) {\n        unsubInteractOutside();\n        const { open, onClose, shouldCloseOnInteractOutside, closeOnInteractOutside } = config;\n        sleep(100).then(() => {\n            if (open) {\n                visibleModals.push(node);\n            }\n            else {\n                removeNodeFromVisibleModals();\n            }\n        });\n        function isLastModal() {\n            return last(visibleModals) === node;\n        }\n        function closeModal() {\n            // we only want to call onClose if this is the topmost modal\n            if (isLastModal() && onClose) {\n                onClose();\n                removeNodeFromVisibleModals();\n            }\n        }\n        function onInteractOutsideStart(e) {\n            const target = e.target;\n            if (!isElement(target))\n                return;\n            if (target && isLastModal()) {\n                e.preventDefault();\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n            }\n        }\n        function onInteractOutside(e) {\n            if (shouldCloseOnInteractOutside?.(e) && isLastModal()) {\n                e.preventDefault();\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                closeModal();\n            }\n        }\n        unsubInteractOutside = useInteractOutside(node, {\n            onInteractOutsideStart,\n            onInteractOutside: closeOnInteractOutside ? onInteractOutside : undefined,\n            enabled: open,\n        }).destroy;\n    }\n    update(config);\n    return {\n        update,\n        destroy() {\n            removeNodeFromVisibleModals();\n            unsubInteractOutside();\n        },\n    };\n}\n","import { createFocusTrap, useEscapeKeydown, useFloating, usePortal, } from '../index.js';\nimport { executeCallbacks, noop, isHTMLElement, } from '../../helpers/index.js';\nimport { useModal } from '../modal/action.js';\nconst defaultConfig = {\n    floating: {},\n    focusTrap: {},\n    modal: {},\n    escapeKeydown: {},\n    portal: 'body',\n};\nexport const usePopper = (popperElement, args) => {\n    popperElement.dataset.escapee = '';\n    const { anchorElement, open, options } = args;\n    if (!anchorElement || !open || !options) {\n        return { destroy: noop };\n    }\n    const opts = { ...defaultConfig, ...options };\n    const callbacks = [];\n    if (opts.portal !== null) {\n        const portal = usePortal(popperElement, opts.portal);\n        if (portal?.destroy) {\n            callbacks.push(portal.destroy);\n        }\n    }\n    callbacks.push(useFloating(anchorElement, popperElement, opts.floating).destroy);\n    if (opts.focusTrap !== null) {\n        const { useFocusTrap } = createFocusTrap({\n            immediate: true,\n            escapeDeactivates: false,\n            allowOutsideClick: true,\n            returnFocusOnDeactivate: false,\n            fallbackFocus: popperElement,\n            ...opts.focusTrap,\n        });\n        const usedFocusTrap = useFocusTrap(popperElement);\n        if (usedFocusTrap?.destroy) {\n            callbacks.push(usedFocusTrap.destroy);\n        }\n    }\n    if (opts.modal !== null) {\n        callbacks.push(useModal(popperElement, {\n            onClose: () => {\n                if (isHTMLElement(anchorElement)) {\n                    open.set(false);\n                    anchorElement.focus();\n                }\n            },\n            shouldCloseOnInteractOutside: (e) => {\n                if (e.defaultPrevented)\n                    return false;\n                if (isHTMLElement(anchorElement) && anchorElement.contains(e.target)) {\n                    return false;\n                }\n                return true;\n            },\n            ...opts.modal,\n        }).destroy);\n    }\n    if (opts.escapeKeydown !== null) {\n        callbacks.push(useEscapeKeydown(popperElement, {\n            enabled: open,\n            handler: () => {\n                open.set(false);\n            },\n            ...opts.escapeKeydown,\n        }).destroy);\n    }\n    // @ts-expect-error - This works and is correct, but TS doesn't like it\n    const unsubscribe = executeCallbacks(...callbacks);\n    return {\n        destroy() {\n            unsubscribe();\n        },\n    };\n};\n","import { tick } from 'svelte';\nimport { isHTMLElement, noop } from '../helpers/index.js';\nexport const usePortal = (el, target = 'body') => {\n    let targetEl;\n    if (!isHTMLElement(target) && typeof target !== 'string') {\n        return {\n            destroy: noop,\n        };\n    }\n    async function update(newTarget) {\n        target = newTarget;\n        if (typeof target === 'string') {\n            targetEl = document.querySelector(target);\n            if (targetEl === null) {\n                await tick();\n                targetEl = document.querySelector(target);\n            }\n            if (targetEl === null) {\n                throw new Error(`No element found matching css selector: \"${target}\"`);\n            }\n        }\n        else if (target instanceof HTMLElement) {\n            targetEl = target;\n        }\n        else {\n            throw new TypeError(`Unknown portal target type: ${target === null ? 'null' : typeof target}. Allowed types: string (CSS selector) or HTMLElement.`);\n        }\n        el.dataset.portal = '';\n        targetEl.appendChild(el);\n        el.hidden = false;\n    }\n    function destroy() {\n        el.remove();\n    }\n    update(target);\n    return {\n        update,\n        destroy,\n    };\n};\n","import { addEventListener, isElement, executeCallbacks, noop, } from '../../helpers/index.js';\nexport function useInteractOutside(node, config) {\n    let unsub = noop;\n    let isPointerDown = false;\n    let isPointerDownInside = false;\n    let ignoreEmulatedMouseEvents = false;\n    function update(config) {\n        unsub();\n        const { onInteractOutside, onInteractOutsideStart, enabled } = config;\n        if (!enabled)\n            return;\n        function onPointerDown(e) {\n            if (onInteractOutside && isValidEvent(e, node)) {\n                onInteractOutsideStart?.(e);\n            }\n            const target = e.target;\n            if (isElement(target) && isOrContainsTarget(node, target)) {\n                isPointerDownInside = true;\n            }\n            isPointerDown = true;\n        }\n        function triggerInteractOutside(e) {\n            onInteractOutside?.(e);\n        }\n        const documentObj = getOwnerDocument(node);\n        // Use pointer events if available, otherwise use mouse/touch events\n        if (typeof PointerEvent !== 'undefined') {\n            const onPointerUp = (e) => {\n                if (shouldTriggerInteractOutside(e)) {\n                    triggerInteractOutside(e);\n                }\n                resetPointerState();\n            };\n            unsub = executeCallbacks(addEventListener(documentObj, 'pointerdown', onPointerDown, true), addEventListener(documentObj, 'pointerup', onPointerUp, true));\n        }\n        else {\n            const onMouseUp = (e) => {\n                if (ignoreEmulatedMouseEvents) {\n                    ignoreEmulatedMouseEvents = false;\n                }\n                else if (shouldTriggerInteractOutside(e)) {\n                    triggerInteractOutside(e);\n                }\n                resetPointerState();\n            };\n            const onTouchEnd = (e) => {\n                ignoreEmulatedMouseEvents = true;\n                if (shouldTriggerInteractOutside(e)) {\n                    triggerInteractOutside(e);\n                }\n                resetPointerState();\n            };\n            unsub = executeCallbacks(addEventListener(documentObj, 'mousedown', onPointerDown, true), addEventListener(documentObj, 'mouseup', onMouseUp, true), addEventListener(documentObj, 'touchstart', onPointerDown, true), addEventListener(documentObj, 'touchend', onTouchEnd, true));\n        }\n    }\n    function shouldTriggerInteractOutside(e) {\n        if (isPointerDown && !isPointerDownInside && isValidEvent(e, node)) {\n            return true;\n        }\n        return false;\n    }\n    function resetPointerState() {\n        isPointerDown = false;\n        isPointerDownInside = false;\n    }\n    update(config);\n    return {\n        update,\n        destroy: unsub,\n    };\n}\nfunction isValidEvent(e, node) {\n    if ('button' in e && e.button > 0)\n        return false;\n    const target = e.target;\n    if (!isElement(target))\n        return false;\n    // if the target is no longer in the document (e.g. it was removed) ignore it\n    const ownerDocument = target.ownerDocument;\n    if (!ownerDocument || !ownerDocument.documentElement.contains(target)) {\n        return false;\n    }\n    return node && !isOrContainsTarget(node, target);\n}\nfunction isOrContainsTarget(node, target) {\n    return node === target || node.contains(target);\n}\nfunction getOwnerDocument(el) {\n    return el?.ownerDocument ?? document;\n}\n","import { createSeparator } from '../index.js';\nimport { useEscapeKeydown, usePopper, usePortal } from '../../internal/actions/index.js';\nimport { FIRST_LAST_KEYS, SELECTION_KEYS, addEventListener, addHighlight, addMeltEventListener, makeElement, createElHelpers, createTypeaheadSearch, derivedVisible, disabledAttr, effect, executeCallbacks, generateIds, getNextFocusable, getPortalDestination, getPreviousFocusable, handleFocus, handleRovingFocus, isBrowser, isElementDisabled, isHTMLElement, kbd, noop, omit, overridable, removeHighlight, removeScroll, sleep, styleToString, toWritableStores, portalAttr, } from '../../internal/helpers/index.js';\nimport { tick } from 'svelte';\nimport { derived, writable } from 'svelte/store';\nimport { safeOnMount } from '../../internal/helpers/lifecycle.js';\nimport { withGet } from '../../internal/helpers/withGet.js';\nexport const SUB_OPEN_KEYS = {\n    ltr: [...SELECTION_KEYS, kbd.ARROW_RIGHT],\n    rtl: [...SELECTION_KEYS, kbd.ARROW_LEFT],\n};\nexport const SUB_CLOSE_KEYS = {\n    ltr: [kbd.ARROW_LEFT],\n    rtl: [kbd.ARROW_RIGHT],\n};\nexport const menuIdParts = ['menu', 'trigger'];\nconst defaults = {\n    arrowSize: 8,\n    positioning: {\n        placement: 'bottom',\n    },\n    preventScroll: true,\n    closeOnEscape: true,\n    closeOnOutsideClick: true,\n    portal: undefined,\n    loop: false,\n    dir: 'ltr',\n    defaultOpen: false,\n    typeahead: true,\n    closeOnItemClick: true,\n    onOutsideClick: undefined,\n};\nexport function createMenuBuilder(opts) {\n    const { name, selector } = createElHelpers(opts.selector);\n    const { preventScroll, arrowSize, positioning, closeOnEscape, closeOnOutsideClick, portal, forceVisible, typeahead, loop, closeFocus, disableFocusFirstItem, closeOnItemClick, onOutsideClick, } = opts.rootOptions;\n    const rootOpen = opts.rootOpen;\n    const rootActiveTrigger = opts.rootActiveTrigger;\n    /**\n     * Keeps track of the next/previous focusable element when the menu closes.\n     * This is because we are portaling the menu to the body and we need\n     * to be able to focus the next element in the DOM when the menu closes.\n     *\n     * Without keeping track of this, the focus would be reset to the top of\n     * the page (or the first focusable element in the body).\n     */\n    const nextFocusable = opts.nextFocusable;\n    const prevFocusable = opts.prevFocusable;\n    /**\n     * Keeps track of if the user is using the keyboard to navigate the menu.\n     * This is used to determine how we handle focus on open behavior differently\n     * than when the user is using the mouse.\n     */\n    const isUsingKeyboard = withGet.writable(false);\n    /**\n     * Stores used to manage the grace area for submenus. This prevents us\n     * from closing a submenu when the user is moving their mouse from the\n     * trigger to the submenu.\n     */\n    const lastPointerX = withGet(writable(0));\n    const pointerGraceIntent = withGet(writable(null));\n    const pointerDir = withGet(writable('right'));\n    /**\n     * Track currently focused item in the menu.\n     */\n    const currentFocusedItem = withGet(writable(null));\n    const pointerMovingToSubmenu = withGet(derived([pointerDir, pointerGraceIntent], ([$pointerDir, $pointerGraceIntent]) => {\n        return (e) => {\n            const isMovingTowards = $pointerDir === $pointerGraceIntent?.side;\n            return isMovingTowards && isPointerInGraceArea(e, $pointerGraceIntent?.area);\n        };\n    }));\n    const { typed, handleTypeaheadSearch } = createTypeaheadSearch();\n    const rootIds = toWritableStores({ ...generateIds(menuIdParts), ...opts.ids });\n    const isVisible = derivedVisible({\n        open: rootOpen,\n        forceVisible,\n        activeTrigger: rootActiveTrigger,\n    });\n    const rootMenu = makeElement(name(), {\n        stores: [isVisible, portal, rootIds.menu, rootIds.trigger],\n        returned: ([$isVisible, $portal, $rootMenuId, $rootTriggerId]) => {\n            return {\n                role: 'menu',\n                hidden: $isVisible ? undefined : true,\n                style: styleToString({\n                    display: $isVisible ? undefined : 'none',\n                }),\n                id: $rootMenuId,\n                'aria-labelledby': $rootTriggerId,\n                'data-state': $isVisible ? 'open' : 'closed',\n                'data-portal': portalAttr($portal),\n                tabindex: -1,\n            };\n        },\n        action: (node) => {\n            let unsubPopper = noop;\n            const unsubDerived = effect([isVisible, rootActiveTrigger, positioning, closeOnOutsideClick, portal, closeOnEscape], ([$isVisible, $rootActiveTrigger, $positioning, $closeOnOutsideClick, $portal, $closeOnEscape,]) => {\n                unsubPopper();\n                if (!$isVisible || !$rootActiveTrigger)\n                    return;\n                tick().then(() => {\n                    setMeltMenuAttribute(node, selector);\n                    const popper = usePopper(node, {\n                        anchorElement: $rootActiveTrigger,\n                        open: rootOpen,\n                        options: {\n                            floating: $positioning,\n                            modal: {\n                                closeOnInteractOutside: $closeOnOutsideClick,\n                                shouldCloseOnInteractOutside: (e) => {\n                                    onOutsideClick.get()?.(e);\n                                    if (e.defaultPrevented)\n                                        return false;\n                                    if (isHTMLElement($rootActiveTrigger) &&\n                                        $rootActiveTrigger.contains(e.target)) {\n                                        return false;\n                                    }\n                                    return true;\n                                },\n                                onClose: () => {\n                                    rootOpen.set(false);\n                                    $rootActiveTrigger.focus();\n                                },\n                                open: $isVisible,\n                            },\n                            portal: getPortalDestination(node, $portal),\n                            escapeKeydown: $closeOnEscape ? undefined : null,\n                        },\n                    });\n                    if (popper && popper.destroy) {\n                        unsubPopper = popper.destroy;\n                    }\n                });\n            });\n            const unsubEvents = executeCallbacks(addMeltEventListener(node, 'keydown', (e) => {\n                const target = e.target;\n                const menuEl = e.currentTarget;\n                if (!isHTMLElement(target) || !isHTMLElement(menuEl))\n                    return;\n                /**\n                 * Submenu key events bubble through portals and\n                 * we only care about key events that happen inside this menu.\n                 */\n                const isKeyDownInside = target.closest('[role=\"menu\"]') === menuEl;\n                if (!isKeyDownInside)\n                    return;\n                if (FIRST_LAST_KEYS.includes(e.key)) {\n                    handleMenuNavigation(e, loop.get() ?? false);\n                }\n                /**\n                 * Menus should not be navigated using tab\n                 * @see https://www.w3.org/WAI/ARIA/apg/practices/keyboard-interface/#kbd_general_within\n                 */\n                if (e.key === kbd.TAB) {\n                    e.preventDefault();\n                    rootOpen.set(false);\n                    handleTabNavigation(e, nextFocusable, prevFocusable);\n                    return;\n                }\n                /**\n                 * Check for typeahead search and handle it.\n                 */\n                const isCharacterKey = e.key.length === 1;\n                const isModifierKey = e.ctrlKey || e.altKey || e.metaKey;\n                if (!isModifierKey && isCharacterKey && typeahead.get() === true) {\n                    handleTypeaheadSearch(e.key, getMenuItems(menuEl));\n                }\n            }));\n            return {\n                destroy() {\n                    unsubDerived();\n                    unsubEvents();\n                    unsubPopper();\n                },\n            };\n        },\n    });\n    const rootTrigger = makeElement(name('trigger'), {\n        stores: [rootOpen, rootIds.menu, rootIds.trigger],\n        returned: ([$rootOpen, $rootMenuId, $rootTriggerId]) => {\n            return {\n                'aria-controls': $rootMenuId,\n                'aria-expanded': $rootOpen,\n                'data-state': $rootOpen ? 'open' : 'closed',\n                id: $rootTriggerId,\n                tabindex: 0,\n            };\n        },\n        action: (node) => {\n            applyAttrsIfDisabled(node);\n            rootActiveTrigger.update((p) => {\n                if (p)\n                    return p;\n                return node;\n            });\n            const unsub = executeCallbacks(addMeltEventListener(node, 'click', (e) => {\n                const $rootOpen = rootOpen.get();\n                const triggerEl = e.currentTarget;\n                if (!isHTMLElement(triggerEl))\n                    return;\n                handleOpen(triggerEl);\n                if (!$rootOpen)\n                    e.preventDefault();\n            }), addMeltEventListener(node, 'keydown', (e) => {\n                const triggerEl = e.currentTarget;\n                if (!isHTMLElement(triggerEl))\n                    return;\n                if (!(SELECTION_KEYS.includes(e.key) || e.key === kbd.ARROW_DOWN))\n                    return;\n                e.preventDefault();\n                handleOpen(triggerEl);\n                const menuId = triggerEl.getAttribute('aria-controls');\n                if (!menuId)\n                    return;\n                const menu = document.getElementById(menuId);\n                if (!menu)\n                    return;\n                const menuItems = getMenuItems(menu);\n                if (!menuItems.length)\n                    return;\n                handleRovingFocus(menuItems[0]);\n            }));\n            return {\n                destroy: unsub,\n            };\n        },\n    });\n    const rootArrow = makeElement(name('arrow'), {\n        stores: arrowSize,\n        returned: ($arrowSize) => ({\n            'data-arrow': true,\n            style: styleToString({\n                position: 'absolute',\n                width: `var(--arrow-size, ${$arrowSize}px)`,\n                height: `var(--arrow-size, ${$arrowSize}px)`,\n            }),\n        }),\n    });\n    const overlay = makeElement(name('overlay'), {\n        stores: [isVisible],\n        returned: ([$isVisible]) => {\n            return {\n                hidden: $isVisible ? undefined : true,\n                tabindex: -1,\n                style: styleToString({\n                    display: $isVisible ? undefined : 'none',\n                }),\n                'aria-hidden': 'true',\n                'data-state': stateAttr($isVisible),\n            };\n        },\n        action: (node) => {\n            let unsubEscapeKeydown = noop;\n            if (closeOnEscape.get()) {\n                const escapeKeydown = useEscapeKeydown(node, {\n                    handler: () => {\n                        rootOpen.set(false);\n                        const $rootActiveTrigger = rootActiveTrigger.get();\n                        if ($rootActiveTrigger)\n                            $rootActiveTrigger.focus();\n                    },\n                });\n                if (escapeKeydown && escapeKeydown.destroy) {\n                    unsubEscapeKeydown = escapeKeydown.destroy;\n                }\n            }\n            const unsubPortal = effect([portal], ([$portal]) => {\n                if ($portal === null)\n                    return noop;\n                const portalDestination = getPortalDestination(node, $portal);\n                if (portalDestination === null)\n                    return noop;\n                const portalAction = usePortal(node, portalDestination);\n                if (portalAction && portalAction.destroy) {\n                    return portalAction.destroy;\n                }\n                else {\n                    return noop;\n                }\n            });\n            return {\n                destroy() {\n                    unsubEscapeKeydown();\n                    unsubPortal();\n                },\n            };\n        },\n    });\n    const item = makeElement(name('item'), {\n        returned: () => {\n            return {\n                role: 'menuitem',\n                tabindex: -1,\n                'data-orientation': 'vertical',\n            };\n        },\n        action: (node) => {\n            setMeltMenuAttribute(node, selector);\n            applyAttrsIfDisabled(node);\n            const unsub = executeCallbacks(addMeltEventListener(node, 'pointerdown', (e) => {\n                const itemEl = e.currentTarget;\n                if (!isHTMLElement(itemEl))\n                    return;\n                if (isElementDisabled(itemEl)) {\n                    e.preventDefault();\n                    return;\n                }\n            }), addMeltEventListener(node, 'click', (e) => {\n                const itemEl = e.currentTarget;\n                if (!isHTMLElement(itemEl))\n                    return;\n                if (isElementDisabled(itemEl)) {\n                    e.preventDefault();\n                    return;\n                }\n                if (e.defaultPrevented) {\n                    handleRovingFocus(itemEl);\n                    return;\n                }\n                if (closeOnItemClick.get()) {\n                    // Allows forms to submit before the menu is removed from the DOM\n                    sleep(1).then(() => {\n                        rootOpen.set(false);\n                    });\n                }\n            }), addMeltEventListener(node, 'keydown', (e) => {\n                onItemKeyDown(e);\n            }), addMeltEventListener(node, 'pointermove', (e) => {\n                onMenuItemPointerMove(e);\n            }), addMeltEventListener(node, 'pointerleave', (e) => {\n                onMenuItemPointerLeave(e);\n            }), addMeltEventListener(node, 'focusin', (e) => {\n                onItemFocusIn(e);\n            }), addMeltEventListener(node, 'focusout', (e) => {\n                onItemFocusOut(e);\n            }));\n            return {\n                destroy: unsub,\n            };\n        },\n    });\n    const group = makeElement(name('group'), {\n        returned: () => {\n            return (groupId) => ({\n                role: 'group',\n                'aria-labelledby': groupId,\n            });\n        },\n    });\n    const groupLabel = makeElement(name('group-label'), {\n        returned: () => {\n            return (groupId) => ({\n                id: groupId,\n            });\n        },\n    });\n    const checkboxItemDefaults = {\n        defaultChecked: false,\n        disabled: false,\n    };\n    const createCheckboxItem = (props) => {\n        const withDefaults = { ...checkboxItemDefaults, ...props };\n        const checkedWritable = withDefaults.checked ?? writable(withDefaults.defaultChecked ?? null);\n        const checked = overridable(checkedWritable, withDefaults.onCheckedChange);\n        const disabled = writable(withDefaults.disabled);\n        const checkboxItem = makeElement(name('checkbox-item'), {\n            stores: [checked, disabled],\n            returned: ([$checked, $disabled]) => {\n                return {\n                    role: 'menuitemcheckbox',\n                    tabindex: -1,\n                    'data-orientation': 'vertical',\n                    'aria-checked': isIndeterminate($checked) ? 'mixed' : $checked ? 'true' : 'false',\n                    'data-disabled': disabledAttr($disabled),\n                    'data-state': getCheckedState($checked),\n                };\n            },\n            action: (node) => {\n                setMeltMenuAttribute(node, selector);\n                applyAttrsIfDisabled(node);\n                const unsub = executeCallbacks(addMeltEventListener(node, 'pointerdown', (e) => {\n                    const itemEl = e.currentTarget;\n                    if (!isHTMLElement(itemEl))\n                        return;\n                    if (isElementDisabled(itemEl)) {\n                        e.preventDefault();\n                        return;\n                    }\n                }), addMeltEventListener(node, 'click', (e) => {\n                    const itemEl = e.currentTarget;\n                    if (!isHTMLElement(itemEl))\n                        return;\n                    if (isElementDisabled(itemEl)) {\n                        e.preventDefault();\n                        return;\n                    }\n                    if (e.defaultPrevented) {\n                        handleRovingFocus(itemEl);\n                        return;\n                    }\n                    checked.update((prev) => {\n                        if (isIndeterminate(prev))\n                            return true;\n                        return !prev;\n                    });\n                    if (closeOnItemClick.get()) {\n                        // We're waiting for a tick to let the checked store update\n                        // before closing the menu. If we don't, and the user was to hit\n                        // spacebar or enter twice really fast, the menu would close and\n                        // reopen without the checked state being updated.\n                        tick().then(() => {\n                            rootOpen.set(false);\n                        });\n                    }\n                }), addMeltEventListener(node, 'keydown', (e) => {\n                    onItemKeyDown(e);\n                }), addMeltEventListener(node, 'pointermove', (e) => {\n                    const itemEl = e.currentTarget;\n                    if (!isHTMLElement(itemEl))\n                        return;\n                    if (isElementDisabled(itemEl)) {\n                        onItemLeave(e);\n                        return;\n                    }\n                    onMenuItemPointerMove(e, itemEl);\n                }), addMeltEventListener(node, 'pointerleave', (e) => {\n                    onMenuItemPointerLeave(e);\n                }), addMeltEventListener(node, 'focusin', (e) => {\n                    onItemFocusIn(e);\n                }), addMeltEventListener(node, 'focusout', (e) => {\n                    onItemFocusOut(e);\n                }));\n                return {\n                    destroy: unsub,\n                };\n            },\n        });\n        const isChecked = derived(checked, ($checked) => $checked === true);\n        const _isIndeterminate = derived(checked, ($checked) => $checked === 'indeterminate');\n        return {\n            elements: {\n                checkboxItem,\n            },\n            states: {\n                checked,\n            },\n            helpers: {\n                isChecked,\n                isIndeterminate: _isIndeterminate,\n            },\n            options: {\n                disabled,\n            },\n        };\n    };\n    const createMenuRadioGroup = (args = {}) => {\n        const valueWritable = args.value ?? writable(args.defaultValue ?? null);\n        const value = overridable(valueWritable, args.onValueChange);\n        const radioGroup = makeElement(name('radio-group'), {\n            returned: () => ({\n                role: 'group',\n            }),\n        });\n        const radioItemDefaults = {\n            disabled: false,\n        };\n        const radioItem = makeElement(name('radio-item'), {\n            stores: [value],\n            returned: ([$value]) => {\n                return (itemProps) => {\n                    const { value: itemValue, disabled } = { ...radioItemDefaults, ...itemProps };\n                    const checked = $value === itemValue;\n                    return {\n                        disabled,\n                        role: 'menuitemradio',\n                        'data-state': checked ? 'checked' : 'unchecked',\n                        'aria-checked': checked,\n                        'data-disabled': disabledAttr(disabled),\n                        'data-value': itemValue,\n                        'data-orientation': 'vertical',\n                        tabindex: -1,\n                    };\n                };\n            },\n            action: (node) => {\n                setMeltMenuAttribute(node, selector);\n                const unsub = executeCallbacks(addMeltEventListener(node, 'pointerdown', (e) => {\n                    const itemEl = e.currentTarget;\n                    if (!isHTMLElement(itemEl))\n                        return;\n                    const itemValue = node.dataset.value;\n                    const disabled = node.dataset.disabled;\n                    if (disabled || itemValue === undefined) {\n                        e.preventDefault();\n                        return;\n                    }\n                }), addMeltEventListener(node, 'click', (e) => {\n                    const itemEl = e.currentTarget;\n                    if (!isHTMLElement(itemEl))\n                        return;\n                    const itemValue = node.dataset.value;\n                    const disabled = node.dataset.disabled;\n                    if (disabled || itemValue === undefined) {\n                        e.preventDefault();\n                        return;\n                    }\n                    if (e.defaultPrevented) {\n                        if (!isHTMLElement(itemEl))\n                            return;\n                        handleRovingFocus(itemEl);\n                        return;\n                    }\n                    value.set(itemValue);\n                    if (closeOnItemClick.get()) {\n                        // We're waiting for a tick to let the checked store update\n                        // before closing the menu. If we don't, and the user was to hit\n                        // spacebar or enter twice really fast, the menu would close and\n                        // reopen without the checked state being updated.\n                        tick().then(() => {\n                            rootOpen.set(false);\n                        });\n                    }\n                }), addMeltEventListener(node, 'keydown', (e) => {\n                    onItemKeyDown(e);\n                }), addMeltEventListener(node, 'pointermove', (e) => {\n                    const itemEl = e.currentTarget;\n                    if (!isHTMLElement(itemEl))\n                        return;\n                    const itemValue = node.dataset.value;\n                    const disabled = node.dataset.disabled;\n                    if (disabled || itemValue === undefined) {\n                        onItemLeave(e);\n                        return;\n                    }\n                    onMenuItemPointerMove(e, itemEl);\n                }), addMeltEventListener(node, 'pointerleave', (e) => {\n                    onMenuItemPointerLeave(e);\n                }), addMeltEventListener(node, 'focusin', (e) => {\n                    onItemFocusIn(e);\n                }), addMeltEventListener(node, 'focusout', (e) => {\n                    onItemFocusOut(e);\n                }));\n                return {\n                    destroy: unsub,\n                };\n            },\n        });\n        const isChecked = derived(value, ($value) => {\n            return (itemValue) => {\n                return $value === itemValue;\n            };\n        });\n        return {\n            elements: {\n                radioGroup,\n                radioItem,\n            },\n            states: {\n                value,\n            },\n            helpers: {\n                isChecked,\n            },\n        };\n    };\n    const { elements: { root: separator }, } = createSeparator({\n        orientation: 'horizontal',\n    });\n    /* -------------------------------------------------------------------------------------------------\n     * SUBMENU\n     * -----------------------------------------------------------------------------------------------*/\n    const subMenuDefaults = {\n        ...defaults,\n        disabled: false,\n        positioning: {\n            placement: 'right-start',\n            gutter: 8,\n        },\n    };\n    const createSubmenu = (args) => {\n        const withDefaults = { ...subMenuDefaults, ...args };\n        const subOpenWritable = withDefaults.open ?? writable(false);\n        const subOpen = overridable(subOpenWritable, withDefaults?.onOpenChange);\n        // options\n        const options = toWritableStores(omit(withDefaults, 'ids'));\n        const { positioning, arrowSize, disabled } = options;\n        const subActiveTrigger = withGet(writable(null));\n        const subOpenTimer = withGet(writable(null));\n        const pointerGraceTimer = withGet(writable(0));\n        const subIds = toWritableStores({ ...generateIds(menuIdParts), ...withDefaults.ids });\n        safeOnMount(() => {\n            /**\n             * Set active trigger on mount to handle controlled/forceVisible\n             * state.\n             */\n            const subTrigger = document.getElementById(subIds.trigger.get());\n            if (subTrigger) {\n                subActiveTrigger.set(subTrigger);\n            }\n        });\n        const subIsVisible = derivedVisible({\n            open: subOpen,\n            forceVisible,\n            activeTrigger: subActiveTrigger,\n        });\n        const subMenu = makeElement(name('submenu'), {\n            stores: [subIsVisible, subIds.menu, subIds.trigger],\n            returned: ([$subIsVisible, $subMenuId, $subTriggerId]) => {\n                return {\n                    role: 'menu',\n                    hidden: $subIsVisible ? undefined : true,\n                    style: styleToString({\n                        display: $subIsVisible ? undefined : 'none',\n                    }),\n                    id: $subMenuId,\n                    'aria-labelledby': $subTriggerId,\n                    'data-state': $subIsVisible ? 'open' : 'closed',\n                    // unit tests fail on `.closest` if the id starts with a number\n                    // so using a data attribute\n                    'data-id': $subMenuId,\n                    tabindex: -1,\n                };\n            },\n            action: (node) => {\n                let unsubPopper = noop;\n                const unsubDerived = effect([subIsVisible, positioning], ([$subIsVisible, $positioning]) => {\n                    unsubPopper();\n                    if (!$subIsVisible)\n                        return;\n                    const activeTrigger = subActiveTrigger.get();\n                    if (!activeTrigger)\n                        return;\n                    tick().then(() => {\n                        const parentMenuEl = getParentMenu(activeTrigger);\n                        const popper = usePopper(node, {\n                            anchorElement: activeTrigger,\n                            open: subOpen,\n                            options: {\n                                floating: $positioning,\n                                portal: isHTMLElement(parentMenuEl) ? parentMenuEl : undefined,\n                                modal: null,\n                                focusTrap: null,\n                                escapeKeydown: null,\n                            },\n                        });\n                        if (popper && popper.destroy) {\n                            unsubPopper = popper.destroy;\n                        }\n                    });\n                });\n                const unsubEvents = executeCallbacks(addMeltEventListener(node, 'keydown', (e) => {\n                    if (e.key === kbd.ESCAPE) {\n                        return;\n                    }\n                    // Submenu key events bubble through portals.\n                    // We only want the keys in this menu.\n                    const target = e.target;\n                    const menuEl = e.currentTarget;\n                    if (!isHTMLElement(target) || !isHTMLElement(menuEl))\n                        return;\n                    const isKeyDownInside = target.closest('[role=\"menu\"]') === menuEl;\n                    if (!isKeyDownInside)\n                        return;\n                    if (FIRST_LAST_KEYS.includes(e.key)) {\n                        // prevent events from bubbling\n                        e.stopImmediatePropagation();\n                        handleMenuNavigation(e, loop.get() ?? false);\n                        return;\n                    }\n                    const isCloseKey = SUB_CLOSE_KEYS['ltr'].includes(e.key);\n                    const isModifierKey = e.ctrlKey || e.altKey || e.metaKey;\n                    const isCharacterKey = e.key.length === 1;\n                    // close the submenu if the user presses a close key\n                    if (isCloseKey) {\n                        const $subActiveTrigger = subActiveTrigger.get();\n                        e.preventDefault();\n                        subOpen.update(() => {\n                            if ($subActiveTrigger) {\n                                handleRovingFocus($subActiveTrigger);\n                            }\n                            return false;\n                        });\n                        return;\n                    }\n                    /**\n                     * Menus should not be navigated using tab, so we prevent it.\n                     * @see https://www.w3.org/WAI/ARIA/apg/practices/keyboard-interface/#kbd_general_within\n                     */\n                    if (e.key === kbd.TAB) {\n                        e.preventDefault();\n                        rootOpen.set(false);\n                        handleTabNavigation(e, nextFocusable, prevFocusable);\n                        return;\n                    }\n                    if (!isModifierKey && isCharacterKey && typeahead.get() === true) {\n                        // typeahead logic\n                        handleTypeaheadSearch(e.key, getMenuItems(menuEl));\n                    }\n                }), addMeltEventListener(node, 'pointermove', (e) => {\n                    onMenuPointerMove(e);\n                }), addMeltEventListener(node, 'focusout', (e) => {\n                    const $subActiveTrigger = subActiveTrigger.get();\n                    if (isUsingKeyboard.get()) {\n                        const target = e.target;\n                        const submenuEl = document.getElementById(subIds.menu.get());\n                        if (!isHTMLElement(submenuEl) || !isHTMLElement(target))\n                            return;\n                        if (!submenuEl.contains(target) && target !== $subActiveTrigger) {\n                            subOpen.set(false);\n                        }\n                    }\n                    else {\n                        const menuEl = e.currentTarget;\n                        const relatedTarget = e.relatedTarget;\n                        if (!isHTMLElement(relatedTarget) || !isHTMLElement(menuEl))\n                            return;\n                        if (!menuEl.contains(relatedTarget) && relatedTarget !== $subActiveTrigger) {\n                            subOpen.set(false);\n                        }\n                    }\n                }));\n                return {\n                    destroy() {\n                        unsubDerived();\n                        unsubPopper();\n                        unsubEvents();\n                    },\n                };\n            },\n        });\n        const subTrigger = makeElement(name('subtrigger'), {\n            stores: [subOpen, disabled, subIds.menu, subIds.trigger],\n            returned: ([$subOpen, $disabled, $subMenuId, $subTriggerId]) => {\n                return {\n                    role: 'menuitem',\n                    id: $subTriggerId,\n                    tabindex: -1,\n                    'aria-controls': $subMenuId,\n                    'aria-expanded': $subOpen,\n                    'data-state': $subOpen ? 'open' : 'closed',\n                    'data-disabled': disabledAttr($disabled),\n                    'aria-haspopop': 'menu',\n                };\n            },\n            action: (node) => {\n                setMeltMenuAttribute(node, selector);\n                applyAttrsIfDisabled(node);\n                subActiveTrigger.update((p) => {\n                    if (p)\n                        return p;\n                    return node;\n                });\n                const unsubTimer = () => {\n                    clearTimerStore(subOpenTimer);\n                    window.clearTimeout(pointerGraceTimer.get());\n                    pointerGraceIntent.set(null);\n                };\n                const unsubEvents = executeCallbacks(addMeltEventListener(node, 'click', (e) => {\n                    if (e.defaultPrevented)\n                        return;\n                    const triggerEl = e.currentTarget;\n                    if (!isHTMLElement(triggerEl) || isElementDisabled(triggerEl))\n                        return;\n                    // Manually focus because iOS Safari doesn't always focus on click (e.g. buttons)\n                    handleRovingFocus(triggerEl);\n                    if (!subOpen.get()) {\n                        subOpen.update((prev) => {\n                            const isAlreadyOpen = prev;\n                            if (!isAlreadyOpen) {\n                                subActiveTrigger.set(triggerEl);\n                                return !prev;\n                            }\n                            return prev;\n                        });\n                    }\n                }), addMeltEventListener(node, 'keydown', (e) => {\n                    const $typed = typed.get();\n                    const triggerEl = e.currentTarget;\n                    if (!isHTMLElement(triggerEl) || isElementDisabled(triggerEl))\n                        return;\n                    const isTypingAhead = $typed.length > 0;\n                    if (isTypingAhead && e.key === kbd.SPACE)\n                        return;\n                    if (SUB_OPEN_KEYS['ltr'].includes(e.key)) {\n                        if (!subOpen.get()) {\n                            triggerEl.click();\n                            e.preventDefault();\n                            return;\n                        }\n                        const menuId = triggerEl.getAttribute('aria-controls');\n                        if (!menuId)\n                            return;\n                        const menuEl = document.getElementById(menuId);\n                        if (!isHTMLElement(menuEl))\n                            return;\n                        const firstItem = getMenuItems(menuEl)[0];\n                        handleRovingFocus(firstItem);\n                    }\n                }), addMeltEventListener(node, 'pointermove', (e) => {\n                    if (!isMouse(e))\n                        return;\n                    onItemEnter(e);\n                    if (e.defaultPrevented)\n                        return;\n                    const triggerEl = e.currentTarget;\n                    if (!isHTMLElement(triggerEl))\n                        return;\n                    if (!isFocusWithinSubmenu(subIds.menu.get())) {\n                        handleRovingFocus(triggerEl);\n                    }\n                    const openTimer = subOpenTimer.get();\n                    if (!subOpen.get() && !openTimer && !isElementDisabled(triggerEl)) {\n                        subOpenTimer.set(window.setTimeout(() => {\n                            subOpen.update(() => {\n                                subActiveTrigger.set(triggerEl);\n                                return true;\n                            });\n                            clearTimerStore(subOpenTimer);\n                        }, 100));\n                    }\n                }), addMeltEventListener(node, 'pointerleave', (e) => {\n                    if (!isMouse(e))\n                        return;\n                    clearTimerStore(subOpenTimer);\n                    const submenuEl = document.getElementById(subIds.menu.get());\n                    const contentRect = submenuEl?.getBoundingClientRect();\n                    if (contentRect) {\n                        const side = submenuEl?.dataset.side;\n                        const rightSide = side === 'right';\n                        const bleed = rightSide ? -5 : +5;\n                        const contentNearEdge = contentRect[rightSide ? 'left' : 'right'];\n                        const contentFarEdge = contentRect[rightSide ? 'right' : 'left'];\n                        pointerGraceIntent.set({\n                            area: [\n                                // Apply a bleed on clientX to ensure that our exit point is\n                                // consistently within polygon bounds\n                                { x: e.clientX + bleed, y: e.clientY },\n                                { x: contentNearEdge, y: contentRect.top },\n                                { x: contentFarEdge, y: contentRect.top },\n                                { x: contentFarEdge, y: contentRect.bottom },\n                                { x: contentNearEdge, y: contentRect.bottom },\n                            ],\n                            side,\n                        });\n                        window.clearTimeout(pointerGraceTimer.get());\n                        pointerGraceTimer.set(window.setTimeout(() => {\n                            pointerGraceIntent.set(null);\n                        }, 300));\n                    }\n                    else {\n                        onTriggerLeave(e);\n                        if (e.defaultPrevented)\n                            return;\n                        // There's 100ms where the user may leave an item before the submenu was opened.\n                        pointerGraceIntent.set(null);\n                    }\n                }), addMeltEventListener(node, 'focusout', (e) => {\n                    const triggerEl = e.currentTarget;\n                    if (!isHTMLElement(triggerEl))\n                        return;\n                    removeHighlight(triggerEl);\n                    const relatedTarget = e.relatedTarget;\n                    if (!isHTMLElement(relatedTarget))\n                        return;\n                    const menuId = triggerEl.getAttribute('aria-controls');\n                    if (!menuId)\n                        return;\n                    const menu = document.getElementById(menuId);\n                    if (menu && !menu.contains(relatedTarget)) {\n                        subOpen.set(false);\n                    }\n                }), addMeltEventListener(node, 'focusin', (e) => {\n                    onItemFocusIn(e);\n                }));\n                return {\n                    destroy() {\n                        unsubTimer();\n                        unsubEvents();\n                    },\n                };\n            },\n        });\n        const subArrow = makeElement(name('subarrow'), {\n            stores: arrowSize,\n            returned: ($arrowSize) => ({\n                'data-arrow': true,\n                style: styleToString({\n                    position: 'absolute',\n                    width: `var(--arrow-size, ${$arrowSize}px)`,\n                    height: `var(--arrow-size, ${$arrowSize}px)`,\n                }),\n            }),\n        });\n        /* -------------------------------------------------------------------------------------------------\n         * Sub Menu Effects\n         * -----------------------------------------------------------------------------------------------*/\n        effect([rootOpen], ([$rootOpen]) => {\n            if (!$rootOpen) {\n                subActiveTrigger.set(null);\n                subOpen.set(false);\n            }\n        });\n        effect([pointerGraceIntent], ([$pointerGraceIntent]) => {\n            if (!isBrowser || $pointerGraceIntent)\n                return;\n            window.clearTimeout(pointerGraceTimer.get());\n        });\n        effect([subOpen], ([$subOpen]) => {\n            if (!isBrowser)\n                return;\n            if ($subOpen && isUsingKeyboard.get()) {\n                sleep(1).then(() => {\n                    const menuEl = document.getElementById(subIds.menu.get());\n                    if (!menuEl)\n                        return;\n                    const menuItems = getMenuItems(menuEl);\n                    if (!menuItems.length)\n                        return;\n                    handleRovingFocus(menuItems[0]);\n                });\n            }\n            if (!$subOpen) {\n                const focusedItem = currentFocusedItem.get();\n                const subTriggerEl = document.getElementById(subIds.trigger.get());\n                if (focusedItem) {\n                    sleep(1).then(() => {\n                        const menuEl = document.getElementById(subIds.menu.get());\n                        if (!menuEl)\n                            return;\n                        if (menuEl.contains(focusedItem)) {\n                            removeHighlight(focusedItem);\n                        }\n                    });\n                }\n                if (!subTriggerEl || document.activeElement === subTriggerEl)\n                    return;\n                removeHighlight(subTriggerEl);\n            }\n        });\n        return {\n            ids: subIds,\n            elements: {\n                subTrigger,\n                subMenu,\n                subArrow,\n            },\n            states: {\n                subOpen,\n            },\n            options,\n        };\n    };\n    safeOnMount(() => {\n        /**\n         * We need to set the active trigger on mount to cover the\n         * case where the user sets the `open` store to `true` without\n         * clicking on the trigger.\n         */\n        const triggerEl = document.getElementById(rootIds.trigger.get());\n        if (isHTMLElement(triggerEl) && rootOpen.get()) {\n            rootActiveTrigger.set(triggerEl);\n        }\n        const unsubs = [];\n        const handlePointer = () => isUsingKeyboard.set(false);\n        const handleKeyDown = () => {\n            isUsingKeyboard.set(true);\n            unsubs.push(executeCallbacks(addEventListener(document, 'pointerdown', handlePointer, { capture: true, once: true }), addEventListener(document, 'pointermove', handlePointer, { capture: true, once: true })));\n        };\n        const keydownListener = (e) => {\n            if (e.key === kbd.ESCAPE && closeOnEscape.get()) {\n                rootOpen.set(false);\n                return;\n            }\n        };\n        unsubs.push(addEventListener(document, 'keydown', handleKeyDown, { capture: true }));\n        unsubs.push(addEventListener(document, 'keydown', keydownListener));\n        return () => {\n            unsubs.forEach((unsub) => unsub());\n        };\n    });\n    /* -------------------------------------------------------------------------------------------------\n     * Root Effects\n     * -----------------------------------------------------------------------------------------------*/\n    effect([rootOpen, currentFocusedItem], ([$rootOpen, $currentFocusedItem]) => {\n        if (!$rootOpen && $currentFocusedItem) {\n            removeHighlight($currentFocusedItem);\n        }\n    });\n    effect([rootOpen], ([$rootOpen]) => {\n        if (!isBrowser)\n            return;\n        if (!$rootOpen) {\n            const $rootActiveTrigger = rootActiveTrigger.get();\n            if (!$rootActiveTrigger)\n                return;\n            const $closeFocus = closeFocus.get();\n            if (!$rootOpen && $rootActiveTrigger) {\n                handleFocus({ prop: $closeFocus, defaultEl: $rootActiveTrigger });\n            }\n        }\n    });\n    effect([rootOpen, preventScroll], ([$rootOpen, $preventScroll]) => {\n        if (!isBrowser)\n            return;\n        const unsubs = [];\n        if (opts.removeScroll && $rootOpen && $preventScroll) {\n            unsubs.push(removeScroll());\n        }\n        // if the menu is open, we'll sleep for a sec so the menu can render\n        // before we focus on either the first item or the menu itself.\n        sleep(1).then(() => {\n            const menuEl = document.getElementById(rootIds.menu.get());\n            if (menuEl && $rootOpen && isUsingKeyboard.get()) {\n                if (disableFocusFirstItem.get()) {\n                    handleRovingFocus(menuEl);\n                    return;\n                }\n                // Get menu items belonging to the root menu\n                const menuItems = getMenuItems(menuEl);\n                if (!menuItems.length)\n                    return;\n                // Focus on first menu item\n                handleRovingFocus(menuItems[0]);\n            }\n        });\n        return () => {\n            unsubs.forEach((unsub) => unsub());\n        };\n    });\n    effect(rootOpen, ($rootOpen) => {\n        if (!isBrowser)\n            return;\n        const handlePointer = () => isUsingKeyboard.set(false);\n        const handleKeyDown = (e) => {\n            isUsingKeyboard.set(true);\n            if (e.key === kbd.ESCAPE && $rootOpen && closeOnEscape.get()) {\n                rootOpen.set(false);\n                return;\n            }\n        };\n        return executeCallbacks(addEventListener(document, 'pointerdown', handlePointer, { capture: true, once: true }), addEventListener(document, 'pointermove', handlePointer, { capture: true, once: true }), addEventListener(document, 'keydown', handleKeyDown, { capture: true }));\n    });\n    function handleOpen(triggerEl) {\n        rootOpen.update((prev) => {\n            const isOpen = !prev;\n            if (isOpen) {\n                nextFocusable.set(getNextFocusable(triggerEl));\n                prevFocusable.set(getPreviousFocusable(triggerEl));\n                rootActiveTrigger.set(triggerEl);\n            }\n            return isOpen;\n        });\n    }\n    /* -------------------------------------------------------------------------------------------------\n     * Pointer Event Effects\n     * -----------------------------------------------------------------------------------------------*/\n    function onItemFocusIn(e) {\n        const itemEl = e.currentTarget;\n        if (!isHTMLElement(itemEl))\n            return;\n        const $currentFocusedItem = currentFocusedItem.get();\n        if ($currentFocusedItem) {\n            removeHighlight($currentFocusedItem);\n        }\n        addHighlight(itemEl);\n        /**\n         * Accomodates for Firefox focus event behavior, which differs\n         * from other browsers. We're setting the current focused item\n         * so when we close the menu, we can remove the data-highlighted\n         * attribute from the item, since a blur nor focusout event will be fired\n         * when the menu is closed via `clickOutside` or the ESC key.\n         */\n        currentFocusedItem.set(itemEl);\n    }\n    /**\n     * Each of the menu items share the same focusout event handler.\n     */\n    function onItemFocusOut(e) {\n        const itemEl = e.currentTarget;\n        if (!isHTMLElement(itemEl))\n            return;\n        removeHighlight(itemEl);\n    }\n    function onItemEnter(e) {\n        if (isPointerMovingToSubmenu(e)) {\n            e.preventDefault();\n        }\n    }\n    function onItemLeave(e) {\n        if (isPointerMovingToSubmenu(e)) {\n            return;\n        }\n        const target = e.target;\n        if (!isHTMLElement(target))\n            return;\n        const parentMenuEl = getParentMenu(target);\n        if (!parentMenuEl)\n            return;\n        handleRovingFocus(parentMenuEl);\n    }\n    function onTriggerLeave(e) {\n        if (isPointerMovingToSubmenu(e)) {\n            e.preventDefault();\n        }\n    }\n    function onMenuPointerMove(e) {\n        if (!isMouse(e))\n            return;\n        const target = e.target;\n        const currentTarget = e.currentTarget;\n        if (!isHTMLElement(currentTarget) || !isHTMLElement(target))\n            return;\n        const $lastPointerX = lastPointerX.get();\n        const pointerXHasChanged = $lastPointerX !== e.clientX;\n        // We don't use `e.movementX` for this check because Safari will\n        // always return `0` on a pointer e.\n        if (currentTarget.contains(target) && pointerXHasChanged) {\n            const newDir = e.clientX > $lastPointerX ? 'right' : 'left';\n            pointerDir.set(newDir);\n            lastPointerX.set(e.clientX);\n        }\n    }\n    function onMenuItemPointerMove(e, currTarget = null) {\n        if (!isMouse(e))\n            return;\n        onItemEnter(e);\n        if (e.defaultPrevented)\n            return;\n        // if we've already checked the current target, we don't need to again\n        if (currTarget) {\n            handleRovingFocus(currTarget);\n            return;\n        }\n        // otherwise we will\n        const currentTarget = e.currentTarget;\n        if (!isHTMLElement(currentTarget))\n            return;\n        // focus on the current menu item\n        handleRovingFocus(currentTarget);\n    }\n    function onMenuItemPointerLeave(e) {\n        if (!isMouse(e))\n            return;\n        onItemLeave(e);\n    }\n    /* -------------------------------------------------------------------------------------------------\n     * Helper Functions\n     * -----------------------------------------------------------------------------------------------*/\n    function onItemKeyDown(e) {\n        const $typed = typed.get();\n        const isTypingAhead = $typed.length > 0;\n        if (isTypingAhead && e.key === kbd.SPACE) {\n            e.preventDefault();\n            return;\n        }\n        if (SELECTION_KEYS.includes(e.key)) {\n            /**\n             * We prevent default browser behaviour for selection keys as they should trigger\n             * a selection only:\n             * - prevents space from scrolling the page.\n             * - if keydown causes focus to move, prevents keydown from firing on the new target.\n             */\n            e.preventDefault();\n            const itemEl = e.currentTarget;\n            if (!isHTMLElement(itemEl))\n                return;\n            itemEl.click();\n        }\n    }\n    function isIndeterminate(checked) {\n        return checked === 'indeterminate';\n    }\n    function getCheckedState(checked) {\n        return isIndeterminate(checked) ? 'indeterminate' : checked ? 'checked' : 'unchecked';\n    }\n    function isPointerMovingToSubmenu(e) {\n        return pointerMovingToSubmenu.get()(e);\n    }\n    /**\n     * Get the parent menu element for a menu item.\n     * @param element The menu item element\n     */\n    function getParentMenu(element) {\n        const parentMenuEl = element.closest('[role=\"menu\"]');\n        if (!isHTMLElement(parentMenuEl))\n            return null;\n        return parentMenuEl;\n    }\n    return {\n        elements: {\n            trigger: rootTrigger,\n            menu: rootMenu,\n            overlay,\n            item,\n            group,\n            groupLabel,\n            arrow: rootArrow,\n            separator,\n        },\n        builders: {\n            createCheckboxItem,\n            createSubmenu,\n            createMenuRadioGroup,\n        },\n        states: {\n            open: rootOpen,\n        },\n        helpers: {\n            handleTypeaheadSearch,\n        },\n        ids: rootIds,\n        options: opts.rootOptions,\n    };\n}\nexport function handleTabNavigation(e, nextFocusable, prevFocusable) {\n    if (e.shiftKey) {\n        const $prevFocusable = prevFocusable.get();\n        if ($prevFocusable) {\n            e.preventDefault();\n            sleep(1).then(() => $prevFocusable.focus());\n            prevFocusable.set(null);\n        }\n    }\n    else {\n        const $nextFocusable = nextFocusable.get();\n        if ($nextFocusable) {\n            e.preventDefault();\n            sleep(1).then(() => $nextFocusable.focus());\n            nextFocusable.set(null);\n        }\n    }\n}\n/**\n * Get the menu items for a given menu element.\n * This only selects menu items that are direct children of the menu element,\n * not menu items that are nested in submenus.\n * @param element The menu item element\n */\nexport function getMenuItems(menuElement) {\n    return Array.from(menuElement.querySelectorAll(`[data-melt-menu-id=\"${menuElement.id}\"]`)).filter((item) => isHTMLElement(item));\n}\nexport function applyAttrsIfDisabled(element) {\n    if (!element || !isElementDisabled(element))\n        return;\n    element.setAttribute('data-disabled', '');\n    element.setAttribute('aria-disabled', 'true');\n}\n/**\n * Given a timer store, clear the timeout and set the store to null\n * @param openTimer The timer store\n */\nexport function clearTimerStore(timerStore) {\n    if (!isBrowser)\n        return;\n    const timer = timerStore.get();\n    if (timer) {\n        window.clearTimeout(timer);\n        timerStore.set(null);\n    }\n}\n/**\n * Check if the event is a mouse event\n * @param e The pointer event\n */\nfunction isMouse(e) {\n    return e.pointerType === 'mouse';\n}\n/**\n * Set the `data-melt-menu-id` attribute on a menu item element.\n * @param element The menu item element\n */\nexport function setMeltMenuAttribute(element, selector) {\n    if (!element)\n        return;\n    const menuEl = element.closest(`${selector()}, ${selector('submenu')}`);\n    if (!isHTMLElement(menuEl))\n        return;\n    element.setAttribute('data-melt-menu-id', menuEl.id);\n}\n/**\n * Keyboard event handler for menu navigation\n * @param e The keyboard event\n */\nexport function handleMenuNavigation(e, loop) {\n    e.preventDefault();\n    // currently focused menu item\n    const currentFocusedItem = document.activeElement;\n    // menu element being navigated\n    const currentTarget = e.currentTarget;\n    if (!isHTMLElement(currentFocusedItem) || !isHTMLElement(currentTarget))\n        return;\n    // menu items of the current menu\n    const menuItems = getMenuItems(currentTarget);\n    if (!menuItems.length)\n        return;\n    const candidateNodes = menuItems.filter((item) => {\n        if (item.hasAttribute('data-disabled') || item.getAttribute('disabled') === 'true') {\n            return false;\n        }\n        return true;\n    });\n    // Index of the currently focused item in the candidate nodes array\n    const currentIndex = candidateNodes.indexOf(currentFocusedItem);\n    // Calculate the index of the next menu item\n    let nextIndex;\n    switch (e.key) {\n        case kbd.ARROW_DOWN:\n            if (loop) {\n                nextIndex = currentIndex < candidateNodes.length - 1 ? currentIndex + 1 : 0;\n            }\n            else {\n                nextIndex = currentIndex < candidateNodes.length - 1 ? currentIndex + 1 : currentIndex;\n            }\n            break;\n        case kbd.ARROW_UP:\n            if (loop) {\n                nextIndex = currentIndex > 0 ? currentIndex - 1 : candidateNodes.length - 1;\n            }\n            else {\n                nextIndex =\n                    currentIndex < 0 ? candidateNodes.length - 1 : currentIndex > 0 ? currentIndex - 1 : 0;\n            }\n            break;\n        case kbd.HOME:\n            nextIndex = 0;\n            break;\n        case kbd.END:\n            nextIndex = candidateNodes.length - 1;\n            break;\n        default:\n            return;\n    }\n    handleRovingFocus(candidateNodes[nextIndex]);\n}\nfunction isPointerInGraceArea(e, area) {\n    if (!area)\n        return false;\n    const cursorPos = { x: e.clientX, y: e.clientY };\n    return isPointInPolygon(cursorPos, area);\n}\n/**\n * Determine if a point is inside of a polygon.\n *\n * @see https://github.com/substack/point-in-polygon\n */\nfunction isPointInPolygon(point, polygon) {\n    const { x, y } = point;\n    let inside = false;\n    for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n        const xi = polygon[i].x;\n        const yi = polygon[i].y;\n        const xj = polygon[j].x;\n        const yj = polygon[j].y;\n        // prettier-ignore\n        const intersect = ((yi > y) !== (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect)\n            inside = !inside;\n    }\n    return inside;\n}\nfunction isFocusWithinSubmenu(submenuId) {\n    const activeEl = document.activeElement;\n    if (!isHTMLElement(activeEl))\n        return false;\n    // unit tests don't allow `.closest(#id)` to start with a number\n    // so we're using a data attribute.\n    const submenuEl = activeEl.closest(`[data-id=\"${submenuId}\"]`);\n    return isHTMLElement(submenuEl);\n}\nfunction stateAttr(open) {\n    return open ? 'open' : 'closed';\n}\n","import { overridable, toWritableStores } from '../../internal/helpers/index.js';\nimport { withGet } from '../../internal/helpers/withGet.js';\nimport { writable } from 'svelte/store';\nimport { omit } from '../../internal/helpers/object.js';\nimport { createMenuBuilder } from '../menu/index.js';\nconst defaults = {\n    arrowSize: 8,\n    positioning: {\n        placement: 'bottom',\n    },\n    preventScroll: true,\n    closeOnEscape: true,\n    closeOnOutsideClick: true,\n    portal: undefined,\n    loop: false,\n    dir: 'ltr',\n    defaultOpen: false,\n    forceVisible: false,\n    typeahead: true,\n    closeFocus: undefined,\n    disableFocusFirstItem: false,\n    closeOnItemClick: true,\n    onOutsideClick: undefined,\n};\nexport function createDropdownMenu(props) {\n    const withDefaults = { ...defaults, ...props };\n    const rootOptions = toWritableStores(omit(withDefaults, 'ids'));\n    const openWritable = withDefaults.open ?? writable(withDefaults.defaultOpen);\n    const rootOpen = overridable(openWritable, withDefaults?.onOpenChange);\n    const rootActiveTrigger = withGet(writable(null));\n    const nextFocusable = withGet(writable(null));\n    const prevFocusable = withGet(writable(null));\n    const { elements, builders, ids, states, options } = createMenuBuilder({\n        rootOptions,\n        rootOpen,\n        rootActiveTrigger: withGet(rootActiveTrigger),\n        nextFocusable: withGet(nextFocusable),\n        prevFocusable: withGet(prevFocusable),\n        selector: 'dropdown-menu',\n        removeScroll: true,\n        ids: withDefaults.ids,\n    });\n    return {\n        ids,\n        elements,\n        states,\n        builders,\n        options,\n    };\n}\n","import { makeElement, toWritableStores } from '../../internal/helpers/index.js';\nconst defaults = {\n    orientation: 'horizontal',\n    decorative: false,\n};\nexport const createSeparator = (props) => {\n    const withDefaults = { ...defaults, ...props };\n    const options = toWritableStores(withDefaults);\n    const { orientation, decorative } = options;\n    const root = makeElement('separator', {\n        stores: [orientation, decorative],\n        returned: ([$orientation, $decorative]) => {\n            const ariaOrientation = $orientation === 'vertical' ? $orientation : undefined;\n            return {\n                role: $decorative ? 'none' : 'separator',\n                'aria-orientation': ariaOrientation,\n                'aria-hidden': $decorative,\n                'data-orientation': $orientation,\n            };\n        },\n    });\n    return {\n        elements: {\n            root,\n        },\n        options,\n    };\n};\n","export function getPositioningUpdater(store) {\n    return (props = {}) => {\n        return updatePositioning(store, props);\n    };\n}\nexport function updatePositioning(store, props) {\n    const defaultPositioningProps = {\n        side: \"bottom\",\n        align: \"center\",\n        sideOffset: 0,\n        alignOffset: 0,\n        sameWidth: false,\n        avoidCollisions: true,\n        collisionPadding: 8,\n        fitViewport: false,\n        strategy: \"absolute\",\n        overlap: false,\n    };\n    const withDefaults = { ...defaultPositioningProps, ...props };\n    store.update((prev) => {\n        return {\n            ...prev,\n            placement: joinPlacement(withDefaults.side, withDefaults.align),\n            offset: {\n                ...prev.offset,\n                mainAxis: withDefaults.sideOffset,\n                crossAxis: withDefaults.alignOffset,\n            },\n            gutter: 0,\n            sameWidth: withDefaults.sameWidth,\n            flip: withDefaults.avoidCollisions,\n            overflowPadding: withDefaults.collisionPadding,\n            boundary: withDefaults.collisionBoundary,\n            fitViewport: withDefaults.fitViewport,\n            strategy: withDefaults.strategy,\n            overlap: withDefaults.overlap,\n        };\n    });\n}\nfunction joinPlacement(side, align) {\n    if (align === \"center\")\n        return side;\n    return `${side}-${align}`;\n}\n","import { createBitAttrs, generateId, getOptionUpdater, removeUndefined, } from \"../../internal/index.js\";\nimport { createDropdownMenu, } from \"@melt-ui/svelte\";\nimport { getContext, setContext } from \"svelte\";\nimport { getPositioningUpdater } from \"../floating/helpers.js\";\nexport function getMenuData() {\n    const NAME = \"menu\";\n    const SUB_NAME = \"menu-submenu\";\n    const RADIO_GROUP_NAME = \"menu-radiogroup\";\n    const CHECKBOX_ITEM_NAME = \"menu-checkboxitem\";\n    const RADIO_ITEM_NAME = \"menu-radioitem\";\n    const GROUP_NAME = \"menu-group\";\n    const PARTS = [\n        \"arrow\",\n        \"checkbox-indicator\",\n        \"checkbox-item\",\n        \"content\",\n        \"group\",\n        \"item\",\n        \"label\",\n        \"radio-group\",\n        \"radio-item\",\n        \"radio-indicator\",\n        \"separator\",\n        \"sub-content\",\n        \"sub-trigger\",\n        \"trigger\",\n    ];\n    return {\n        NAME,\n        SUB_NAME,\n        RADIO_GROUP_NAME,\n        CHECKBOX_ITEM_NAME,\n        RADIO_ITEM_NAME,\n        GROUP_NAME,\n        PARTS,\n    };\n}\nexport function getCtx() {\n    const { NAME } = getMenuData();\n    return getContext(NAME);\n}\nexport function setCtx(props) {\n    const { NAME, PARTS } = getMenuData();\n    const getAttrs = createBitAttrs(\"menu\", PARTS);\n    const dropdownMenu = {\n        ...createDropdownMenu({ ...removeUndefined(props), forceVisible: true }),\n        getAttrs,\n    };\n    setContext(NAME, dropdownMenu);\n    return {\n        ...dropdownMenu,\n        updateOption: getOptionUpdater(dropdownMenu.options),\n    };\n}\nexport function setSubMenuCtx(props) {\n    const { SUB_NAME } = getMenuData();\n    const { builders: { createSubmenu }, getAttrs, } = getCtx();\n    const sub = { ...createSubmenu(removeUndefined(props)), getAttrs };\n    setContext(SUB_NAME, sub);\n    return {\n        ...sub,\n        updateOption: getOptionUpdater(sub.options),\n    };\n}\nexport function setRadioGroupCtx(props) {\n    const { RADIO_GROUP_NAME } = getMenuData();\n    const { builders: { createMenuRadioGroup }, getAttrs, } = getCtx();\n    const radioGroup = createMenuRadioGroup(props);\n    setContext(RADIO_GROUP_NAME, { ...radioGroup, getAttrs });\n    return {\n        ...radioGroup,\n        getAttrs,\n    };\n}\nexport function setRadioItem(value) {\n    const { RADIO_ITEM_NAME, RADIO_GROUP_NAME } = getMenuData();\n    const dropdownMenu = getContext(RADIO_GROUP_NAME);\n    setContext(RADIO_ITEM_NAME, { ...dropdownMenu, value });\n    return {\n        ...dropdownMenu,\n        value,\n    };\n}\nexport function getRadioIndicator() {\n    const { RADIO_ITEM_NAME } = getMenuData();\n    const radioItem = getContext(RADIO_ITEM_NAME);\n    return {\n        ...radioItem,\n    };\n}\nexport function getSubTrigger() {\n    const { SUB_NAME } = getMenuData();\n    const submenu = getContext(SUB_NAME);\n    return submenu;\n}\nexport function getSubmenuCtx() {\n    const { SUB_NAME } = getMenuData();\n    return getContext(SUB_NAME);\n}\nexport function setCheckboxItem(props) {\n    const { CHECKBOX_ITEM_NAME } = getMenuData();\n    const { builders: { createCheckboxItem }, getAttrs, } = getCtx();\n    const checkboxItem = createCheckboxItem(removeUndefined(props));\n    setContext(CHECKBOX_ITEM_NAME, checkboxItem.states.checked);\n    return {\n        ...checkboxItem,\n        updateOption: getOptionUpdater(checkboxItem.options),\n        getAttrs,\n    };\n}\nexport function getCheckboxIndicator() {\n    const { CHECKBOX_ITEM_NAME } = getMenuData();\n    return getContext(CHECKBOX_ITEM_NAME);\n}\nexport function setGroupCtx() {\n    const { GROUP_NAME } = getMenuData();\n    const { elements: { group }, getAttrs, } = getCtx();\n    const id = generateId();\n    setContext(GROUP_NAME, id);\n    return { group, id, getAttrs };\n}\nexport function getGroupLabel() {\n    const { GROUP_NAME } = getMenuData();\n    const id = getContext(GROUP_NAME) ?? generateId();\n    const { elements: { groupLabel }, getAttrs, } = getCtx();\n    return { groupLabel, id, getAttrs };\n}\nexport function setArrow(size = 8) {\n    const menu = getCtx();\n    menu.options.arrowSize.set(size);\n    return menu;\n}\nexport function updatePositioning(props) {\n    const defaultPlacement = {\n        side: \"bottom\",\n        align: \"center\",\n    };\n    const withDefaults = { ...defaultPlacement, ...props };\n    const { options: { positioning }, } = getCtx();\n    const updater = getPositioningUpdater(positioning);\n    updater(withDefaults);\n}\nexport function updateSubPositioning(props) {\n    const defaultSubPlacement = {\n        side: \"right\",\n        align: \"start\",\n    };\n    const withDefaults = { ...defaultSubPlacement, ...props };\n    const { options: { positioning }, } = getSubmenuCtx();\n    const updater = getPositioningUpdater(positioning);\n    updater(withDefaults);\n}\n","<script>import { setCtx } from \"../ctx.js\";\nimport { derived } from \"svelte/store\";\nexport let closeOnOutsideClick = void 0;\nexport let closeOnEscape = void 0;\nexport let portal = void 0;\nexport let open = void 0;\nexport let onOpenChange = void 0;\nexport let preventScroll = void 0;\nexport let loop = void 0;\nexport let dir = void 0;\nexport let typeahead = void 0;\nexport let closeFocus = void 0;\nexport let disableFocusFirstItem = void 0;\nexport let closeOnItemClick = void 0;\nexport let onOutsideClick = void 0;\nconst {\n  states: { open: localOpen },\n  updateOption,\n  ids\n} = setCtx({\n  closeOnOutsideClick,\n  closeOnEscape,\n  portal,\n  forceVisible: true,\n  defaultOpen: open,\n  preventScroll,\n  loop,\n  dir,\n  typeahead,\n  closeFocus,\n  disableFocusFirstItem,\n  closeOnItemClick,\n  onOutsideClick,\n  onOpenChange: ({ next }) => {\n    if (open !== next) {\n      onOpenChange?.(next);\n      open = next;\n    }\n    return next;\n  }\n});\nconst idValues = derived([ids.menu, ids.trigger], ([$menuId, $triggerId]) => ({\n  menu: $menuId,\n  trigger: $triggerId\n}));\n$:\n  open !== void 0 && localOpen.set(open);\n$:\n  updateOption(\"closeOnOutsideClick\", closeOnOutsideClick);\n$:\n  updateOption(\"closeOnEscape\", closeOnEscape);\n$:\n  updateOption(\"portal\", portal);\n$:\n  updateOption(\"preventScroll\", preventScroll);\n$:\n  updateOption(\"loop\", loop);\n$:\n  updateOption(\"dir\", dir);\n$:\n  updateOption(\"closeFocus\", closeFocus);\n$:\n  updateOption(\"disableFocusFirstItem\", disableFocusFirstItem);\n$:\n  updateOption(\"typeahead\", typeahead);\n$:\n  updateOption(\"closeOnItemClick\", closeOnItemClick);\n$:\n  updateOption(\"onOutsideClick\", onOutsideClick);\n</script>\n\n<slot ids={$idValues} />\n","<script>import { createDispatcher } from \"../../../internal/events.js\";\nimport { melt } from \"@melt-ui/svelte\";\nimport { getCtx, updatePositioning } from \"../ctx.js\";\nexport let transition = void 0;\nexport let transitionConfig = void 0;\nexport let inTransition = void 0;\nexport let inTransitionConfig = void 0;\nexport let outTransition = void 0;\nexport let outTransitionConfig = void 0;\nexport let asChild = false;\nexport let id = void 0;\nexport let side = \"bottom\";\nexport let align = \"center\";\nexport let sideOffset = 0;\nexport let alignOffset = 0;\nexport let collisionPadding = 8;\nexport let avoidCollisions = true;\nexport let collisionBoundary = void 0;\nexport let sameWidth = false;\nexport let fitViewport = false;\nexport let strategy = \"absolute\";\nexport let overlap = false;\nexport let el = void 0;\nconst {\n  elements: { menu },\n  states: { open },\n  ids,\n  getAttrs\n} = getCtx();\nconst dispatch = createDispatcher();\nconst attrs = getAttrs(\"content\");\n$:\n  if (id) {\n    ids.menu.set(id);\n  }\n$:\n  builder = $menu;\n$:\n  Object.assign(builder, attrs);\n$:\n  if ($open) {\n    updatePositioning({\n      side,\n      align,\n      sideOffset,\n      alignOffset,\n      collisionPadding,\n      avoidCollisions,\n      collisionBoundary,\n      sameWidth,\n      fitViewport,\n      strategy,\n      overlap\n    });\n  }\n</script>\n\n{#if asChild && $open}\n\t<slot {builder} />\n{:else if transition && $open}\n\t<div\n\t\tbind:this={el}\n\t\ttransition:transition={transitionConfig}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-keydown={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{:else if inTransition && outTransition && $open}\n\t<div\n\t\tbind:this={el}\n\t\tin:inTransition={inTransitionConfig}\n\t\tout:outTransition={outTransitionConfig}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-keydown={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{:else if inTransition && $open}\n\t<div\n\t\tbind:this={el}\n\t\tin:inTransition={inTransitionConfig}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-keydown={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{:else if outTransition && $open}\n\t<div\n\t\tbind:this={el}\n\t\tout:outTransition={outTransitionConfig}\n\t\t{...builder} use:builder.action\n\t\t{...$$restProps}\n\t\ton:m-keydown={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</div>\n{:else if $open}\n\t<div bind:this={el} {...builder} use:builder.action {...$$restProps} on:m-keydown={dispatch}>\n\t\t<slot {builder} />\n\t</div>\n{/if}\n","<script>import { melt } from \"@melt-ui/svelte\";\nimport { getCtx } from \"../ctx.js\";\nimport { createDispatcher } from \"../../../internal/events.js\";\nexport let asChild = false;\nexport let id = void 0;\nexport let el = void 0;\nconst {\n  elements: { trigger },\n  ids,\n  getAttrs\n} = getCtx();\nconst dispatch = createDispatcher();\nconst attrs = getAttrs(\"trigger\");\n$:\n  if (id) {\n    ids.trigger.set(id);\n  }\n$:\n  builder = $trigger;\n$:\n  Object.assign(builder, attrs);\n</script>\n\n{#if asChild}\n\t<slot {builder} />\n{:else}\n\t<button\n\t\tbind:this={el}\n\t\t{...builder} use:builder.action\n\t\ttype=\"button\"\n\t\t{...$$restProps}\n\t\ton:m-keydown={dispatch}\n\t\ton:m-pointerdown={dispatch}\n\t>\n\t\t<slot {builder} />\n\t</button>\n{/if}\n"],"names":["styleToString","style","defaults","get","defaultConfig","x","y","_createFocusTrap","config","positioning","arrowSize","subTrigger","updatePositioning"],"mappings":"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","x_google_ignoreList":[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]}