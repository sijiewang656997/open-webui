{"version":3,"file":"_page.svelte.js","sources":["../../../../../../../../node_modules/@melt-ui/svelte/dist/builders/pagination/helpers.js","../../../../../../../../node_modules/@melt-ui/svelte/dist/builders/pagination/create.js","../../../../../../../../node_modules/bits-ui/dist/bits/pagination/ctx.js","../../../../../../../../node_modules/bits-ui/dist/bits/pagination/components/pagination.svelte","../../../../../../../../node_modules/bits-ui/dist/bits/pagination/components/pagination-prev-button.svelte","../../../../../../../../node_modules/bits-ui/dist/bits/pagination/components/pagination-next-button.svelte","../../../../../../../../node_modules/bits-ui/dist/bits/pagination/components/pagination-page.svelte","../../../../../../../../src/lib/components/icons/ChevronLeft.svelte","../../../../../../../../src/lib/components/common/Pagination.svelte","../../../../../../../../src/lib/components/icons/ChatBubbles.svelte","../../../../../../../../src/lib/components/admin/Users/UserList/EditUserModal.svelte","../../../../../../../../src/lib/components/admin/Users/UserList/UserChatsModal.svelte","../../../../../../../../src/lib/components/admin/Users/UserList/AddUserModal.svelte","../../../../../../../../src/lib/components/admin/Users/UserList.svelte","../../../../../../../../src/lib/components/admin/Users.svelte"],"sourcesContent":["export function getPageItems({ page = 1, totalPages, siblingCount = 1, }) {\n    const pageItems = [];\n    const pagesToShow = new Set([1, totalPages]);\n    const firstItemWithSiblings = 3 + siblingCount;\n    const lastItemWithSiblings = totalPages - 2 - siblingCount;\n    if (firstItemWithSiblings > lastItemWithSiblings) {\n        for (let p = 2; p <= totalPages - 1; p++) {\n            pagesToShow.add(p);\n        }\n    }\n    else if (page < firstItemWithSiblings) {\n        for (let p = 2; p <= Math.min(firstItemWithSiblings, totalPages); p++) {\n            pagesToShow.add(p);\n        }\n    }\n    else if (page > lastItemWithSiblings) {\n        for (let p = totalPages - 1; p >= Math.max(lastItemWithSiblings, 2); p--) {\n            pagesToShow.add(p);\n        }\n    }\n    else {\n        for (let p = Math.max(page - siblingCount, 2); p <= Math.min(page + siblingCount, totalPages); p++) {\n            pagesToShow.add(p);\n        }\n    }\n    const addPage = (value) => {\n        pageItems.push({ type: 'page', value, key: `page-${value}` });\n    };\n    const addEllipsis = () => {\n        pageItems.push({ type: 'ellipsis', key: `ellipsis-${pageItems.length}` });\n    };\n    let lastNumber = 0;\n    for (const page of Array.from(pagesToShow).sort((a, b) => a - b)) {\n        if (page - lastNumber > 1) {\n            addEllipsis();\n        }\n        addPage(page);\n        lastNumber = page;\n    }\n    return pageItems;\n}\n","import { addMeltEventListener, makeElement, createElHelpers, executeCallbacks, isHTMLElement, kbd, omit, overridable, toWritableStores, } from '../../internal/helpers/index.js';\nimport { derived, readonly, writable } from 'svelte/store';\nimport { getPageItems } from './helpers.js';\nimport { withGet } from '../../internal/helpers/withGet.js';\nconst defaults = {\n    perPage: 1,\n    siblingCount: 1,\n    defaultPage: 1,\n};\nconst { name, selector } = createElHelpers('pagination');\nexport function createPagination(props) {\n    const withDefaults = { ...defaults, ...props };\n    const pageWritable = withDefaults.page ?? writable(withDefaults.defaultPage);\n    const page = overridable(pageWritable, withDefaults?.onPageChange);\n    // options\n    const options = toWritableStores(omit(withDefaults, 'page', 'onPageChange', 'defaultPage'));\n    const { perPage, siblingCount, count } = options;\n    const totalPages = withGet.derived([count, perPage], ([$count, $perPage]) => {\n        return Math.ceil($count / $perPage);\n    });\n    const range = derived([page, perPage, count], ([$page, $perPage, $count]) => {\n        const start = ($page - 1) * $perPage;\n        const end = Math.min(start + $perPage, $count);\n        return { start, end };\n    });\n    const root = makeElement(name(), {\n        returned: () => ({\n            'data-scope': 'pagination',\n        }),\n    });\n    const pages = derived([page, totalPages, siblingCount], ([$page, $totalPages, $siblingCount]) => {\n        return getPageItems({ page: $page, totalPages: $totalPages, siblingCount: $siblingCount });\n    });\n    const keydown = (e) => {\n        const thisEl = e.target;\n        if (!isHTMLElement(thisEl))\n            return;\n        const rootEl = thisEl.closest('[data-scope=\"pagination\"]');\n        if (!isHTMLElement(rootEl))\n            return;\n        const triggers = Array.from(rootEl.querySelectorAll(selector('page'))).filter((el) => isHTMLElement(el));\n        const prevButton = rootEl.querySelector(selector('prev'));\n        const nextButton = rootEl.querySelector(selector('next'));\n        if (isHTMLElement(prevButton)) {\n            triggers.unshift(prevButton);\n        }\n        if (isHTMLElement(nextButton)) {\n            triggers.push(nextButton);\n        }\n        const index = triggers.indexOf(thisEl);\n        if (e.key === kbd.ARROW_LEFT && index !== 0) {\n            e.preventDefault();\n            triggers[index - 1].focus();\n        }\n        else if (e.key === kbd.ARROW_RIGHT && index !== triggers.length - 1) {\n            e.preventDefault();\n            triggers[index + 1].focus();\n        }\n        else if (e.key === kbd.HOME) {\n            e.preventDefault();\n            triggers[0].focus();\n        }\n        else if (e.key === kbd.END) {\n            e.preventDefault();\n            triggers[triggers.length - 1].focus();\n        }\n    };\n    const pageTrigger = makeElement(name('page'), {\n        stores: page,\n        returned: ($page) => {\n            return (pageItem) => {\n                return {\n                    'aria-label': `Page ${pageItem.value}`,\n                    'data-value': pageItem.value,\n                    'data-selected': pageItem.value === $page ? '' : undefined,\n                };\n            };\n        },\n        action: (node) => {\n            const unsub = executeCallbacks(addMeltEventListener(node, 'click', () => {\n                const value = node.dataset.value;\n                if (!value || Number.isNaN(+value))\n                    return;\n                page.set(Number(value));\n            }), addMeltEventListener(node, 'keydown', keydown));\n            return {\n                destroy: unsub,\n            };\n        },\n    });\n    const prevButton = makeElement(name('prev'), {\n        stores: page,\n        returned: ($page) => {\n            return {\n                'aria-label': 'Previous',\n                disabled: $page <= 1,\n            };\n        },\n        action: (node) => {\n            const unsub = executeCallbacks(addMeltEventListener(node, 'click', () => {\n                page.update((p) => Math.max(p - 1, 1));\n            }), addMeltEventListener(node, 'keydown', keydown));\n            return {\n                destroy: unsub,\n            };\n        },\n    });\n    const nextButton = makeElement(name('next'), {\n        stores: [page, totalPages],\n        returned: ([$page, $totalPages]) => {\n            return {\n                'aria-label': 'Next',\n                disabled: $page >= $totalPages,\n            };\n        },\n        action: (node) => {\n            const unsub = executeCallbacks(addMeltEventListener(node, 'click', () => {\n                const $totalPages = totalPages.get();\n                page.update((p) => Math.min(p + 1, $totalPages));\n            }), addMeltEventListener(node, 'keydown', keydown));\n            return {\n                destroy: unsub,\n            };\n        },\n    });\n    return {\n        elements: {\n            root,\n            pageTrigger,\n            prevButton,\n            nextButton,\n        },\n        states: {\n            range: readonly(range),\n            page: page,\n            pages: readonly(pages),\n            totalPages: readonly(totalPages),\n        },\n        options,\n    };\n}\n","import { createPagination } from \"@melt-ui/svelte\";\nimport { getContext, setContext } from \"svelte\";\nimport { createBitAttrs, getOptionUpdater, removeUndefined } from \"../../internal/index.js\";\nexport function getPaginationData() {\n    const NAME = \"pagination\";\n    const PARTS = [\"root\", \"prev-button\", \"next-button\", \"page\"];\n    return {\n        NAME,\n        PARTS,\n    };\n}\nexport function setCtx(props) {\n    const { NAME, PARTS } = getPaginationData();\n    const getAttrs = createBitAttrs(NAME, PARTS);\n    const pagination = { ...createPagination(removeUndefined(props)), getAttrs };\n    setContext(NAME, pagination);\n    return {\n        ...pagination,\n        updateOption: getOptionUpdater(pagination.options),\n    };\n}\nexport function getCtx() {\n    const { NAME } = getPaginationData();\n    return getContext(NAME);\n}\n","<script>import { melt } from \"@melt-ui/svelte\";\nimport { setCtx } from \"../ctx.js\";\nexport let count;\nexport let page = void 0;\nexport let onPageChange = void 0;\nexport let perPage = void 0;\nexport let siblingCount = void 0;\nexport let asChild = false;\nexport let el = void 0;\nconst {\n  elements: { root },\n  states: { pages, range, page: localPage },\n  getAttrs,\n  updateOption\n} = setCtx({\n  count,\n  perPage,\n  siblingCount,\n  defaultPage: page,\n  onPageChange: ({ next }) => {\n    if (page !== next) {\n      onPageChange?.(next);\n      page = next;\n    }\n    return next;\n  }\n});\n$:\n  page !== void 0 && localPage.set(page);\nconst attrs = getAttrs(\"root\");\n$:\n  builder = $root;\n$:\n  Object.assign(builder, attrs);\n$:\n  updateOption(\"count\", count);\n$:\n  updateOption(\"perPage\", perPage);\n$:\n  updateOption(\"siblingCount\", siblingCount);\n</script>\n\n{#if asChild}\n\t<slot {builder} pages={$pages} range={$range} />\n{:else}\n\t<div bind:this={el} {...builder} use:builder.action {...$$restProps}>\n\t\t<slot {builder} pages={$pages} range={$range} />\n\t</div>\n{/if}\n","<script>import { createDispatcher } from \"../../../internal/events.js\";\nimport { getCtx } from \"../ctx.js\";\nimport { melt } from \"@melt-ui/svelte\";\nexport let asChild = void 0;\nexport let el = void 0;\nconst {\n  elements: { prevButton },\n  getAttrs\n} = getCtx();\nconst attrs = getAttrs(\"prev-button\");\n$:\n  builder = $prevButton;\n$:\n  Object.assign(builder, attrs);\nconst dispatch = createDispatcher();\n</script>\n\n{#if asChild}\n\t<slot {builder} />\n{:else}\n\t<button bind:this={el} {...builder} use:builder.action type=\"button\" {...$$restProps} on:m-click={dispatch}>\n\t\t<slot {builder} />\n\t</button>\n{/if}\n","<script>import { createDispatcher } from \"../../../internal/events.js\";\nimport { getCtx } from \"../ctx.js\";\nimport { melt } from \"@melt-ui/svelte\";\nexport let asChild = void 0;\nexport let el = void 0;\nconst {\n  elements: { nextButton },\n  getAttrs\n} = getCtx();\nconst attrs = getAttrs(\"next-button\");\n$:\n  builder = $nextButton;\n$:\n  Object.assign(builder, attrs);\nconst dispatch = createDispatcher();\n</script>\n\n{#if asChild}\n\t<slot {builder} />\n{:else}\n\t<button bind:this={el} {...builder} use:builder.action type=\"button\" {...$$restProps} on:m-click={dispatch}>\n\t\t<slot {builder} />\n\t</button>\n{/if}\n","<script>import { createDispatcher } from \"../../../internal/events.js\";\nimport { getCtx } from \"../ctx.js\";\nimport { melt } from \"@melt-ui/svelte\";\nexport let asChild = void 0;\nexport let page;\nexport let el = void 0;\nconst {\n  elements: { pageTrigger },\n  getAttrs\n} = getCtx();\nconst attrs = getAttrs(\"page\");\n$:\n  builder = $pageTrigger(page);\n$:\n  Object.assign(builder, attrs);\nconst dispatch = createDispatcher();\n</script>\n\n{#if asChild}\n\t<slot {builder} />\n{:else}\n\t<button bind:this={el} type=\"button\" {...builder} use:builder.action on:m-click={dispatch} {...$$restProps}>\n\t\t<slot {builder}>\n\t\t\t{page.value}\n\t\t</slot>\n\t</button>\n{/if}\n","<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15.75 19.5 8.25 12l7.5-7.5\" />\n</svg>\n","<script lang=\"ts\">\n\timport { Pagination } from 'bits-ui';\n\timport { createEventDispatcher } from 'svelte';\n\n\timport ChevronLeft from '../icons/ChevronLeft.svelte';\n\timport ChevronRight from '../icons/ChevronRight.svelte';\n\n\texport let page = 0;\n\texport let count = 0;\n\texport let perPage = 20;\n</script>\n\n<div class=\"flex justify-center\">\n\t<Pagination.Root bind:page {count} {perPage} let:pages>\n\t\t<div class=\"my-2 flex items-center\">\n\t\t\t<Pagination.PrevButton\n\t\t\t\tclass=\"mr-[25px] inline-flex size-8 items-center justify-center rounded-[9px] bg-transparent hover:bg-gray-50 dark:hover:bg-gray-850 active:scale-98 disabled:cursor-not-allowed disabled:text-gray-400 dark:disabled:text-gray-700 hover:disabled:bg-transparent dark:hover:disabled:bg-transparent\"\n\t\t\t>\n\t\t\t\t<ChevronLeft className=\"size-4\" strokeWidth=\"2\" />\n\t\t\t</Pagination.PrevButton>\n\t\t\t<div class=\"flex items-center gap-2.5\">\n\t\t\t\t{#each pages as page (page.key)}\n\t\t\t\t\t{#if page.type === 'ellipsis'}\n\t\t\t\t\t\t<div class=\"text-sm font-medium text-foreground-alt\">...</div>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<Pagination.Page\n\t\t\t\t\t\t\t{page}\n\t\t\t\t\t\t\tclass=\"inline-flex size-8 items-center justify-center rounded-[9px] bg-transparent hover:bg-gray-50 dark:hover:bg-gray-850 text-sm font-medium hover:bg-dark-10 active:scale-98 disabled:cursor-not-allowed disabled:opacity-50 hover:disabled:bg-transparent data-selected:bg-gray-50 data-selected:text-gray-700 data-selected:hover:bg-gray-100 dark:data-selected:bg-gray-850 dark:data-selected:text-gray-50 dark:data-selected:hover:bg-gray-800 transition\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{page.value}\n\t\t\t\t\t\t</Pagination.Page>\n\t\t\t\t\t{/if}\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t\t<Pagination.NextButton\n\t\t\t\tclass=\"ml-[25px]  inline-flex size-8 items-center justify-center rounded-[9px] bg-transparent hover:bg-gray-50 dark:hover:bg-gray-850 active:scale-98 disabled:cursor-not-allowed disabled:text-gray-400 dark:disabled:text-gray-700 hover:disabled:bg-transparent dark:hover:disabled:bg-transparent\"\n\t\t\t>\n\t\t\t\t<ChevronRight className=\"size-4\" strokeWidth=\"2\" />\n\t\t\t</Pagination.NextButton>\n\t\t</div>\n\t</Pagination.Root>\n</div>\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\"\n\t/>\n</svg>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport dayjs from 'dayjs';\n\timport { createEventDispatcher } from 'svelte';\n\timport { onMount, getContext } from 'svelte';\n\n\timport { updateUserById } from '$lib/apis/users';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport localizedFormat from 'dayjs/plugin/localizedFormat';\n\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\tdayjs.extend(localizedFormat);\n\n\texport let show = false;\n\texport let selectedUser;\n\texport let sessionUser;\n\n\tlet _user = {\n\t\tprofile_image_url: '',\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: ''\n\t};\n\n\tconst submitHandler = async () => {\n\t\tconst res = await updateUserById(localStorage.token, selectedUser.id, _user).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tif (res) {\n\t\t\tdispatch('save');\n\t\t\tshow = false;\n\t\t}\n\t};\n\n\tonMount(() => {\n\t\tif (selectedUser) {\n\t\t\t_user = selectedUser;\n\t\t\t_user.password = '';\n\t\t}\n\t});\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 py-4\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Edit User')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\t\t<hr class=\"border-gray-100 dark:border-gray-850\" />\n\n\t\t<div class=\"flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" flex items-center rounded-md py-2 px-4 w-full\">\n\t\t\t\t\t\t<div class=\" self-center mr-5\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={selectedUser.profile_image_url}\n\t\t\t\t\t\t\t\tclass=\" max-w-[55px] object-cover rounded-full\"\n\t\t\t\t\t\t\t\talt=\"User profile\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\" self-center capitalize font-semibold\">{selectedUser.name}</div>\n\n\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t{$i18n.t('Created at')}\n\t\t\t\t\t\t\t\t{dayjs(selectedUser.created_at * 1000).format('LL')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<hr class=\"border-gray-100 dark:border-gray-850 my-3 w-full\" />\n\n\t\t\t\t\t<div class=\" flex flex-col space-y-1.5\">\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Email')}</div>\n\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-sm py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tbind:value={_user.email}\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tdisabled={_user.id == sessionUser.id}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Name')}</div>\n\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-sm py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tbind:value={_user.name}\n\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('New Password')}</div>\n\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclass=\"w-full rounded-sm py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-hidden\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tbind:value={_user.password}\n\t\t\t\t\t\t\t\t\tautocomplete=\"new-password\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Save')}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n\n<style>\n\tinput::-webkit-outer-spin-button,\n\tinput::-webkit-inner-spin-button {\n\t\t/* display: none; <- Crashes Chrome on hover */\n\t\t-webkit-appearance: none;\n\t\tmargin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n\t}\n\n\t.tabs::-webkit-scrollbar {\n\t\tdisplay: none; /* for Chrome, Safari and Opera */\n\t}\n\n\t.tabs {\n\t\t-ms-overflow-style: none; /* IE and Edge */\n\t\tscrollbar-width: none; /* Firefox */\n\t}\n\n\tinput[type='number'] {\n\t\t-moz-appearance: textfield; /* Firefox */\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport dayjs from 'dayjs';\n\timport { getContext, createEventDispatcher } from 'svelte';\n\timport localizedFormat from 'dayjs/plugin/localizedFormat';\n\n\tconst dispatch = createEventDispatcher();\n\tdayjs.extend(localizedFormat);\n\n\timport { getChatListByUserId, deleteChatById, getArchivedChatList } from '$lib/apis/chats';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\timport Spinner from '$lib/components/common/Spinner.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let show = false;\n\texport let user;\n\n\tlet chats = null;\n\n\tconst deleteChatHandler = async (chatId) => {\n\t\tconst res = await deleteChatById(localStorage.token, chatId).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t});\n\n\t\tchats = await getChatListByUserId(localStorage.token, user.id);\n\t};\n\n\t$: if (show) {\n\t\t(async () => {\n\t\t\tif (user.id) {\n\t\t\t\tchats = await getChatListByUserId(localStorage.token, user.id);\n\t\t\t}\n\t\t})();\n\t} else {\n\t\tchats = null;\n\t}\n\n\tlet sortKey = 'updated_at'; // default sort key\n\tlet sortOrder = 'desc'; // default sort order\n\tfunction setSortKey(key) {\n\t\tif (sortKey === key) {\n\t\t\tsortOrder = sortOrder === 'asc' ? 'desc' : 'asc';\n\t\t} else {\n\t\t\tsortKey = key;\n\t\t\tsortOrder = 'asc';\n\t\t}\n\t}\n</script>\n\n<Modal size=\"lg\" bind:show>\n\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4\">\n\t\t<div class=\" text-lg font-medium self-center capitalize\">\n\t\t\t{$i18n.t(\"{{user}}'s Chats\", { user: user.name })}\n\t\t</div>\n\t\t<button\n\t\t\tclass=\"self-center\"\n\t\t\ton:click={() => {\n\t\t\t\tshow = false;\n\t\t\t}}\n\t\t>\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\tfill=\"currentColor\"\n\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t</button>\n\t</div>\n\n\t<div class=\"flex flex-col md:flex-row w-full px-5 pt-2 pb-4 md:space-x-4 dark:text-gray-200\">\n\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t{#if chats}\n\t\t\t\t{#if chats.length > 0}\n\t\t\t\t\t<div class=\"text-left text-sm w-full mb-4 max-h-[22rem] overflow-y-scroll\">\n\t\t\t\t\t\t<div class=\"relative overflow-x-auto\">\n\t\t\t\t\t\t\t<table class=\"w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto\">\n\t\t\t\t\t\t\t\t<thead\n\t\t\t\t\t\t\t\t\tclass=\"text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-850\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"px-3 py-2 cursor-pointer select-none\"\n\t\t\t\t\t\t\t\t\t\t\ton:click={() => setSortKey('title')}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Title')}\n\t\t\t\t\t\t\t\t\t\t\t{#if sortKey === 'title'}\n\t\t\t\t\t\t\t\t\t\t\t\t{sortOrder === 'asc' ? '▲' : '▼'}\n\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">▲</span>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\tscope=\"col\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"px-3 py-2 hidden md:flex cursor-pointer select-none justify-end\"\n\t\t\t\t\t\t\t\t\t\t\ton:click={() => setSortKey('updated_at')}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Updated at')}\n\t\t\t\t\t\t\t\t\t\t\t{#if sortKey === 'updated_at'}\n\t\t\t\t\t\t\t\t\t\t\t\t{sortOrder === 'asc' ? '▲' : '▼'}\n\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"invisible\">▲</span>\n\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\" class=\"px-3 py-2 text-right\" />\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{#each chats.sort((a, b) => {\n\t\t\t\t\t\t\t\t\t\tif (a[sortKey] < b[sortKey]) return sortOrder === 'asc' ? -1 : 1;\n\t\t\t\t\t\t\t\t\t\tif (a[sortKey] > b[sortKey]) return sortOrder === 'asc' ? 1 : -1;\n\t\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t\t}) as chat, idx}\n\t\t\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\t\t\tclass=\"bg-transparent {idx !== chats.length - 1 &&\n\t\t\t\t\t\t\t\t\t\t\t\t'border-b'} dark:bg-gray-900 dark:border-gray-850 text-xs\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"px-3 py-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"/s/{chat.id}\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\" underline line-clamp-1 max-w-96\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{chat.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t<td class=\" px-3 py-1 hidden md:flex h-[2.5rem] justify-end\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"my-auto shrink-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{dayjs(chat.updated_at * 1000).format('LLL')}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"px-3 py-1 text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"flex justify-end w-full\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete Chat')}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteChatHandler(chat.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<!-- {#each chats as chat}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{JSON.stringify(chat)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/each} -->\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"text-left text-sm w-full mb-8\">\n\t\t\t\t\t\t{user.name}\n\t\t\t\t\t\t{$i18n.t('has no conversations.')}\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t{:else}\n\t\t\t\t<Spinner />\n\t\t\t{/if}\n\t\t</div>\n\t</div>\n</Modal>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport { createEventDispatcher } from 'svelte';\n\timport { onMount, getContext } from 'svelte';\n\timport { addUser } from '$lib/apis/auths';\n\n\timport { WEBUI_BASE_URL } from '$lib/constants';\n\n\timport Modal from '$lib/components/common/Modal.svelte';\n\n\tconst i18n = getContext('i18n');\n\tconst dispatch = createEventDispatcher();\n\n\texport let show = false;\n\n\tlet loading = false;\n\tlet tab = '';\n\tlet inputFiles;\n\n\tlet _user = {\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\trole: 'user'\n\t};\n\n\t$: if (show) {\n\t\t_user = {\n\t\t\tname: '',\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\trole: 'user'\n\t\t};\n\t}\n\n\tconst submitHandler = async () => {\n\t\tconst stopLoading = () => {\n\t\t\tdispatch('save');\n\t\t\tloading = false;\n\t\t};\n\n\t\tif (tab === '') {\n\t\t\tloading = true;\n\n\t\t\tconst res = await addUser(\n\t\t\t\tlocalStorage.token,\n\t\t\t\t_user.name,\n\t\t\t\t_user.email,\n\t\t\t\t_user.password,\n\t\t\t\t_user.role\n\t\t\t).catch((error) => {\n\t\t\t\ttoast.error(`${error}`);\n\t\t\t});\n\n\t\t\tif (res) {\n\t\t\t\tstopLoading();\n\t\t\t\tshow = false;\n\t\t\t}\n\t\t} else {\n\t\t\tif (inputFiles) {\n\t\t\t\tloading = true;\n\n\t\t\t\tconst file = inputFiles[0];\n\t\t\t\tconst reader = new FileReader();\n\n\t\t\t\treader.onload = async (e) => {\n\t\t\t\t\tconst csv = e.target.result;\n\t\t\t\t\tconst rows = csv.split('\\n');\n\n\t\t\t\t\tlet userCount = 0;\n\n\t\t\t\t\tfor (const [idx, row] of rows.entries()) {\n\t\t\t\t\t\tconst columns = row.split(',').map((col) => col.trim());\n\t\t\t\t\t\tconsole.log(idx, columns);\n\n\t\t\t\t\t\tif (idx > 0) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tcolumns.length === 4 &&\n\t\t\t\t\t\t\t\t['admin', 'user', 'pending'].includes(columns[3].toLowerCase())\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tconst res = await addUser(\n\t\t\t\t\t\t\t\t\tlocalStorage.token,\n\t\t\t\t\t\t\t\t\tcolumns[0],\n\t\t\t\t\t\t\t\t\tcolumns[1],\n\t\t\t\t\t\t\t\t\tcolumns[2],\n\t\t\t\t\t\t\t\t\tcolumns[3].toLowerCase()\n\t\t\t\t\t\t\t\t).catch((error) => {\n\t\t\t\t\t\t\t\t\ttoast.error(`Row ${idx + 1}: ${error}`);\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t\tuserCount = userCount + 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttoast.error(`Row ${idx + 1}: invalid format.`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttoast.success(`Successfully imported ${userCount} users.`);\n\t\t\t\t\tinputFiles = null;\n\t\t\t\t\tconst uploadInputElement = document.getElementById('upload-user-csv-input');\n\n\t\t\t\t\tif (uploadInputElement) {\n\t\t\t\t\t\tuploadInputElement.value = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tstopLoading();\n\t\t\t\t};\n\n\t\t\t\treader.readAsText(file);\n\t\t\t} else {\n\t\t\t\ttoast.error($i18n.t('File not found.'));\n\t\t\t}\n\t\t}\n\n\t\tloading = false;\n\t};\n</script>\n\n<Modal size=\"sm\" bind:show>\n\t<div>\n\t\t<div class=\" flex justify-between dark:text-gray-300 px-5 pt-4 pb-2\">\n\t\t\t<div class=\" text-lg font-medium self-center\">{$i18n.t('Add User')}</div>\n\t\t\t<button\n\t\t\t\tclass=\"self-center\"\n\t\t\t\ton:click={() => {\n\t\t\t\t\tshow = false;\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class=\"flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200\">\n\t\t\t<div class=\" flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6\">\n\t\t\t\t<form\n\t\t\t\t\tclass=\"flex flex-col w-full\"\n\t\t\t\t\ton:submit|preventDefault={() => {\n\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"flex -mt-2 mb-1.5 gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"min-w-fit rounded-full p-1.5 {tab === ''\n\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\ttab = '';\n\t\t\t\t\t\t\t}}>{$i18n.t('Form')}</button\n\t\t\t\t\t\t>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"min-w-fit rounded-full p-1.5 {tab === 'import'\n\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t: 'text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'} transition\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\ttab = 'import';\n\t\t\t\t\t\t\t}}>{$i18n.t('CSV Import')}</button\n\t\t\t\t\t\t>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"px-1\">\n\t\t\t\t\t\t{#if tab === ''}\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full mb-3\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Role')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full capitalize rounded-lg text-sm bg-transparent dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\tbind:value={_user.role}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Your Role')}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=\"pending\"> {$i18n.t('pending')} </option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"user\"> {$i18n.t('user')} </option>\n\t\t\t\t\t\t\t\t\t\t<option value=\"admin\"> {$i18n.t('admin')} </option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full mt-1\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Name')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tbind:value={_user.name}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Your Full Name')}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<hr class=\" border-gray-100 dark:border-gray-850 my-2.5 w-full\" />\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Email')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\t\tbind:value={_user.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Your Email')}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex flex-col w-full mt-1\">\n\t\t\t\t\t\t\t\t<div class=\" mb-1 text-xs text-gray-500\">{$i18n.t('Password')}</div>\n\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden\"\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tbind:value={_user.password}\n\t\t\t\t\t\t\t\t\t\tplaceholder={$i18n.t('Enter Your Password')}\n\t\t\t\t\t\t\t\t\t\tautocomplete=\"off\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{:else if tab === 'import'}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class=\"mb-3 w-full\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid=\"upload-user-csv-input\"\n\t\t\t\t\t\t\t\t\t\thidden\n\t\t\t\t\t\t\t\t\t\tbind:files={inputFiles}\n\t\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\t\taccept=\".csv\"\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"w-full text-sm font-medium py-3 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl\"\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\tdocument.getElementById('upload-user-csv-input')?.click();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{#if inputFiles}\n\t\t\t\t\t\t\t\t\t\t\t{inputFiles.length > 0 ? `${inputFiles.length}` : ''} document(s) selected.\n\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t{$i18n.t('Click here to select a csv file.')}\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\" text-xs text-gray-500\">\n\t\t\t\t\t\t\t\t\tⓘ {$i18n.t(\n\t\t\t\t\t\t\t\t\t\t'Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role.'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass=\"underline dark:text-gray-200\"\n\t\t\t\t\t\t\t\t\t\thref=\"{WEBUI_BASE_URL}/static/user-import.csv\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Click here to download user import template file.')}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-end pt-3 text-sm font-medium\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center {loading\n\t\t\t\t\t\t\t\t? ' cursor-not-allowed'\n\t\t\t\t\t\t\t\t: ''}\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{$i18n.t('Save')}\n\n\t\t\t\t\t\t\t{#if loading}\n\t\t\t\t\t\t\t\t<div class=\"ml-2 self-center\">\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\tclass=\" w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t><style>\n\t\t\t\t\t\t\t\t\t\t\t.spinner_ajPY {\n\t\t\t\t\t\t\t\t\t\t\t\ttransform-origin: center;\n\t\t\t\t\t\t\t\t\t\t\t\tanimation: spinner_AtaB 0.75s infinite linear;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t@keyframes spinner_AtaB {\n\t\t\t\t\t\t\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: rotate(360deg);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</style><path\n\t\t\t\t\t\t\t\t\t\t\td=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z\"\n\t\t\t\t\t\t\t\t\t\t\topacity=\".25\"\n\t\t\t\t\t\t\t\t\t\t/><path\n\t\t\t\t\t\t\t\t\t\t\td=\"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"spinner_ajPY\"\n\t\t\t\t\t\t\t\t\t\t/></svg\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</Modal>\n\n<style>\n\tinput::-webkit-outer-spin-button,\n\tinput::-webkit-inner-spin-button {\n\t\t/* display: none; <- Crashes Chrome on hover */\n\t\t-webkit-appearance: none;\n\t\tmargin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n\t}\n\n\t.tabs::-webkit-scrollbar {\n\t\tdisplay: none; /* for Chrome, Safari and Opera */\n\t}\n\n\t.tabs {\n\t\t-ms-overflow-style: none; /* IE and Edge */\n\t\tscrollbar-width: none; /* Firefox */\n\t}\n\n\tinput[type='number'] {\n\t\t-moz-appearance: textfield; /* Firefox */\n\t}\n</style>\n","<script>\n\timport { WEBUI_BASE_URL } from '$lib/constants';\n\timport { WEBUI_NAME, config, user, showSidebar } from '$lib/stores';\n\timport { goto } from '$app/navigation';\n\timport { onMount, getContext } from 'svelte';\n\n\timport dayjs from 'dayjs';\n\timport relativeTime from 'dayjs/plugin/relativeTime';\n\timport localizedFormat from 'dayjs/plugin/localizedFormat';\n\tdayjs.extend(relativeTime);\n\tdayjs.extend(localizedFormat);\n\n\timport { toast } from 'svelte-sonner';\n\n\timport { updateUserRole, getUsers, deleteUserById } from '$lib/apis/users';\n\n\timport Pagination from '$lib/components/common/Pagination.svelte';\n\timport ChatBubbles from '$lib/components/icons/ChatBubbles.svelte';\n\timport Tooltip from '$lib/components/common/Tooltip.svelte';\n\n\timport EditUserModal from '$lib/components/admin/Users/UserList/EditUserModal.svelte';\n\timport UserChatsModal from '$lib/components/admin/Users/UserList/UserChatsModal.svelte';\n\timport AddUserModal from '$lib/components/admin/Users/UserList/AddUserModal.svelte';\n\n\timport ConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport Badge from '$lib/components/common/Badge.svelte';\n\timport Plus from '$lib/components/icons/Plus.svelte';\n\timport ChevronUp from '$lib/components/icons/ChevronUp.svelte';\n\timport ChevronDown from '$lib/components/icons/ChevronDown.svelte';\n\timport About from '$lib/components/chat/Settings/About.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let users = [];\n\n\tlet search = '';\n\tlet selectedUser = null;\n\n\tlet page = 1;\n\n\tlet showDeleteConfirmDialog = false;\n\tlet showAddUserModal = false;\n\n\tlet showUserChatsModal = false;\n\tlet showEditUserModal = false;\n\n\tconst updateRoleHandler = async (id, role) => {\n\t\tconst res = await updateUserRole(localStorage.token, id, role).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\tusers = await getUsers(localStorage.token);\n\t\t}\n\t};\n\n\tconst deleteUserHandler = async (id) => {\n\t\tconst res = await deleteUserById(localStorage.token, id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\t\tif (res) {\n\t\t\tusers = await getUsers(localStorage.token);\n\t\t}\n\t};\n\n\tlet sortKey = 'created_at'; // default sort key\n\tlet sortOrder = 'asc'; // default sort order\n\n\tfunction setSortKey(key) {\n\t\tif (sortKey === key) {\n\t\t\tsortOrder = sortOrder === 'asc' ? 'desc' : 'asc';\n\t\t} else {\n\t\t\tsortKey = key;\n\t\t\tsortOrder = 'asc';\n\t\t}\n\t}\n\n\tlet filteredUsers;\n\n\t$: filteredUsers = users\n\t\t.filter((user) => {\n\t\t\tif (search === '') {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tlet name = user.name.toLowerCase();\n\t\t\t\tlet email = user.email.toLowerCase();\n\t\t\t\tconst query = search.toLowerCase();\n\t\t\t\treturn name.includes(query) || email.includes(query);\n\t\t\t}\n\t\t})\n\t\t.sort((a, b) => {\n\t\t\tif (a[sortKey] < b[sortKey]) return sortOrder === 'asc' ? -1 : 1;\n\t\t\tif (a[sortKey] > b[sortKey]) return sortOrder === 'asc' ? 1 : -1;\n\t\t\treturn 0;\n\t\t})\n\t\t.slice((page - 1) * 20, page * 20);\n</script>\n\n<ConfirmDialog\n\tbind:show={showDeleteConfirmDialog}\n\ton:confirm={() => {\n\t\tdeleteUserHandler(selectedUser.id);\n\t}}\n/>\n\n{#key selectedUser}\n\t<EditUserModal\n\t\tbind:show={showEditUserModal}\n\t\t{selectedUser}\n\t\tsessionUser={$user}\n\t\ton:save={async () => {\n\t\t\tusers = await getUsers(localStorage.token);\n\t\t}}\n\t/>\n{/key}\n\n<AddUserModal\n\tbind:show={showAddUserModal}\n\ton:save={async () => {\n\t\tusers = await getUsers(localStorage.token);\n\t}}\n/>\n<UserChatsModal bind:show={showUserChatsModal} user={selectedUser} />\n\n<div class=\"mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between\">\n\t<div class=\"flex md:self-center text-lg font-medium px-0.5\">\n\t\t{$i18n.t('Users')}\n\t\t<div class=\"flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850\" />\n\n\t\t<span class=\"text-lg font-medium text-gray-500 dark:text-gray-300\">{users.length}</span>\n\t</div>\n\n\t<div class=\"flex gap-1\">\n\t\t<div class=\" flex w-full space-x-2\">\n\t\t\t<div class=\"flex flex-1\">\n\t\t\t\t<div class=\" self-center ml-1 mr-3\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\tviewBox=\"0 0 20 20\"\n\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\td=\"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z\"\n\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent\"\n\t\t\t\t\tbind:value={search}\n\t\t\t\t\tplaceholder={$i18n.t('Search')}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<Tooltip content={$i18n.t('Add User')}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\" p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tshowAddUserModal = !showAddUserModal;\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Plus className=\"size-3.5\" />\n\t\t\t\t\t</button>\n\t\t\t\t</Tooltip>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div\n\tclass=\"scrollbar-hidden relative whitespace-nowrap overflow-x-auto max-w-full rounded-sm pt-0.5\"\n>\n\t<table\n\t\tclass=\"w-full text-sm text-left text-gray-500 dark:text-gray-400 table-auto max-w-full rounded-sm\"\n\t>\n\t\t<thead\n\t\t\tclass=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-850 dark:text-gray-400 -translate-y-0.5\"\n\t\t>\n\t\t\t<tr class=\"\">\n\t\t\t\t<th\n\t\t\t\t\tscope=\"col\"\n\t\t\t\t\tclass=\"px-3 py-1.5 cursor-pointer select-none\"\n\t\t\t\t\ton:click={() => setSortKey('role')}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t{$i18n.t('Role')}\n\n\t\t\t\t\t\t{#if sortKey === 'role'}\n\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t>{#if sortOrder === 'asc'}\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t</th>\n\t\t\t\t<th\n\t\t\t\t\tscope=\"col\"\n\t\t\t\t\tclass=\"px-3 py-1.5 cursor-pointer select-none\"\n\t\t\t\t\ton:click={() => setSortKey('name')}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t{$i18n.t('Name')}\n\n\t\t\t\t\t\t{#if sortKey === 'name'}\n\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t>{#if sortOrder === 'asc'}\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t</th>\n\t\t\t\t<th\n\t\t\t\t\tscope=\"col\"\n\t\t\t\t\tclass=\"px-3 py-1.5 cursor-pointer select-none\"\n\t\t\t\t\ton:click={() => setSortKey('email')}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t{$i18n.t('Email')}\n\n\t\t\t\t\t\t{#if sortKey === 'email'}\n\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t>{#if sortOrder === 'asc'}\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t</th>\n\n\t\t\t\t<th\n\t\t\t\t\tscope=\"col\"\n\t\t\t\t\tclass=\"px-3 py-1.5 cursor-pointer select-none\"\n\t\t\t\t\ton:click={() => setSortKey('last_active_at')}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t{$i18n.t('Last Active')}\n\n\t\t\t\t\t\t{#if sortKey === 'last_active_at'}\n\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t>{#if sortOrder === 'asc'}\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t</th>\n\t\t\t\t<th\n\t\t\t\t\tscope=\"col\"\n\t\t\t\t\tclass=\"px-3 py-1.5 cursor-pointer select-none\"\n\t\t\t\t\ton:click={() => setSortKey('created_at')}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t{$i18n.t('Created at')}\n\t\t\t\t\t\t{#if sortKey === 'created_at'}\n\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t>{#if sortOrder === 'asc'}\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t</th>\n\n\t\t\t\t<th\n\t\t\t\t\tscope=\"col\"\n\t\t\t\t\tclass=\"px-3 py-1.5 cursor-pointer select-none\"\n\t\t\t\t\ton:click={() => setSortKey('oauth_sub')}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex gap-1.5 items-center\">\n\t\t\t\t\t\t{$i18n.t('OAuth ID')}\n\n\t\t\t\t\t\t{#if sortKey === 'oauth_sub'}\n\t\t\t\t\t\t\t<span class=\"font-normal\"\n\t\t\t\t\t\t\t\t>{#if sortOrder === 'asc'}\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<ChevronDown className=\"size-2\" />\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"invisible\">\n\t\t\t\t\t\t\t\t<ChevronUp className=\"size-2\" />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t</th>\n\n\t\t\t\t<th scope=\"col\" class=\"px-3 py-2 text-right\" />\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody class=\"\">\n\t\t\t{#each filteredUsers as user, userIdx}\n\t\t\t\t<tr class=\"bg-white dark:bg-gray-900 dark:border-gray-850 text-xs\">\n\t\t\t\t\t<td class=\"px-3 py-1 min-w-[7rem] w-28\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\" translate-y-0.5\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tif (user.role === 'user') {\n\t\t\t\t\t\t\t\t\tupdateRoleHandler(user.id, 'admin');\n\t\t\t\t\t\t\t\t} else if (user.role === 'pending') {\n\t\t\t\t\t\t\t\t\tupdateRoleHandler(user.id, 'user');\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tupdateRoleHandler(user.id, 'pending');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\ttype={user.role === 'admin' ? 'info' : user.role === 'user' ? 'success' : 'muted'}\n\t\t\t\t\t\t\t\tcontent={$i18n.t(user.role)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\"px-3 py-1 font-medium text-gray-900 dark:text-white w-max\">\n\t\t\t\t\t\t<div class=\"flex flex-row w-max\">\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclass=\" rounded-full w-6 h-6 object-cover mr-2.5\"\n\t\t\t\t\t\t\t\tsrc={user.profile_image_url.startsWith(WEBUI_BASE_URL) ||\n\t\t\t\t\t\t\t\tuser.profile_image_url.startsWith('https://www.gravatar.com/avatar/') ||\n\t\t\t\t\t\t\t\tuser.profile_image_url.startsWith('data:')\n\t\t\t\t\t\t\t\t\t? user.profile_image_url\n\t\t\t\t\t\t\t\t\t: `/user.png`}\n\t\t\t\t\t\t\t\talt=\"user\"\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<div class=\" font-medium self-center\">{user.name}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td class=\" px-3 py-1\"> {user.email} </td>\n\n\t\t\t\t\t<td class=\" px-3 py-1\">\n\t\t\t\t\t\t{dayjs(user.last_active_at * 1000).fromNow()}\n\t\t\t\t\t</td>\n\n\t\t\t\t\t<td class=\" px-3 py-1\">\n\t\t\t\t\t\t{dayjs(user.created_at * 1000).format('LL')}\n\t\t\t\t\t</td>\n\n\t\t\t\t\t<td class=\" px-3 py-1\"> {user.oauth_sub ?? ''} </td>\n\n\t\t\t\t\t<td class=\"px-3 py-1 text-right\">\n\t\t\t\t\t\t<div class=\"flex justify-end w-full\">\n\t\t\t\t\t\t\t{#if $config.features.enable_admin_chat_access && user.role !== 'admin'}\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Chats')}>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\tshowUserChatsModal = !showUserChatsModal;\n\t\t\t\t\t\t\t\t\t\t\tselectedUser = user;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ChatBubbles />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Edit User')}>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\tshowEditUserModal = !showEditUserModal;\n\t\t\t\t\t\t\t\t\t\tselectedUser = user;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\td=\"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t{#if user.role !== 'admin'}\n\t\t\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete User')}>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirmDialog = true;\n\t\t\t\t\t\t\t\t\t\t\tselectedUser = user;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\td=\"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t{/each}\n\t\t</tbody>\n\t</table>\n</div>\n\n<div class=\" text-gray-500 text-xs mt-1.5 text-right\">\n\tⓘ {$i18n.t(\"Click on the user role button to change a user's role.\")}\n</div>\n\n<Pagination bind:page count={users.length} />\n","<script>\n\timport { getContext, tick, onMount } from 'svelte';\n\timport { toast } from 'svelte-sonner';\n\n\timport { goto } from '$app/navigation';\n\timport { user } from '$lib/stores';\n\n\timport { getUsers } from '$lib/apis/users';\n\n\timport UserList from './Users/UserList.svelte';\n\timport Groups from './Users/Groups.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet users = [];\n\n\tlet selectedTab = 'overview';\n\tlet loaded = false;\n\n\t$: if (selectedTab) {\n\t\tgetUsersHandler();\n\t}\n\n\tconst getUsersHandler = async () => {\n\t\tusers = await getUsers(localStorage.token);\n\t};\n\n\tonMount(async () => {\n\t\tif ($user?.role !== 'admin') {\n\t\t\tawait goto('/');\n\t\t} else {\n\t\t\tusers = await getUsers(localStorage.token);\n\t\t}\n\t\tloaded = true;\n\n\t\tconst containerElement = document.getElementById('users-tabs-container');\n\n\t\tif (containerElement) {\n\t\t\tcontainerElement.addEventListener('wheel', function (event) {\n\t\t\t\tif (event.deltaY !== 0) {\n\t\t\t\t\t// Adjust horizontal scroll position based on vertical scroll\n\t\t\t\t\tcontainerElement.scrollLeft += event.deltaY;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n</script>\n\n<div class=\"flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4\">\n\t<div\n\t\tid=\"users-tabs-container\"\n\t\tclass=\" flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none\"\n\t>\n\t\t<button\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition {selectedTab ===\n\t\t\t'overview'\n\t\t\t\t? ''\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\ton:click={() => {\n\t\t\t\tselectedTab = 'overview';\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M8.5 4.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM10.9 12.006c.11.542-.348.994-.9.994H2c-.553 0-1.01-.452-.902-.994a5.002 5.002 0 0 1 9.803 0ZM14.002 12h-1.59a2.556 2.556 0 0 0-.04-.29 6.476 6.476 0 0 0-1.167-2.603 3.002 3.002 0 0 1 3.633 1.911c.18.522-.283.982-.836.982ZM12 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<div class=\" self-center\">{$i18n.t('Overview')}</div>\n\t\t</button>\n\n\t\t<button\n\t\t\tclass=\"px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition {selectedTab ===\n\t\t\t'groups'\n\t\t\t\t? ''\n\t\t\t\t: ' text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white'}\"\n\t\t\ton:click={() => {\n\t\t\t\tselectedTab = 'groups';\n\t\t\t}}\n\t\t>\n\t\t\t<div class=\" self-center mr-2\">\n\t\t\t\t<svg\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t>\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z\"\n\t\t\t\t\t/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<div class=\" self-center\">{$i18n.t('Groups')}</div>\n\t\t</button>\n\t</div>\n\n\t<div class=\"flex-1 mt-1 lg:mt-0 overflow-y-scroll\">\n\t\t{#if selectedTab === 'overview'}\n\t\t\t<UserList {users} />\n\t\t{:else if selectedTab === 'groups'}\n\t\t\t<Groups {users} />\n\t\t{/if}\n\t</div>\n</div>\n"],"names":["page","prevButton","nextButton","user","Pagination"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAO,SAAS,aAAa,EAAE,OAAO,GAAG,YAAY,eAAe,KAAM;AACtE,QAAM,YAAY,CAAE;AACpB,QAAM,cAAc,oBAAI,IAAI,CAAC,GAAG,UAAU,CAAC;AAC3C,QAAM,wBAAwB,IAAI;AAClC,QAAM,uBAAuB,aAAa,IAAI;AAC9C,MAAI,wBAAwB,sBAAsB;AAC9C,aAAS,IAAI,GAAG,KAAK,aAAa,GAAG,KAAK;AACtC,kBAAY,IAAI,CAAC;AAAA,IAC7B;AAAA,EACA,WACa,OAAO,uBAAuB;AACnC,aAAS,IAAI,GAAG,KAAK,KAAK,IAAI,uBAAuB,UAAU,GAAG,KAAK;AACnE,kBAAY,IAAI,CAAC;AAAA,IAC7B;AAAA,EACA,WACa,OAAO,sBAAsB;AAClC,aAAS,IAAI,aAAa,GAAG,KAAK,KAAK,IAAI,sBAAsB,CAAC,GAAG,KAAK;AACtE,kBAAY,IAAI,CAAC;AAAA,IAC7B;AAAA,EACA,OACS;AACD,aAAS,IAAI,KAAK,IAAI,OAAO,cAAc,CAAC,GAAG,KAAK,KAAK,IAAI,OAAO,cAAc,UAAU,GAAG,KAAK;AAChG,kBAAY,IAAI,CAAC;AAAA,IAC7B;AAAA,EACA;AACI,QAAM,UAAU,CAAC,UAAU;AACvB,cAAU,KAAK,EAAE,MAAM,QAAQ,OAAO,KAAK,QAAQ,KAAK,IAAI;AAAA,EAC/D;AACD,QAAM,cAAc,MAAM;AACtB,cAAU,KAAK,EAAE,MAAM,YAAY,KAAK,YAAY,UAAU,MAAM,IAAI;AAAA,EAC3E;AACD,MAAI,aAAa;AACjB,aAAWA,SAAQ,MAAM,KAAK,WAAW,EAAE,KAAK,CAAC,GAAG,MAAM,IAAI,CAAC,GAAG;AAC9D,QAAIA,QAAO,aAAa,GAAG;AACvB,kBAAa;AAAA,IACzB;AACQ,YAAQA,KAAI;AACZ,iBAAaA;AAAA,EACrB;AACI,SAAO;AACX;ACpCA,MAAM,WAAW;AAAA,EACb,SAAS;AAAA,EACT,cAAc;AAAA,EACd,aAAa;AACjB;AACA,MAAM,EAAE,MAAM,aAAa,gBAAgB,YAAY;AAChD,SAAS,iBAAiB,OAAO;AACpC,QAAM,eAAe,EAAE,GAAG,UAAU,GAAG,MAAO;AAC9C,QAAM,eAAe,aAAa,QAAQ,SAAS,aAAa,WAAW;AAC3E,QAAM,OAAO,YAAY,cAAc,cAAc,YAAY;AAEjE,QAAM,UAAU,iBAAiB,KAAK,cAAc,QAAQ,gBAAgB,aAAa,CAAC;AAC1F,QAAM,EAAE,SAAS,cAAc,MAAO,IAAG;AACzC,QAAM,aAAa,QAAQ,QAAQ,CAAC,OAAO,OAAO,GAAG,CAAC,CAAC,QAAQ,QAAQ,MAAM;AACzE,WAAO,KAAK,KAAK,SAAS,QAAQ;AAAA,EAC1C,CAAK;AACD,QAAM,QAAQ,QAAQ,CAAC,MAAM,SAAS,KAAK,GAAG,CAAC,CAAC,OAAO,UAAU,MAAM,MAAM;AACzE,UAAM,SAAS,QAAQ,KAAK;AAC5B,UAAM,MAAM,KAAK,IAAI,QAAQ,UAAU,MAAM;AAC7C,WAAO,EAAE,OAAO,IAAK;AAAA,EAC7B,CAAK;AACD,QAAM,OAAO,YAAY,QAAQ;AAAA,IAC7B,UAAU,OAAO;AAAA,MACb,cAAc;AAAA,IAC1B;AAAA,EACA,CAAK;AACD,QAAM,QAAQ,QAAQ,CAAC,MAAM,YAAY,YAAY,GAAG,CAAC,CAAC,OAAO,aAAa,aAAa,MAAM;AAC7F,WAAO,aAAa,EAAE,MAAM,OAAO,YAAY,aAAa,cAAc,eAAe;AAAA,EACjG,CAAK;AACD,QAAM,UAAU,CAAC,MAAM;AACnB,UAAM,SAAS,EAAE;AACjB,QAAI,CAAC,cAAc,MAAM;AACrB;AACJ,UAAM,SAAS,OAAO,QAAQ,2BAA2B;AACzD,QAAI,CAAC,cAAc,MAAM;AACrB;AACJ,UAAM,WAAW,MAAM,KAAK,OAAO,iBAAiB,SAAS,MAAM,CAAC,CAAC,EAAE,OAAO,CAAC,OAAO,cAAc,EAAE,CAAC;AACvG,UAAMC,cAAa,OAAO,cAAc,SAAS,MAAM,CAAC;AACxD,UAAMC,cAAa,OAAO,cAAc,SAAS,MAAM,CAAC;AACxD,QAAI,cAAcD,WAAU,GAAG;AAC3B,eAAS,QAAQA,WAAU;AAAA,IACvC;AACQ,QAAI,cAAcC,WAAU,GAAG;AAC3B,eAAS,KAAKA,WAAU;AAAA,IACpC;AACQ,UAAM,QAAQ,SAAS,QAAQ,MAAM;AACrC,QAAI,EAAE,QAAQ,IAAI,cAAc,UAAU,GAAG;AACzC,QAAE,eAAgB;AAClB,eAAS,QAAQ,CAAC,EAAE,MAAO;AAAA,IACvC,WACiB,EAAE,QAAQ,IAAI,eAAe,UAAU,SAAS,SAAS,GAAG;AACjE,QAAE,eAAgB;AAClB,eAAS,QAAQ,CAAC,EAAE,MAAO;AAAA,IACvC,WACiB,EAAE,QAAQ,IAAI,MAAM;AACzB,QAAE,eAAgB;AAClB,eAAS,CAAC,EAAE,MAAO;AAAA,IAC/B,WACiB,EAAE,QAAQ,IAAI,KAAK;AACxB,QAAE,eAAgB;AAClB,eAAS,SAAS,SAAS,CAAC,EAAE,MAAO;AAAA,IACjD;AAAA,EACK;AACD,QAAM,cAAc,YAAY,KAAK,MAAM,GAAG;AAAA,IAC1C,QAAQ;AAAA,IACR,UAAU,CAAC,UAAU;AACjB,aAAO,CAAC,aAAa;AACjB,eAAO;AAAA,UACH,cAAc,QAAQ,SAAS,KAAK;AAAA,UACpC,cAAc,SAAS;AAAA,UACvB,iBAAiB,SAAS,UAAU,QAAQ,KAAK;AAAA,QACpD;AAAA,MACJ;AAAA,IACJ;AAAA,IACD,QAAQ,CAAC,SAAS;AACd,YAAM,QAAQ,iBAAiB,qBAAqB,MAAM,SAAS,MAAM;AACrE,cAAM,QAAQ,KAAK,QAAQ;AAC3B,YAAI,CAAC,SAAS,OAAO,MAAM,CAAC,KAAK;AAC7B;AACJ,aAAK,IAAI,OAAO,KAAK,CAAC;AAAA,MACzB,CAAA,GAAG,qBAAqB,MAAM,WAAW,OAAO,CAAC;AAClD,aAAO;AAAA,QACH,SAAS;AAAA,MACZ;AAAA,IACJ;AAAA,EACT,CAAK;AACD,QAAM,aAAa,YAAY,KAAK,MAAM,GAAG;AAAA,IACzC,QAAQ;AAAA,IACR,UAAU,CAAC,UAAU;AACjB,aAAO;AAAA,QACH,cAAc;AAAA,QACd,UAAU,SAAS;AAAA,MACtB;AAAA,IACJ;AAAA,IACD,QAAQ,CAAC,SAAS;AACd,YAAM,QAAQ,iBAAiB,qBAAqB,MAAM,SAAS,MAAM;AACrE,aAAK,OAAO,CAAC,MAAM,KAAK,IAAI,IAAI,GAAG,CAAC,CAAC;AAAA,MACxC,CAAA,GAAG,qBAAqB,MAAM,WAAW,OAAO,CAAC;AAClD,aAAO;AAAA,QACH,SAAS;AAAA,MACZ;AAAA,IACJ;AAAA,EACT,CAAK;AACD,QAAM,aAAa,YAAY,KAAK,MAAM,GAAG;AAAA,IACzC,QAAQ,CAAC,MAAM,UAAU;AAAA,IACzB,UAAU,CAAC,CAAC,OAAO,WAAW,MAAM;AAChC,aAAO;AAAA,QACH,cAAc;AAAA,QACd,UAAU,SAAS;AAAA,MACtB;AAAA,IACJ;AAAA,IACD,QAAQ,CAAC,SAAS;AACd,YAAM,QAAQ,iBAAiB,qBAAqB,MAAM,SAAS,MAAM;AACrE,cAAM,cAAc,WAAW,IAAK;AACpC,aAAK,OAAO,CAAC,MAAM,KAAK,IAAI,IAAI,GAAG,WAAW,CAAC;AAAA,MAClD,CAAA,GAAG,qBAAqB,MAAM,WAAW,OAAO,CAAC;AAClD,aAAO;AAAA,QACH,SAAS;AAAA,MACZ;AAAA,IACJ;AAAA,EACT,CAAK;AACD,SAAO;AAAA,IACH,UAAU;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACH;AAAA,IACD,QAAQ;AAAA,MACJ,OAAO,SAAS,KAAK;AAAA,MACrB;AAAA,MACA,OAAO,SAAS,KAAK;AAAA,MACrB,YAAY,SAAS,UAAU;AAAA,IAClC;AAAA,IACD;AAAA,EACH;AACL;ACzIO,SAAS,oBAAoB;AAChC,QAAM,OAAO;AACb,QAAM,QAAQ,CAAC,QAAQ,eAAe,eAAe,MAAM;AAC3D,SAAO;AAAA,IACH;AAAA,IACA;AAAA,EACH;AACL;AACO,SAAS,OAAO,OAAO;AAC1B,QAAM,EAAE,MAAM,MAAO,IAAG,kBAAmB;AAC3C,QAAM,WAAW,eAAe,MAAM,KAAK;AAC3C,QAAM,aAAa,EAAE,GAAG,iBAAiB,gBAAgB,KAAK,CAAC,GAAG,SAAU;AAC5E,aAAW,MAAM,UAAU;AAC3B,SAAO;AAAA,IACH,GAAG;AAAA,IACH,cAAc,iBAAiB,WAAW,OAAO;AAAA,EACpD;AACL;AACO,SAAS,SAAS;AACrB,QAAM,EAAE,KAAM,IAAG,kBAAmB;AACpC,SAAO,WAAW,IAAI;AAC1B;;;;;;;QCtBW,MAAK,IAAA;AACL,MAAA,EAAA,cAAa,IAAA;AACb,MAAA,EAAA,sBAAqB,IAAA;AACrB,MAAA,EAAA,iBAAgB,IAAA;AAChB,MAAA,EAAA,sBAAqB,IAAA;AACrB,MAAA,EAAA,UAAU,MAAK,IAAA;AACf,MAAA,EAAA,YAAW,IAAA;AAEpB,QAAA,EAAA,YAAY,KAAI,GAChB,QAAM,EAAI,OAAO,OAAO,MAAM,UAAS,GACvC,UACA,iBACE,OAAM;AAAA,IACR;AAAA,IACA;AAAA,IACA;AAAA,IACA,aAAa;AAAA,IACb,iBAAiB,WAAI;AACf,UAAA,SAAS,MAAI;AACf,uBAAe,IAAI;AACnB,eAAO;AAAA;aAEF;AAAA;;;;;QAKL,QAAQ,SAAS,MAAM;;;;;;;;AAD3B,qBAAmB,UAAU,IAAI,IAAI;AAGrC,YAAU;;AAEV,WAAO,OAAO,SAAS,KAAK;AAAA;;AAE5B,iBAAa,SAAS,KAAK;AAAA;;AAE3B,iBAAa,WAAW,OAAO;AAAA;;AAE/B,iBAAa,gBAAgB,YAAY;AAAA;;;;YAGtC,6BACmB,MAAA,QAAA,EAAA,SAAA,OAAA,eAAe,OAAM,CAAA,wCAEpB,OAAO,GAAA,cAAyB,WAAW,CAAA,GAAA,CAAA,CAAA,CAAA,GAAA,cAAA,QAAnD,IAAE,CAAA,CAAA,IAAA,MAAA,UACM,MAAA,QAAA,EAAA,SAAA,OAAA,eAAe,OAAM,CAAA;;;;;;AC3CnC,MAAA,EAAA,iBAAgB,IAAA;AAChB,MAAA,EAAA,YAAW,IAAA;AAEpB,QAAA,EAAA,UAAY,EAAA,WACZ,GAAA,SAAA,IACE,OAAM;;QACJ,QAAQ,SAAS,aAAa;AAKnB,mBAAgB;;;AAH/B,YAAU;;AAEV,WAAO,OAAO,SAAS,KAAK;AAAA;;YAIzB,iGAGuB,OAAO,GAAA,EAAA,MAAA,SAAA,GAAA,cAAuC,WAAW,CAAA,GAAA,CAAA,CAAA,CAAA,GAAA,cAAA,QAAjE,IAAE,CAAA,CAAA,IAAA,MAAA,UAAA,MAAA,QAAA,EAAA,QAAA,CAAA,IAAA,EAAA,WAAA;;;;;;ACjBX,MAAA,EAAA,iBAAgB,IAAA;AAChB,MAAA,EAAA,YAAW,IAAA;AAEpB,QAAA,EAAA,UAAY,EAAA,WACZ,GAAA,SAAA,IACE,OAAM;;QACJ,QAAQ,SAAS,aAAa;AAKnB,mBAAgB;;;AAH/B,YAAU;;AAEV,WAAO,OAAO,SAAS,KAAK;AAAA;;YAIzB,iGAGuB,OAAO,GAAA,EAAA,MAAA,SAAA,GAAA,cAAuC,WAAW,CAAA,GAAA,CAAA,CAAA,CAAA,GAAA,cAAA,QAAjE,IAAE,CAAA,CAAA,IAAA,MAAA,UAAA,MAAA,QAAA,EAAA,QAAA,CAAA,IAAA,EAAA,WAAA;;;;;;ACjBX,MAAA,EAAA,iBAAgB,IAAA;QAChB,KAAI,IAAA;AACJ,MAAA,EAAA,YAAW,IAAA;AAEpB,QAAA,EAAA,UAAY,EAAA,YACZ,GAAA,SAAA,IACE,OAAM;;QACJ,QAAQ,SAAS,MAAM;AAKZ,mBAAgB;;;;AAH/B,YAAU,aAAa,IAAI;;AAE3B,WAAO,OAAO,SAAS,KAAK;AAAA;;YAIzB,qHAGqC,OAAO,GAAA,cAA+C,WAAW,CAAA,GAAA,CAAA,CAAA,CAAA,GAAA,cAAA,QAAvF,IAAE,CAAA,CAAA,IAAA,MAAA,uCAElB,IAAA,OAAA,KAAK,KAAK,CAAA,GAAA,WAAA;;;QCtBF,YAAY,UAAA,IAAA;QACZ,cAAc,MAAA,IAAA;;;AAOX,SAAA,0EAAA,cAAA,gBAAA,+DAEP,WAAS,CAAA,CAAA;;;QCJL,OAAO,EAAA,IAAA;QACP,QAAQ,EAAA,IAAA;QACR,UAAU,GAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2DAYX,OAAK,CAAAF,UAAA;sBACNA,MAAK,SAAS;;;;;;;;;AAOhB,yBAAA,GAAA,OAAAA,MAAK,KAAK,CAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;QC5BN,YAAY,SAAA,IAAA;QACZ,cAAc,MAAA,IAAA;;;AAOX,SAAA,0EAAA,cAAA,gBAAA,+DAEP,WAAS,CAAA,CAAA;;;;;;;;ACAV,QAAA,OAAO,WAAW,MAAM;;AACb,wBAAA;AACjB,QAAM,OAAO,eAAe;QAEjB,OAAO,MAAA,IAAA;AACP,MAAA,EAAA,aAAA,IAAA;AACA,MAAA,EAAA,YAAA,IAAA;AAEP,MAAA,QAAA;AAAA,IAEH,MAAM;AAAA,IACN,OAAO;AAAA,IACP,UAAU;AAAA;;;;;;;;;;;;;;;;;;;;;;AAyBsC,iBAAA,oHAAA,OAAA,MAAM,EAAE,WAAW,guBAgCxD,aAAa,mBAAiB,CAAA,CAAA,oIAAA,OAOgB,aAAa,IAAI,CAGnE,6CAAA,OAAA,MAAM,EAAE,YAAY,CAAA,CAAA,IAAA,OACpB,MAAM,aAAa,aAAa,GAAI,EAAE,OAAO,IAAI,CAAA,CAAA,qMAAA,OAST,MAAM,EAAE,OAAO,CAS7C,CAAA,+OAAA,MAAM,MAAM,YAAY,KAAE,aAAA,EAAA,GAAA,cAAA,SAHxB,MAAM,OASsB,CAAA,CAAA,2FAAA,OAAA,MAAM,EAAE,MAAM,CAAA,CAAA,0LAAA,cAAA,SAM1C,MAAM,MAQsB,CAAA,CAAA,2FAAA,OAAA,MAAM,EAAE,cAAc,CAAA,CAAA,8LAAA,cAAA,SAMlD,MAAM,UAYnB,CAAA,CAAA,8LAAA,OAAA,MAAM,EAAE,MAAM,CAAA,CAAA;AAAA;;;;;;;;;AC7IJ,wBAAA;AACjB,QAAM,OAAO,eAAe;AAQtB,QAAA,OAAO,WAAW,MAAM;;QAEnB,OAAO,MAAA,IAAA;AACP,MAAA,EAAA,MAAAG,MAAA,IAAA;MAEP,QAAQ;MAoBR,UAAU;;;;;;;;;;AAVP,UAAA,MAAA;;cAEDA,MAAK,IAAA;AACR,oBAAA,MAAc,oBAAoB,aAAa,OAAOA,MAAK,EAAE;AAAA;;;AAI/D,gBAAQ;AAAA;;;;;;;;;;;;;kJAkBN,MAAM,EAAE,oBAAkB,EAAI,MAAMA,MAAK,MAAI,CAAA,CAAA,miBAuBzC,WACC,MAAM,SAAS,IAaZ,0XAAA,OAAA,MAAM,EAAE,OAAO,CACX,CAAA,IAWJ,gEAAA,iGAAA,OAAA,MAAM,EAAE,YAAY,CAChB,CAAA,IACH,GAAA,OAA4B,GAAG,CAAA;YAS5B,MAAM,KAAM,CAAA,GAAG,MAAC;AAClB,kBAAA,EAAE,OAAO,IAAI,EAAE,OAAO,EAAU,QAA2B;AAC3D,kBAAA,EAAE,OAAO,IAAI,EAAE,OAAO,EAAU;qBAC7B;AAAA;;AAGiB,qBAAA,cAAA,oBAAA,OAAA,QAAQ,MAAM,SAAS,KAC7C,YAAU,IAAA,IAAA,gDAAA,oCAAA,QAAA,OAGG,KAAK,IAAE,IAAA,CAAA,kEAAA,OAEjB,KAAK,KAAK,CAOX,8GAAA,OAAA,MAAM,KAAK,aAAa,GAAI,EAAE,OAAO,KAAK,CAMzB,CAAA,sFAAA,mBAAA,SAAA,SAAA,EAAA,SAAA,UAAA,EAAA,SAAA,MAAM,EAAE,aAAa,EAAA,GAAA,IAAA;AAAA;;;;;6CAsC7C,8CAAA,OAAAA,MAAK,IAAI,CAAA,IAAA,OACT,MAAM,EAAE,uBAAuB,CAAA,CAAA,QAAA;;;;;;;;;;;;;;ACzK/B,QAAA,OAAO,WAAW,MAAM;;AACb,wBAAA;QAEN,OAAO,MAAA,IAAA;AAMd,MAAA,QAAA;AAAA,IACH,MAAM;AAAA,IACN,OAAO;AAAA,IACP,UAAU;AAAA;;;;;;;;;;AAIJ,UAAA,MAAA;AACN,gBAAA;AAAA,UACC,MAAM;AAAA,UACN,OAAO;AAAA,UACP,UAAU;AAAA,UACV,MAAM;AAAA;;;;;;;;;;;;;;iJA6FyC,MAAM,EAAE,UAAU,CAAA,CAAA,wuBAAA,kCAAA;AAAA,YAiC1D;AAAA;qDAKC,MAAM,EAAE,MAAM,CAAA,CAAA,4BAAA,kCAAA;AAAA,YAMf;AAAA;UAIC,IAAA,aAAA,mBAAA,OAAA,MAAM,EAAE,YAAY,CAKpB,CAAA,qCAEuC,kFAAA,OAAA,MAAM,EAAE,MAAM,2KAMzC,MAAM,EAAE,iBAAiB,GAGZ,CAAA,CAAA,qCAAA,OAAA,MAAM,EAAE,SAAS,CAAA,CAAA,kCAAA,OACpB,MAAM,EAAE,MAAM,CACb,CAAA,mCAAA,OAAA,MAAM,EAAE,OAAO,CAAA,CAAA,iHAAA,OAMC,MAAM,EAAE,MAAM,sMAOzC,MAAM,EAAE,sBAAsB,GAD/B,CAAA,CAAA,+BAAA,cAAA,SAAA,MAAM,0KAWsB,MAAM,EAAE,OAAO,CAO1C,CAAA,wKAAA,cAAA,eAAA,MAAM,EAAE,kBAAkB,GAAA,CAAA,CAAA,YAAA,cAAA,SAD3B,MAAM,OAQsB,CAAA,CAAA,gGAAA,OAAA,MAAM,EAAE,UAAU,CAAA,CAAA,2KAAA,cAAA,eAO7C,MAAM,EAAE,qBAAqB,GAD9B,CAAA,CAAA,sBAAA,cAAA,SAAA,MAAM,UAAQ,CAAA,CAAA,eAiDqK,gFAAA,+LAAA,OAE/L,IAAE,IAAA,CAAA,mBAEY,EAAA,IAAA,OAEhB,MAAM,EAAE,MAAM,CAAA,CAAA;;;;;;;;;;;;;;ACvRrB,QAAM,OAAO,YAAY;AACzB,QAAM,OAAO,eAAe;QAqBtB,OAAO,WAAW,MAAM;;QAEnB,QAAK,CAAA,EAAA,IAAA;AAEZ,MAAA,SAAS;AACT,MAAA,eAAe;AAEf,MAAA,OAAO;AAEP,MAAA,0BAA0B;AAC1B,MAAA,mBAAmB;AAEnB,MAAA,qBAAqB;AACrB,MAAA,oBAAoB;AAuBpB,MAAA,UAAU;MAYV;;;;;;;;AAED,oBAAgB,MACjB,OAAQ,CAAAA,UAAI;AACK;eACT;AAAA;OAQR,KAAI,CAAE,GAAG,MAAC;AACN,UAAA,EAAE,OAAO,IAAI,EAAE,OAAO,EAAU,QAAuB;AACvD,UAAA,EAAE,OAAO,IAAI,EAAE,OAAO,EAAU,QAAsB;aACnD;AAAA,OAEP,OAAO,OAAO,KAAK,IAAI,OAAO,EAAE;;;cAIvB,wBAAuB;AAAA;;AAAvB,oCAAuB;;;;;;;;;qBAUpB;AAAA,cAFF;AAAA;;;AAAA,8BAAiB;;;;;;;cAUlB,iBAAgB;AAAA;;AAAhB,6BAAgB;;;;;;;;cAKyB;AAAA,cAA1B;AAAA;;;AAAA,+BAAkB;;;;;qJAI1C,MAAM,EAAE,OAAO,oKAGoD,MAAM,MAAM,CAuBhE,6hBAAA,cAAA,eAAA,MAAM,EAAE,QAAQ,GADjB,CAAA,CAAA,GAAA,cAAA,SAAA,+FAMK,MAAM,EAAE,UAAU,EAAA,GAAA,IAAA;AAAA;;;IA+BjC,CAAA,CAAA,8cAAA,OAAA,MAAM,EAAE,MAAM,CAEV,CAAA,IAqBJ,2BAAA,mBAAA,WAAA,WAAA,EAAA,SAAA,UAAA,EAAA,WAAA,SAAA,GAAA,CAAA,GAAA,CAAA,CAAA,CAAA,SAAA,qHAAA,OAAA,MAAM,EAAE,MAAM,CAEV,CAAA,IAqBJ,2BAAA,mBAAA,WAAA,WAAA,EAAA,SAAA,UAAA,EAAA,WAAA,SAAA,GAAA,IAAA,CAAA,CAAA,CAAA,SAAA,qHAAA,OAAA,MAAM,EAAE,OAAO,CAEX,CAAA,IAsBJ,2BAAA,mBAAA,WAAA,WAAA,EAAA,SAAA,UAAA,EAAA,WAAA,YAAA,CAAA,GAAA,CAAA,CAAA,CAAA,SAAA,qHAAA,OAAA,MAAM,EAAE,aAAa,CAEjB,CAAA,IAqBJ,2BAAA,mBAAA,WAAA,WAAA,EAAA,SAAA,UAAA,EAAA,WAAA,SAAA,GAAA,IAAA,CAAA,CAAA,CAAA,SAAA,qHAAA,OAAA,MAAM,EAAE,YAAY,CAChB,CAAA,IAEG,0IAoBP,qHAAA,OAAA,MAAM,EAAE,UAAU,CAEd,CAAA,0OAoBD,eAAa,CAAAA,OAAA,YAAA;;;;gBAgBTA,MAAK,SAAS,UAAU,SAASA,MAAK,SAAS,SAAS,YAAY;AAAA,UACjE,SAAA,MAAM,EAAEA,MAAK,IAAI;AAAA;;;;;QAQrBA,MAAK,kBAAkB,WAAW,cAAc,KACrDA,MAAK,kBAAkB,WAAW,kCAAkC,KACpEA,MAAK,kBAAkB,WAAW,OAAO,IACtCA,MAAK;;mEAK8BA,MAAK,IAAI,CAGzB,4CAAA,OAAAA,MAAK,KAAK,CAAA,+BAAA,OAGjC,MAAMA,MAAK,iBAAiB,GAAI,EAAE,gDAIlC,MAAMA,MAAK,aAAa,GAAI,EAAE,OAAO,IAAI,wCAGlBA,MAAK,aAAa,EAAE,gFAItC,QAAQ,SAAS,4BAA4BA,MAAK,SAAS,kFAC7C,MAAM,EAAE,OAAO,EAAA,GAAA,CAAA,GAAA;AAAA;;;wFAahB,MAAM,EAAE,WAAW,EAAA,GAAA,CAAA,GAAA;AAAA;;;YAyBhCA,MAAK,SAAS,kFACA,MAAM,EAAE,aAAa,EAAA,GAAA,CAAA,GAAA;AAAA;;;;8FAkC3C,MAAM,EAAE,wDAAwD,CAAA,CAAA,UAAA,mBAAAC,cAAA,YAAA,EAAA;AAAA;MAGvC,EAAA,OAAA,MAAM,QAAM,KAAA;AAAA;;;;;;;;;;;;;;;;;;QC3blC,OAAO,WAAW,MAAM;;MAE1B,QAAK,CAAA;QASH,kBAAe,YAAA;AACpB,YAAc,MAAA,SAAS,aAAa,KAAK;AAAA;;AALxB;AACjB,sBAAe;AAAA;;;;;IAoCX;AAAA;+gBAkBwB,MAAM,EAAE,UAAU,CAAA,CAAA,kCAAA,8EAAA;AAAA,IAO1C;AAAA;EAiBwB,CAAA,oqBAAA,OAAA,MAAM,EAAE,QAAQ,CAKvC,CAAA;;;;;","x_google_ignoreList":[0,1,2,3,4,5,6]}