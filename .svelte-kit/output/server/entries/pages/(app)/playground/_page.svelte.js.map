{"version":3,"file":"_page.svelte.js","sources":["../../../../../../../src/lib/components/icons/Cog6.svelte","../../../../../../../src/lib/components/playground/Chat/Message.svelte","../../../../../../../src/lib/components/playground/Chat/Messages.svelte","../../../../../../../src/lib/components/common/Sidebar.svelte","../../../../../../../src/lib/components/icons/ArrowRight.svelte","../../../../../../../src/lib/components/playground/Chat.svelte"],"sourcesContent":["<script lang=\"ts\">\n\texport let className = 'w-4 h-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t\td=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z\"\n\t/>\n\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\" />\n</svg>\n","<script lang=\"ts\">\n\timport { onMount, getContext } from 'svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let message;\n\texport let idx;\n\n\texport let onDelete;\n\n\tlet textAreaElement: HTMLTextAreaElement;\n\n\tonMount(() => {\n\t\ttextAreaElement.style.height = '';\n\t\ttextAreaElement.style.height = textAreaElement.scrollHeight + 'px';\n\t});\n</script>\n\n<div class=\"flex gap-2 group\">\n\t<div class=\"flex items-start pt-1\">\n\t\t<div\n\t\t\tclass=\"px-2 py-1 text-sm font-semibold uppercase min-w-[6rem] text-left rounded-lg transition\"\n\t\t>\n\t\t\t{$i18n.t(message.role)}\n\t\t</div>\n\t</div>\n\n\t<div class=\"flex-1\">\n\t\t<!-- $i18n.t('a user') -->\n\t\t<!-- $i18n.t('an assistant') -->\n\t\t<textarea\n\t\t\tid=\"{message.role}-{idx}-textarea\"\n\t\t\tbind:this={textAreaElement}\n\t\t\tclass=\"w-full bg-transparent outline-hidden rounded-lg p-2 text-sm resize-none overflow-hidden\"\n\t\t\tplaceholder={$i18n.t(`Enter {{role}} message here`, {\n\t\t\t\trole: message.role === 'user' ? $i18n.t('a user') : $i18n.t('an assistant')\n\t\t\t})}\n\t\t\trows=\"1\"\n\t\t\ton:input={(e) => {\n\t\t\t\ttextAreaElement.style.height = '';\n\t\t\t\ttextAreaElement.style.height = textAreaElement.scrollHeight + 'px';\n\t\t\t}}\n\t\t\ton:focus={(e) => {\n\t\t\t\ttextAreaElement.style.height = '';\n\t\t\t\ttextAreaElement.style.height = textAreaElement.scrollHeight + 'px';\n\n\t\t\t\t// e.target.style.height = Math.min(e.target.scrollHeight, 200) + 'px';\n\t\t\t}}\n\t\t\tbind:value={message.content}\n\t\t/>\n\t</div>\n\n\t<div class=\" pt-1\">\n\t\t<button\n\t\t\tclass=\" group-hover:text-gray-500 dark:text-gray-900 dark:hover:text-gray-300 transition\"\n\t\t\ton:click={() => {\n\t\t\t\tonDelete();\n\t\t\t}}\n\t\t>\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\td=\"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t</button>\n\t</div>\n</div>\n","<script lang=\"ts\">\n\timport { onMount, getContext } from 'svelte';\n\timport Message from './Message.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let messages = [];\n</script>\n\n<div class=\"py-3 space-y-3\">\n\t{#each messages as message, idx}\n\t\t<Message\n\t\t\t{message}\n\t\t\t{idx}\n\t\t\tonDelete={() => {\n\t\t\t\tmessages = messages.filter((message, messageIdx) => messageIdx !== idx);\n\t\t\t}}\n\t\t/>\n\t{/each}\n</div>\n","<script lang=\"ts\">\n\timport { fade, slide } from 'svelte/transition';\n\n\texport let show = false;\n\texport let side = 'right';\n\texport let width = '200px';\n\n\texport let className = '';\n\texport let duration = 100;\n</script>\n\n{#if show}\n\t<!-- svelte-ignore a11y-no-static-element-interactions -->\n\t<div\n\t\tclass=\"absolute z-20 top-0 right-0 left-0 bottom-0 bg-white/20 dark:bg-black/5 w-full min-h-full h-full flex justify-center overflow-hidden overscroll-contain\"\n\t\ton:mousedown={() => {\n\t\t\tshow = false;\n\t\t}}\n\t\ttransition:fade={{ duration: duration }}\n\t/>\n\n\t<div\n\t\tclass=\"absolute z-30 shadow-xl {side === 'right' ? 'right-0' : 'left-0'} top-0 bottom-0\"\n\t\ttransition:slide={{ duration: duration, axis: side === 'right' ? 'x' : 'y' }}\n\t>\n\t\t<div class=\"{className} h-full\" style=\"width: {show ? width : '0px'}\">\n\t\t\t<slot />\n\t\t</div>\n\t</div>\n{/if}\n","<script lang=\"ts\">\n\texport let className = 'size-4';\n\texport let strokeWidth = '1.5';\n</script>\n\n<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\tfill=\"none\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width={strokeWidth}\n\tstroke=\"currentColor\"\n\tclass={className}\n>\n\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3\" />\n</svg>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\n\timport { goto } from '$app/navigation';\n\timport { onMount, tick, getContext } from 'svelte';\n\n\timport {\n\t\tOLLAMA_API_BASE_URL,\n\t\tOPENAI_API_BASE_URL,\n\t\tWEBUI_API_BASE_URL,\n\t\tWEBUI_BASE_URL\n\t} from '$lib/constants';\n\timport { WEBUI_NAME, config, user, models, settings } from '$lib/stores';\n\n\timport { chatCompletion, generateOpenAIChatCompletion } from '$lib/apis/openai';\n\n\timport { splitStream } from '$lib/utils';\n\timport Collapsible from '../common/Collapsible.svelte';\n\n\timport Messages from '$lib/components/playground/Chat/Messages.svelte';\n\timport ChevronUp from '../icons/ChevronUp.svelte';\n\timport ChevronDown from '../icons/ChevronDown.svelte';\n\timport Pencil from '../icons/Pencil.svelte';\n\timport Cog6 from '../icons/Cog6.svelte';\n\timport Sidebar from '../common/Sidebar.svelte';\n\timport ArrowRight from '../icons/ArrowRight.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet loaded = false;\n\n\tlet selectedModelId = '';\n\tlet loading = false;\n\tlet stopResponseFlag = false;\n\n\tlet systemTextareaElement: HTMLTextAreaElement;\n\tlet messagesContainerElement: HTMLDivElement;\n\n\tlet showSystem = false;\n\tlet showSettings = false;\n\n\tlet system = '';\n\n\tlet role = 'user';\n\tlet message = '';\n\n\tlet messages = [];\n\n\tconst scrollToBottom = () => {\n\t\tconst element = messagesContainerElement;\n\n\t\tif (element) {\n\t\t\telement.scrollTop = element?.scrollHeight;\n\t\t}\n\t};\n\n\tconst stopResponse = () => {\n\t\tstopResponseFlag = true;\n\t\tconsole.log('stopResponse');\n\t};\n\n\tconst resizeSystemTextarea = async () => {\n\t\tawait tick();\n\t\tif (systemTextareaElement) {\n\t\t\tsystemTextareaElement.style.height = '';\n\t\t\tsystemTextareaElement.style.height = Math.min(systemTextareaElement.scrollHeight, 555) + 'px';\n\t\t}\n\t};\n\n\t$: if (showSystem) {\n\t\tresizeSystemTextarea();\n\t}\n\n\tconst chatCompletionHandler = async () => {\n\t\tif (selectedModelId === '') {\n\t\t\ttoast.error($i18n.t('Please select a model.'));\n\t\t\treturn;\n\t\t}\n\n\t\tconst model = $models.find((model) => model.id === selectedModelId);\n\t\tif (!model) {\n\t\t\tselectedModelId = '';\n\t\t\treturn;\n\t\t}\n\n\t\tconst [res, controller] = await chatCompletion(\n\t\t\tlocalStorage.token,\n\t\t\t{\n\t\t\t\tmodel: model.id,\n\t\t\t\tstream: true,\n\t\t\t\tmessages: [\n\t\t\t\t\tsystem\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\trole: 'system',\n\t\t\t\t\t\t\t\tcontent: system\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t: undefined,\n\t\t\t\t\t...messages\n\t\t\t\t].filter((message) => message)\n\t\t\t},\n\t\t\t`${WEBUI_BASE_URL}/api`\n\t\t);\n\n\t\tlet responseMessage;\n\t\tif (messages.at(-1)?.role === 'assistant') {\n\t\t\tresponseMessage = messages.at(-1);\n\t\t} else {\n\t\t\tresponseMessage = {\n\t\t\t\trole: 'assistant',\n\t\t\t\tcontent: ''\n\t\t\t};\n\t\t\tmessages.push(responseMessage);\n\t\t\tmessages = messages;\n\t\t}\n\n\t\tawait tick();\n\t\tconst textareaElement = document.getElementById(`assistant-${messages.length - 1}-textarea`);\n\n\t\tif (res && res.ok) {\n\t\t\tconst reader = res.body\n\t\t\t\t.pipeThrough(new TextDecoderStream())\n\t\t\t\t.pipeThrough(splitStream('\\n'))\n\t\t\t\t.getReader();\n\n\t\t\twhile (true) {\n\t\t\t\tconst { value, done } = await reader.read();\n\t\t\t\tif (done || stopResponseFlag) {\n\t\t\t\t\tif (stopResponseFlag) {\n\t\t\t\t\t\tcontroller.abort('User: Stop Response');\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tlet lines = value.split('\\n');\n\n\t\t\t\t\tfor (const line of lines) {\n\t\t\t\t\t\tif (line !== '') {\n\t\t\t\t\t\t\tconsole.log(line);\n\t\t\t\t\t\t\tif (line === 'data: [DONE]') {\n\t\t\t\t\t\t\t\t// responseMessage.done = true;\n\t\t\t\t\t\t\t\tmessages = messages;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlet data = JSON.parse(line.replace(/^data: /, ''));\n\t\t\t\t\t\t\t\tconsole.log(data);\n\n\t\t\t\t\t\t\t\tif (responseMessage.content == '' && data.choices[0].delta.content == '\\n') {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttextareaElement.style.height = textareaElement.scrollHeight + 'px';\n\n\t\t\t\t\t\t\t\t\tresponseMessage.content += data.choices[0].delta.content ?? '';\n\t\t\t\t\t\t\t\t\tmessages = messages;\n\n\t\t\t\t\t\t\t\t\ttextareaElement.style.height = textareaElement.scrollHeight + 'px';\n\n\t\t\t\t\t\t\t\t\tawait tick();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\n\t\t\t\tscrollToBottom();\n\t\t\t}\n\t\t}\n\t};\n\n\tconst addHandler = async () => {\n\t\tif (message) {\n\t\t\tmessages.push({\n\t\t\t\trole: role,\n\t\t\t\tcontent: message\n\t\t\t});\n\t\t\tmessages = messages;\n\t\t\tmessage = '';\n\t\t\tawait tick();\n\t\t\tscrollToBottom();\n\t\t}\n\t};\n\n\tconst submitHandler = async () => {\n\t\tif (selectedModelId) {\n\t\t\tawait addHandler();\n\n\t\t\tloading = true;\n\t\t\tawait chatCompletionHandler();\n\n\t\t\tloading = false;\n\t\t\tstopResponseFlag = false;\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tif ($user?.role !== 'admin') {\n\t\t\tawait goto('/');\n\t\t}\n\n\t\tif ($settings?.models) {\n\t\t\tselectedModelId = $settings?.models[0];\n\t\t} else if ($config?.default_models) {\n\t\t\tselectedModelId = $config?.default_models.split(',')[0];\n\t\t} else {\n\t\t\tselectedModelId = '';\n\t\t}\n\t\tloaded = true;\n\t});\n</script>\n\n<div class=\" flex flex-col justify-between w-full overflow-y-auto h-full\">\n\t<div class=\"mx-auto w-full md:px-0 h-full relative\">\n\t\t<Sidebar bind:show={showSettings} className=\" bg-white dark:bg-gray-900\" width=\"300px\">\n\t\t\t<div class=\"flex flex-col px-5 py-3 text-sm\">\n\t\t\t\t<div class=\"flex justify-between items-center mb-2\">\n\t\t\t\t\t<div class=\" font-medium text-base\">Settings</div>\n\n\t\t\t\t\t<div class=\" translate-x-1.5\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg\"\n\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\tshowSettings = !showSettings;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ArrowRight className=\"size-3\" strokeWidth=\"2.5\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"mt-1\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\" text-xs font-medium mb-1\">Model</div>\n\n\t\t\t\t\t\t<div class=\"w-full\">\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclass=\"w-full bg-transparent border border-gray-100 dark:border-gray-850 rounded-lg py-1 px-2 -mx-0.5 text-sm outline-hidden\"\n\t\t\t\t\t\t\t\tbind:value={selectedModelId}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#each $models as model}\n\t\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\">{model.name}</option>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Sidebar>\n\n\t\t<div class=\" flex flex-col h-full px-3.5\">\n\t\t\t<div class=\"flex w-full items-start gap-1.5\">\n\t\t\t\t<Collapsible\n\t\t\t\t\tclassName=\"w-full flex-1\"\n\t\t\t\t\tbind:open={showSystem}\n\t\t\t\t\tbuttonClassName=\"w-full rounded-lg text-sm border border-gray-100 dark:border-gray-850 w-full py-1 px-1.5\"\n\t\t\t\t\tgrow={true}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex gap-2 justify-between items-center\">\n\t\t\t\t\t\t<div class=\" shrink-0 font-medium ml-1.5\">\n\t\t\t\t\t\t\t{$i18n.t('System Instructions')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if !showSystem}\n\t\t\t\t\t\t\t<div class=\" flex-1 text-gray-500 line-clamp-1\">\n\t\t\t\t\t\t\t\t{system}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t<button class=\"p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg\">\n\t\t\t\t\t\t\t\t{#if showSystem}\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-3.5\" />\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<Pencil className=\"size-3.5\" />\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div slot=\"content\">\n\t\t\t\t\t\t<div class=\"pt-1 px-1.5\">\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tbind:this={systemTextareaElement}\n\t\t\t\t\t\t\t\tclass=\"w-full h-full bg-transparent resize-none outline-hidden text-sm\"\n\t\t\t\t\t\t\t\tbind:value={system}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\"You're a helpful assistant.\")}\n\t\t\t\t\t\t\t\ton:input={() => {\n\t\t\t\t\t\t\t\t\tresizeSystemTextarea();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trows=\"4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Collapsible>\n\n\t\t\t\t<div class=\"translate-y-1\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg\"\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tshowSettings = !showSettings;\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Cog6 />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tclass=\" pb-2.5 flex flex-col justify-between w-full flex-auto overflow-auto h-0\"\n\t\t\t\tid=\"messages-container\"\n\t\t\t\tbind:this={messagesContainerElement}\n\t\t\t>\n\t\t\t\t<div class=\" h-full w-full flex flex-col\">\n\t\t\t\t\t<div class=\"flex-1 p-1\">\n\t\t\t\t\t\t<Messages bind:messages />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"pb-3\">\n\t\t\t\t<div class=\"text-xs font-medium text-gray-500 px-2 py-1\">\n\t\t\t\t\t{selectedModelId}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"border border-gray-100 dark:border-gray-850 w-full px-3 py-2.5 rounded-xl\">\n\t\t\t\t\t<div class=\"py-0.5\">\n\t\t\t\t\t\t<!-- $i18n.t('a user') -->\n\t\t\t\t\t\t<!-- $i18n.t('an assistant') -->\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tbind:value={message}\n\t\t\t\t\t\t\tclass=\" w-full h-full bg-transparent resize-none outline-hidden text-sm\"\n\t\t\t\t\t\t\tplaceholder={$i18n.t(`Enter {{role}} message here`, {\n\t\t\t\t\t\t\t\trole: role === 'user' ? $i18n.t('a user') : $i18n.t('an assistant')\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\ton:input={(e) => {\n\t\t\t\t\t\t\t\te.target.style.height = '';\n\t\t\t\t\t\t\t\te.target.style.height = Math.min(e.target.scrollHeight, 150) + 'px';\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ton:focus={(e) => {\n\t\t\t\t\t\t\t\te.target.style.height = '';\n\t\t\t\t\t\t\t\te.target.style.height = Math.min(e.target.scrollHeight, 150) + 'px';\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\trows=\"2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-gray-50 hover:bg-gray-100 text-gray-900 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition rounded-lg\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\trole = role === 'user' ? 'assistant' : 'user';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#if role === 'user'}\n\t\t\t\t\t\t\t\t\t{$i18n.t('User')}\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t{$i18n.t('Assistant')}\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{#if !loading}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tdisabled={message === ''}\n\t\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium disabled:bg-gray-50 dark:disabled:hover:bg-gray-850 disabled:cursor-not-allowed bg-gray-50 hover:bg-gray-100 text-gray-900 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition rounded-lg\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\taddHandler();\n\t\t\t\t\t\t\t\t\t\trole = role === 'user' ? 'assistant' : 'user';\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Add')}\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-lg\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Run')}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm font-medium bg-gray-300 text-black transition rounded-lg\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tstopResponse();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{$i18n.t('Cancel')}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"],"names":["message"],"mappings":";;;;;;;;;;QACY,YAAY,UAAA,IAAA;QACZ,cAAc,MAAA,IAAA;;;AAOX,SAAA,0EAAA,cAAA,gBAAA,+DAEP,WAAS,CAAA,CAAA;;;;ACRV,QAAA,OAAO,WAAW,MAAM;;AAEnB,MAAA,EAAA,QAAA,IAAA;AACA,MAAA,EAAA,IAAA,IAAA;AAEA,MAAA,EAAA,SAAA,IAAA;AAEP,MAAA;;;;;wLAaD,MAAM,EAAE,QAAQ,IAAI,CAAA,CAAA,oDAAA,OAQhB,QAAQ,MAAI,IAAA,IAAA,MAAA,OAAG,KAAG,IAAA,IAAA,WAAA,oGAAA;AAAA;IAGV,MAAM,EAAC,+BAAA;AAAA,MACnB,MAAM,QAAQ,SAAS,SAAS,MAAM,EAAE,QAAQ,IAAI,MAAM,EAAE,cAAc;AAAA;;qCAHhE,iBAAe,CAAA,CAAA,IAAA,OAgBd,QAAQ,WAAO,EAAA,CAAA;;;AC5ChB,aAAW,MAAM;AAEnB,MAAA,EAAA,WAAA,CAAA,EAAA,IAAA;;6CAIJ,UAAQ,CAAA,SAAA,QAAA;;;;;;;AAKZ,qBAAW,SAAS,OAAM,CAAEA,UAAS,eAAe,eAAe,GAAG;AAAA;;;;;;;;QCZ9D,OAAO,MAAA,IAAA;QACP,OAAO,QAAA,IAAA;QACP,QAAQ,QAAA,IAAA;QAER,YAAY,GAAA,IAAA;QACZ,WAAW,IAAA,IAAA;;;;;;YAGlB,OAW6B,4LAAA,6BAAA,OAAA,SAAS,UAAU,YAAY,UAGlD,IAAA,IAAA,iBAAA,iBAAA,OAAA,WAAkC,IAAA,IAAA,SAAA,YAAA,YAAA,OAAA,OAAO,QAAQ,OAAK,IAAA,CAAA,KAAA,MAAA,UAAA,MAAA,QAAA,CAAA,CAAA,IAAA,EAAA;;;QCxBzD,YAAY,SAAA,IAAA;QACZ,cAAc,MAAA,IAAA;;;AAOX,SAAA,0EAAA,cAAA,gBAAA,+DAEP,WAAS,CAAA,CAAA;;;;;;;;;;;;ACgBV,QAAA,OAAO,WAAW,MAAM;;MAI1B,kBAAkB;AAIlB,MAAA;AACA,MAAA;MAEA,aAAa;MACb,eAAe;MAEf,SAAS;AAKT,MAAA,WAAA,CAAA;AAeE,QAAA,uBAAA,YAAA;AACC,UAAA,KAAA;AAAA;;;;;;;;AAOA,UAAA,YAAA;AACN,6BAAA;AAAA;;;;;;;cA+IoB;AAAA;;;AAAA,yBAAY;;;;;;ksBA0BnB,SAAO,WAAA;AACE,mBAAA,UAAA,cAAA,SAAA,MAAM,IAAyC,CAAA,CAAA,wCAAA,OAAA,MAAM,IAAI,CAAA;AAAA;;;;;;;;cAetE;AAAA,cAFK;AAAA;;;AAAA,uBAAU;;;;;;AAgCL,iBAAA,iIAAA,cAAA,eAAA,MAAM,EAAE,6BAA6B,GAHvC,CAAA,CAAA,YAAA,cAAA,QAAA,oCAEO,EAAA,CAAA;AAAA;;AAzBlB,iBAAA,iGAAA,OAAA,MAAM,EAAE,qBAAqB,aAGzB,sEAEH,MAAM,CAAA,mHAMF;;;0UAwCE,0BAAwB,CAAA,CAAA,qEAAA,mBAAA,UAAA,UAAA,EAAA;AAAA;;;;;;;;;6GAWjC,eAAe,CAAA,wMAAA;AAAA;MASD,MAAM,EAAC,+BAAA;AAAA,QACnB,MAAwB,MAAM,EAAE,QAAQ;AAAA;;yBAHtB,EAAA,CAAA,oPA0BhB,MAAM,EAAE,MAAM,CAAA,CAAA,0BAUL,WAOT,UAAA,0PAAA,OAAA,MAAM,EAAE,KAAK,CASb,CAAA,gLAAA,OAAA,MAAM,EAAE,KAAK,CAAA,CAAA,WASG;AAAA;;;;;;;;;;;"}