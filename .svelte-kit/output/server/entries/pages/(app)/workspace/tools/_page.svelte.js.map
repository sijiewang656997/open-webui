{"version":3,"file":"_page.svelte.js","sources":["../../../../../../../../src/lib/components/workspace/Tools.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\timport fileSaver from 'file-saver';\n\tconst { saveAs } = fileSaver;\n\n\timport { onMount, getContext } from 'svelte';\n\timport { WEBUI_NAME, config, prompts, tools as _tools, user } from '$lib/stores';\n\timport { createNewPrompt, deletePromptByCommand, getPrompts } from '$lib/apis/prompts';\n\n\timport { goto } from '$app/navigation';\n\timport {\n\t\tcreateNewTool,\n\t\tdeleteToolById,\n\t\texportTools,\n\t\tgetToolById,\n\t\tgetToolList,\n\t\tgetTools\n\t} from '$lib/apis/tools';\n\timport ArrowDownTray from '../icons/ArrowDownTray.svelte';\n\timport Tooltip from '../common/Tooltip.svelte';\n\timport ConfirmDialog from '../common/ConfirmDialog.svelte';\n\timport ToolMenu from './Tools/ToolMenu.svelte';\n\timport EllipsisHorizontal from '../icons/EllipsisHorizontal.svelte';\n\timport ValvesModal from './common/ValvesModal.svelte';\n\timport ManifestModal from './common/ManifestModal.svelte';\n\timport Heart from '../icons/Heart.svelte';\n\timport DeleteConfirmDialog from '$lib/components/common/ConfirmDialog.svelte';\n\timport GarbageBin from '../icons/GarbageBin.svelte';\n\timport Search from '../icons/Search.svelte';\n\timport Plus from '../icons/Plus.svelte';\n\timport ChevronRight from '../icons/ChevronRight.svelte';\n\timport Spinner from '../common/Spinner.svelte';\n\timport { capitalizeFirstLetter } from '$lib/utils';\n\n\tconst i18n = getContext('i18n');\n\n\tlet shiftKey = false;\n\tlet loaded = false;\n\n\tlet toolsImportInputElement: HTMLInputElement;\n\tlet importFiles;\n\n\tlet showConfirm = false;\n\tlet query = '';\n\n\tlet showManifestModal = false;\n\tlet showValvesModal = false;\n\tlet selectedTool = null;\n\n\tlet showDeleteConfirm = false;\n\n\tlet tools = [];\n\tlet filteredItems = [];\n\n\t$: filteredItems = tools.filter(\n\t\t(t) =>\n\t\t\tquery === '' ||\n\t\t\tt.name.toLowerCase().includes(query.toLowerCase()) ||\n\t\t\tt.id.toLowerCase().includes(query.toLowerCase())\n\t);\n\n\tconst shareHandler = async (tool) => {\n\t\tconst item = await getToolById(localStorage.token, tool.id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\ttoast.success($i18n.t('Redirecting you to Open WebUI Community'));\n\n\t\tconst url = 'https://openwebui.com';\n\n\t\tconst tab = await window.open(`${url}/tools/create`, '_blank');\n\n\t\t// Define the event handler function\n\t\tconst messageHandler = (event) => {\n\t\t\tif (event.origin !== url) return;\n\t\t\tif (event.data === 'loaded') {\n\t\t\t\ttab.postMessage(JSON.stringify(item), '*');\n\n\t\t\t\t// Remove the event listener after handling the message\n\t\t\t\twindow.removeEventListener('message', messageHandler);\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener('message', messageHandler, false);\n\t\tconsole.log(item);\n\t};\n\n\tconst cloneHandler = async (tool) => {\n\t\tconst _tool = await getToolById(localStorage.token, tool.id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (_tool) {\n\t\t\tsessionStorage.tool = JSON.stringify({\n\t\t\t\t..._tool,\n\t\t\t\tid: `${_tool.id}_clone`,\n\t\t\t\tname: `${_tool.name} (Clone)`\n\t\t\t});\n\t\t\tgoto('/workspace/tools/create');\n\t\t}\n\t};\n\n\tconst exportHandler = async (tool) => {\n\t\tconst _tool = await getToolById(localStorage.token, tool.id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (_tool) {\n\t\t\tlet blob = new Blob([JSON.stringify([_tool])], {\n\t\t\t\ttype: 'application/json'\n\t\t\t});\n\t\t\tsaveAs(blob, `tool-${_tool.id}-export-${Date.now()}.json`);\n\t\t}\n\t};\n\n\tconst deleteHandler = async (tool) => {\n\t\tconst res = await deleteToolById(localStorage.token, tool.id).catch((error) => {\n\t\t\ttoast.error(`${error}`);\n\t\t\treturn null;\n\t\t});\n\n\t\tif (res) {\n\t\t\ttoast.success($i18n.t('Tool deleted successfully'));\n\n\t\t\tinit();\n\t\t}\n\t};\n\n\tconst init = async () => {\n\t\ttools = await getToolList(localStorage.token);\n\t\t_tools.set(await getTools(localStorage.token));\n\t};\n\n\tonMount(async () => {\n\t\tawait init();\n\t\tloaded = true;\n\n\t\tconst onKeyDown = (event) => {\n\t\t\tif (event.key === 'Shift') {\n\t\t\t\tshiftKey = true;\n\t\t\t}\n\t\t};\n\n\t\tconst onKeyUp = (event) => {\n\t\t\tif (event.key === 'Shift') {\n\t\t\t\tshiftKey = false;\n\t\t\t}\n\t\t};\n\n\t\tconst onBlur = () => {\n\t\t\tshiftKey = false;\n\t\t};\n\n\t\twindow.addEventListener('keydown', onKeyDown);\n\t\twindow.addEventListener('keyup', onKeyUp);\n\t\twindow.addEventListener('blur-sm', onBlur);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('keydown', onKeyDown);\n\t\t\twindow.removeEventListener('keyup', onKeyUp);\n\t\t\twindow.removeEventListener('blur-sm', onBlur);\n\t\t};\n\t});\n</script>\n\n<svelte:head>\n\t<title>\n\t\t{$i18n.t('Tools')} | {$WEBUI_NAME}\n\t</title>\n</svelte:head>\n\n{#if loaded}\n\t<div class=\"flex flex-col gap-1 my-1.5\">\n\t\t<div class=\"flex justify-between items-center\">\n\t\t\t<div class=\"flex md:self-center text-xl font-medium px-0.5 items-center\">\n\t\t\t\t{$i18n.t('Tools')}\n\t\t\t\t<div class=\"flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850\" />\n\t\t\t\t<span class=\"text-lg font-medium text-gray-500 dark:text-gray-300\"\n\t\t\t\t\t>{filteredItems.length}</span\n\t\t\t\t>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\" flex w-full space-x-2\">\n\t\t\t<div class=\"flex flex-1\">\n\t\t\t\t<div class=\" self-center ml-1 mr-3\">\n\t\t\t\t\t<Search className=\"size-3.5\" />\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\tclass=\" w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent\"\n\t\t\t\t\tbind:value={query}\n\t\t\t\t\tplaceholder={$i18n.t('Search Tools')}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<a\n\t\t\t\t\tclass=\" px-2 py-2 rounded-xl hover:bg-gray-700/10 dark:hover:bg-gray-100/10 dark:text-gray-300 dark:hover:text-white transition font-medium text-sm flex items-center space-x-1\"\n\t\t\t\t\thref=\"/workspace/tools/create\"\n\t\t\t\t>\n\t\t\t\t\t<Plus className=\"size-3.5\" />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class=\"mb-5 gap-2 grid lg:grid-cols-2 xl:grid-cols-3\">\n\t\t{#each filteredItems as tool}\n\t\t\t<div\n\t\t\t\tclass=\" flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl transition\"\n\t\t\t>\n\t\t\t\t<a\n\t\t\t\t\tclass=\" flex flex-1 space-x-3.5 cursor-pointer w-full\"\n\t\t\t\t\thref={`/workspace/tools/edit?id=${encodeURIComponent(tool.id)}`}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex items-center text-left\">\n\t\t\t\t\t\t<div class=\" flex-1 self-center\">\n\t\t\t\t\t\t\t<Tooltip content={tool?.meta?.description ?? ''} placement=\"top-start\">\n\t\t\t\t\t\t\t\t<div class=\" font-semibold flex items-center gap-1.5\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass=\" text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tTOOL\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{#if tool?.meta?.manifest?.version}\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass=\"text-xs font-bold px-1 rounded-sm line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tv{tool?.meta?.manifest?.version ?? ''}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t\t\t\t<div class=\"line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t{tool.name}\n\n\t\t\t\t\t\t\t\t\t\t<span class=\" text-gray-500 text-xs font-medium shrink-0\">{tool.id}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t<div class=\"px-0.5\">\n\t\t\t\t\t\t\t\t<div class=\"flex gap-1.5 mt-0.5 mb-0.5\">\n\t\t\t\t\t\t\t\t\t<div class=\" text-xs overflow-hidden text-ellipsis line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t{tool.meta.description}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class=\"text-xs text-gray-500 shrink-0\">\n\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\tcontent={tool?.user?.email ?? $i18n.t('Deleted User')}\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex shrink-0\"\n\t\t\t\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('By {{name}}', {\n\t\t\t\t\t\t\t\t\t\t\tname: capitalizeFirstLetter(\n\t\t\t\t\t\t\t\t\t\t\t\ttool?.user?.name ?? tool?.user?.email ?? $i18n.t('Deleted User')\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t\t<div class=\"flex flex-row gap-0.5 self-center\">\n\t\t\t\t\t{#if shiftKey}\n\t\t\t\t\t\t<Tooltip content={$i18n.t('Delete')}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tdeleteHandler(tool);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<GarbageBin />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{#if tool?.meta?.manifest?.funding_url ?? false}\n\t\t\t\t\t\t\t<Tooltip content=\"Support\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\tselectedTool = tool;\n\t\t\t\t\t\t\t\t\t\tshowManifestModal = true;\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Heart />\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<Tooltip content={$i18n.t('Valves')}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\tselectedTool = tool;\n\t\t\t\t\t\t\t\t\tshowValvesModal = true;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\tclass=\"size-4\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\td=\"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\td=\"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t<ToolMenu\n\t\t\t\t\t\t\teditHandler={() => {\n\t\t\t\t\t\t\t\tgoto(`/workspace/tools/edit?id=${encodeURIComponent(tool.id)}`);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tshareHandler={() => {\n\t\t\t\t\t\t\t\tshareHandler(tool);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcloneHandler={() => {\n\t\t\t\t\t\t\t\tcloneHandler(tool);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\texportHandler={() => {\n\t\t\t\t\t\t\t\texportHandler(tool);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdeleteHandler={async () => {\n\t\t\t\t\t\t\t\tselectedTool = tool;\n\t\t\t\t\t\t\t\tshowDeleteConfirm = true;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClose={() => {}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<EllipsisHorizontal className=\"size-5\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</ToolMenu>\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t{/each}\n\t</div>\n\n\t{#if $user?.role === 'admin'}\n\t\t<div class=\" flex justify-end w-full mb-2\">\n\t\t\t<div class=\"flex space-x-2\">\n\t\t\t\t<input\n\t\t\t\t\tid=\"documents-import-input\"\n\t\t\t\t\tbind:this={toolsImportInputElement}\n\t\t\t\t\tbind:files={importFiles}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\taccept=\".json\"\n\t\t\t\t\thidden\n\t\t\t\t\ton:change={() => {\n\t\t\t\t\t\tconsole.log(importFiles);\n\t\t\t\t\t\tshowConfirm = true;\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\n\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\ttoolsImportInputElement.click();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">{$i18n.t('Import Tools')}</div>\n\n\t\t\t\t\t<div class=\" self-center\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\n\t\t\t\t<button\n\t\t\t\t\tclass=\"flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition\"\n\t\t\t\t\ton:click={async () => {\n\t\t\t\t\t\tconst _tools = await exportTools(localStorage.token).catch((error) => {\n\t\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (_tools) {\n\t\t\t\t\t\t\tlet blob = new Blob([JSON.stringify(_tools)], {\n\t\t\t\t\t\t\t\ttype: 'application/json'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsaveAs(blob, `tools-export-${Date.now()}.json`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<div class=\" self-center mr-2 font-medium line-clamp-1\">{$i18n.t('Export Tools')}</div>\n\n\t\t\t\t\t<div class=\" self-center\">\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\tclass=\"w-4 h-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\td=\"M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z\"\n\t\t\t\t\t\t\t\tclip-rule=\"evenodd\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t{/if}\n\n\t{#if $config?.features.enable_community_sharing}\n\t\t<div class=\" my-16\">\n\t\t\t<div class=\" text-xl font-medium mb-1 line-clamp-1\">\n\t\t\t\t{$i18n.t('Made by Open WebUI Community')}\n\t\t\t</div>\n\n\t\t\t<a\n\t\t\t\tclass=\" flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition\"\n\t\t\t\thref=\"https://openwebui.com/#open-webui-community\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t>\n\t\t\t\t<div class=\" self-center\">\n\t\t\t\t\t<div class=\" font-semibold line-clamp-1\">{$i18n.t('Discover a tool')}</div>\n\t\t\t\t\t<div class=\" text-sm line-clamp-1\">\n\t\t\t\t\t\t{$i18n.t('Discover, download, and explore custom tools')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ChevronRight />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</a>\n\t\t</div>\n\t{/if}\n\n\t<DeleteConfirmDialog\n\t\tbind:show={showDeleteConfirm}\n\t\ttitle={$i18n.t('Delete tool?')}\n\t\ton:confirm={() => {\n\t\t\tdeleteHandler(selectedTool);\n\t\t}}\n\t>\n\t\t<div class=\" text-sm text-gray-500\">\n\t\t\t{$i18n.t('This will delete')} <span class=\"  font-semibold\">{selectedTool.name}</span>.\n\t\t</div>\n\t</DeleteConfirmDialog>\n\n\t<ValvesModal bind:show={showValvesModal} type=\"tool\" id={selectedTool?.id ?? null} />\n\t<ManifestModal bind:show={showManifestModal} manifest={selectedTool?.meta?.manifest ?? {}} />\n\n\t<ConfirmDialog\n\t\tbind:show={showConfirm}\n\t\ton:confirm={() => {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = async (event) => {\n\t\t\t\tconst _tools = JSON.parse(event.target.result);\n\t\t\t\tconsole.log(_tools);\n\n\t\t\t\tfor (const tool of _tools) {\n\t\t\t\t\tconst res = await createNewTool(localStorage.token, tool).catch((error) => {\n\t\t\t\t\t\ttoast.error(`${error}`);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\ttoast.success($i18n.t('Tool imported successfully'));\n\t\t\t\ttools.set(await getTools(localStorage.token));\n\t\t\t};\n\n\t\t\treader.readAsText(importFiles[0]);\n\t\t}}\n\t>\n\t\t<div class=\"text-sm text-gray-500\">\n\t\t\t<div class=\" bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-4 py-3\">\n\t\t\t\t<div>{$i18n.t('Please carefully review the following warnings:')}</div>\n\n\t\t\t\t<ul class=\" mt-1 list-disc pl-4 text-xs\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t{$i18n.t('Tools have a function calling system that allows arbitrary code execution')}.\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>{$i18n.t('Do not install tools from sources you do not fully trust.')}</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div class=\"my-3\">\n\t\t\t\t{$i18n.t(\n\t\t\t\t\t'I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.'\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t</ConfirmDialog>\n{:else}\n\t<div class=\"w-full h-full flex justify-center items-center\">\n\t\t<Spinner />\n\t</div>\n{/if}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAkCO,QAAA,OAAO,WAAW,MAAM;;;;;;;;AAwI5B,iBAAA,GAAA,SAAA,QAAA,oCAAA,SAAA,QAAA,WAAA,OAAA,MAAM,EAAE,OAAO,CAAM,CAAA,MAAA,OAAA,WAAW;;;;;;;;;;;"}