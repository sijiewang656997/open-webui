{"version":3,"file":"_layout.svelte.js","sources":["../../../../../node_modules/svelte/src/runtime/internal/environment.js","../../../../../node_modules/svelte/src/runtime/internal/loop.js","../../../../../node_modules/svelte/src/runtime/motion/utils.js","../../../../../node_modules/svelte/src/runtime/motion/spring.js","../../../../../node_modules/svelte-sonner/dist/Icon.svelte","../../../../../node_modules/svelte-sonner/dist/Loader.svelte","../../../../../node_modules/svelte-sonner/dist/Toast.svelte","../../../../../node_modules/svelte-sonner/dist/Toaster.svelte","../../../../../src/routes/+layout.svelte"],"sourcesContent":["import { noop } from './utils.js';\n\nexport const is_client = typeof window !== 'undefined';\n\n/** @type {() => number} */\nexport let now = is_client ? () => window.performance.now() : () => Date.now();\n\nexport let raf = is_client ? (cb) => requestAnimationFrame(cb) : noop;\n\n// used internally for testing\n/** @returns {void} */\nexport function set_now(fn) {\n\tnow = fn;\n}\n\n/** @returns {void} */\nexport function set_raf(fn) {\n\traf = fn;\n}\n","import { raf } from './environment.js';\n\nconst tasks = new Set();\n\n/**\n * @param {number} now\n * @returns {void}\n */\nfunction run_tasks(now) {\n\ttasks.forEach((task) => {\n\t\tif (!task.c(now)) {\n\t\t\ttasks.delete(task);\n\t\t\ttask.f();\n\t\t}\n\t});\n\tif (tasks.size !== 0) raf(run_tasks);\n}\n\n/**\n * For testing purposes only!\n * @returns {void}\n */\nexport function clear_loops() {\n\ttasks.clear();\n}\n\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n * @param {import('./private.js').TaskCallback} callback\n * @returns {import('./private.js').Task}\n */\nexport function loop(callback) {\n\t/** @type {import('./private.js').TaskEntry} */\n\tlet task;\n\tif (tasks.size === 0) raf(run_tasks);\n\treturn {\n\t\tpromise: new Promise((fulfill) => {\n\t\t\ttasks.add((task = { c: callback, f: fulfill }));\n\t\t}),\n\t\tabort() {\n\t\t\ttasks.delete(task);\n\t\t}\n\t};\n}\n","/**\n * @param {any} obj\n * @returns {boolean}\n */\nexport function is_date(obj) {\n\treturn Object.prototype.toString.call(obj) === '[object Date]';\n}\n","import { writable } from '../store/index.js';\nimport { loop, now } from '../internal/index.js';\nimport { is_date } from './utils.js';\n\n/**\n * @template T\n * @param {import('./private.js').TickContext<T>} ctx\n * @param {T} last_value\n * @param {T} current_value\n * @param {T} target_value\n * @returns {T}\n */\nfunction tick_spring(ctx, last_value, current_value, target_value) {\n\tif (typeof current_value === 'number' || is_date(current_value)) {\n\t\t// @ts-ignore\n\t\tconst delta = target_value - current_value;\n\t\t// @ts-ignore\n\t\tconst velocity = (current_value - last_value) / (ctx.dt || 1 / 60); // guard div by 0\n\t\tconst spring = ctx.opts.stiffness * delta;\n\t\tconst damper = ctx.opts.damping * velocity;\n\t\tconst acceleration = (spring - damper) * ctx.inv_mass;\n\t\tconst d = (velocity + acceleration) * ctx.dt;\n\t\tif (Math.abs(d) < ctx.opts.precision && Math.abs(delta) < ctx.opts.precision) {\n\t\t\treturn target_value; // settled\n\t\t} else {\n\t\t\tctx.settled = false; // signal loop to keep ticking\n\t\t\t// @ts-ignore\n\t\t\treturn is_date(current_value) ? new Date(current_value.getTime() + d) : current_value + d;\n\t\t}\n\t} else if (Array.isArray(current_value)) {\n\t\t// @ts-ignore\n\t\treturn current_value.map((_, i) =>\n\t\t\ttick_spring(ctx, last_value[i], current_value[i], target_value[i])\n\t\t);\n\t} else if (typeof current_value === 'object') {\n\t\tconst next_value = {};\n\t\tfor (const k in current_value) {\n\t\t\t// @ts-ignore\n\t\t\tnext_value[k] = tick_spring(ctx, last_value[k], current_value[k], target_value[k]);\n\t\t}\n\t\t// @ts-ignore\n\t\treturn next_value;\n\t} else {\n\t\tthrow new Error(`Cannot spring ${typeof current_value} values`);\n\t}\n}\n\n/**\n * The spring function in Svelte creates a store whose value is animated, with a motion that simulates the behavior of a spring. This means when the value changes, instead of transitioning at a steady rate, it \"bounces\" like a spring would, depending on the physics parameters provided. This adds a level of realism to the transitions and can enhance the user experience.\n *\n * https://svelte.dev/docs/svelte-motion#spring\n * @template [T=any]\n * @param {T} [value]\n * @param {import('./private.js').SpringOpts} [opts]\n * @returns {import('./public.js').Spring<T>}\n */\nexport function spring(value, opts = {}) {\n\tconst store = writable(value);\n\tconst { stiffness = 0.15, damping = 0.8, precision = 0.01 } = opts;\n\t/** @type {number} */\n\tlet last_time;\n\t/** @type {import('../internal/private.js').Task} */\n\tlet task;\n\t/** @type {object} */\n\tlet current_token;\n\t/** @type {T} */\n\tlet last_value = value;\n\t/** @type {T} */\n\tlet target_value = value;\n\tlet inv_mass = 1;\n\tlet inv_mass_recovery_rate = 0;\n\tlet cancel_task = false;\n\t/**\n\t * @param {T} new_value\n\t * @param {import('./private.js').SpringUpdateOpts} opts\n\t * @returns {Promise<void>}\n\t */\n\tfunction set(new_value, opts = {}) {\n\t\ttarget_value = new_value;\n\t\tconst token = (current_token = {});\n\t\tif (value == null || opts.hard || (spring.stiffness >= 1 && spring.damping >= 1)) {\n\t\t\tcancel_task = true; // cancel any running animation\n\t\t\tlast_time = now();\n\t\t\tlast_value = new_value;\n\t\t\tstore.set((value = target_value));\n\t\t\treturn Promise.resolve();\n\t\t} else if (opts.soft) {\n\t\t\tconst rate = opts.soft === true ? 0.5 : +opts.soft;\n\t\t\tinv_mass_recovery_rate = 1 / (rate * 60);\n\t\t\tinv_mass = 0; // infinite mass, unaffected by spring forces\n\t\t}\n\t\tif (!task) {\n\t\t\tlast_time = now();\n\t\t\tcancel_task = false;\n\t\t\ttask = loop((now) => {\n\t\t\t\tif (cancel_task) {\n\t\t\t\t\tcancel_task = false;\n\t\t\t\t\ttask = null;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tinv_mass = Math.min(inv_mass + inv_mass_recovery_rate, 1);\n\t\t\t\tconst ctx = {\n\t\t\t\t\tinv_mass,\n\t\t\t\t\topts: spring,\n\t\t\t\t\tsettled: true,\n\t\t\t\t\tdt: ((now - last_time) * 60) / 1000\n\t\t\t\t};\n\t\t\t\tconst next_value = tick_spring(ctx, last_value, value, target_value);\n\t\t\t\tlast_time = now;\n\t\t\t\tlast_value = value;\n\t\t\t\tstore.set((value = next_value));\n\t\t\t\tif (ctx.settled) {\n\t\t\t\t\ttask = null;\n\t\t\t\t}\n\t\t\t\treturn !ctx.settled;\n\t\t\t});\n\t\t}\n\t\treturn new Promise((fulfil) => {\n\t\t\ttask.promise.then(() => {\n\t\t\t\tif (token === current_token) fulfil();\n\t\t\t});\n\t\t});\n\t}\n\t/** @type {import('./public.js').Spring<T>} */\n\tconst spring = {\n\t\tset,\n\t\tupdate: (fn, opts) => set(fn(target_value, value), opts),\n\t\tsubscribe: store.subscribe,\n\t\tstiffness,\n\t\tdamping,\n\t\tprecision\n\t};\n\treturn spring;\n}\n","<script>export let type = 'success';\n</script>\n\n{#if type === 'success'}\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 20 20\"\n\t\tfill=\"currentColor\"\n\t\theight=\"20\"\n\t\twidth=\"20\"\n\t>\n\t\t<path\n\t\t\tfill-rule=\"evenodd\"\n\t\t\td=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z\"\n\t\t\tclip-rule=\"evenodd\"\n\t\t/>\n\t</svg>\n{:else if type === 'error'}\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 20 20\"\n\t\tfill=\"currentColor\"\n\t\theight=\"20\"\n\t\twidth=\"20\"\n\t>\n\t\t<path\n\t\t\tfill-rule=\"evenodd\"\n\t\t\td=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z\"\n\t\t\tclip-rule=\"evenodd\"\n\t\t/>\n\t</svg>\n{:else if type === 'info'}\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 20 20\"\n\t\tfill=\"currentColor\"\n\t\theight=\"20\"\n\t\twidth=\"20\"\n\t>\n\t\t<path\n\t\t\tfill-rule=\"evenodd\"\n\t\t\td=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z\"\n\t\t\tclip-rule=\"evenodd\"\n\t\t/>\n\t</svg>\n{:else if type === 'warning'}\n\t<svg\n\t\tviewBox=\"0 0 64 64\"\n\t\tfill=\"currentColor\"\n\t\theight=\"20\"\n\t\twidth=\"20\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t>\n\t\t<path\n\t\t\td=\"M32.427,7.987c2.183,0.124 4,1.165 5.096,3.281l17.936,36.208c1.739,3.66 -0.954,8.585 -5.373,8.656l-36.119,0c-4.022,-0.064 -7.322,-4.631 -5.352,-8.696l18.271,-36.207c0.342,-0.65 0.498,-0.838 0.793,-1.179c1.186,-1.375 2.483,-2.111 4.748,-2.063Zm-0.295,3.997c-0.687,0.034 -1.316,0.419 -1.659,1.017c-6.312,11.979 -12.397,24.081 -18.301,36.267c-0.546,1.225 0.391,2.797 1.762,2.863c12.06,0.195 24.125,0.195 36.185,0c1.325,-0.064 2.321,-1.584 1.769,-2.85c-5.793,-12.184 -11.765,-24.286 -17.966,-36.267c-0.366,-0.651 -0.903,-1.042 -1.79,-1.03Z\"\n\t\t/>\n\t\t<path\n\t\t\td=\"M33.631,40.581l-3.348,0l-0.368,-16.449l4.1,0l-0.384,16.449Zm-3.828,5.03c0,-0.609 0.197,-1.113 0.592,-1.514c0.396,-0.4 0.935,-0.601 1.618,-0.601c0.684,0 1.223,0.201 1.618,0.601c0.395,0.401 0.593,0.905 0.593,1.514c0,0.587 -0.193,1.078 -0.577,1.473c-0.385,0.395 -0.929,0.593 -1.634,0.593c-0.705,0 -1.249,-0.198 -1.634,-0.593c-0.384,-0.395 -0.576,-0.886 -0.576,-1.473Z\"\n\t\t/>\n\t</svg>\n{:else}\n\t<!-- TODO -->\n{/if}\n","<script>export let visible;\nconst bars = Array(12).fill(0);\n</script>\n\n<div class=\"sonner-loading-wrapper\" data-visible={visible}>\n\t<div class=\"sonner-spinner\">\n\t\t{#each bars as _, i (i)}\n\t\t\t<div class=\"sonner-loading-bar\"></div>\n\t\t{/each}\n\t</div>\n</div>\n","<!-- Set immutable: true to avoid unnecessary re-runs of reactive statements. -->\n<svelte:options immutable={true} />\n\n<script>import { onMount, tick } from 'svelte';\nimport { toastState, useEffect } from './state';\nimport { cn } from './internal/helpers';\n// Default lifetime of a toasts (in ms)\nconst TOAST_LIFETIME = 4000;\n// Default gap between toasts\nconst GAP = 14;\nconst SWIPE_TRESHOLD = 20;\nconst TIME_BEFORE_UNMOUNT = 200;\nconst SCALE_MULTIPLIER = 0.05;\nconst defaultClasses = {\n    toast: '',\n    title: '',\n    description: '',\n    loader: '',\n    closeButton: '',\n    cancelButton: '',\n    actionButton: '',\n    action: '',\n    warning: '',\n    error: '',\n    success: '',\n    default: '',\n    info: '',\n    loading: ''\n};\nconst { toasts, heights, removeHeight, setHeight, remove } = toastState;\nexport let toast;\nexport let index;\nexport let expanded;\nexport let invert;\nexport let position;\nexport let visibleToasts;\nexport let expandByDefault;\nexport let closeButton;\nexport let interacting;\nexport let cancelButtonStyle = '';\nexport let actionButtonStyle = '';\nexport let duration = 4000;\nexport let descriptionClass = '';\nexport let classes = {};\nexport let unstyled = false;\nlet mounted = false;\nlet removed = false;\nlet swiping = false;\nlet swipeOut = false;\nlet offsetBeforeRemove = 0;\nlet initialHeight = 0;\nlet toastRef;\n$: classes = { ...defaultClasses, ...classes };\n$: isFront = index === 0;\n$: isVisible = index + 1 <= visibleToasts;\n$: toastTitle = toast.title;\n$: toastDescription = toast.description;\n$: toastType = toast.type;\n$: toastClass = toast.class || '';\n$: toastDescriptionClass = toast.descriptionClass || '';\n// Height index is used to calculate the offset as it gets updated before the toast array, which means we can calculate the new layout faster.\n$: heightIndex =\n    $heights.findIndex((height) => height.toastId === toast.id) || 0;\nlet offset = 0;\nlet closeTimerStartTimeRef = 0;\nlet lastCloseTimerStartTimeRef = 0;\nlet pointerStartRef = null;\n$: coords = position.split('-');\n$: toastsHeightBefore = $heights.reduce((prev, curr, reducerIndex) => {\n    // Calculate offset up untill current  toast\n    if (reducerIndex >= heightIndex)\n        return prev;\n    return prev + curr.height;\n}, 0);\n$: invert = toast.invert || invert;\n$: disabled = toastType === 'loading';\n// Sometimes toasts are blurry when offset isn't an int\n$: offset = Math.round(heightIndex * GAP + toastsHeightBefore);\n// Listen to height changes\nasync function updateHeights() {\n    if (!mounted) {\n        return;\n    }\n    await tick();\n    let scale;\n    if (expanded || expandByDefault) {\n        scale = 1;\n    }\n    else {\n        scale = 1 - index * SCALE_MULTIPLIER;\n    }\n    toastRef.style.setProperty('height', 'auto');\n    const offsetHeight = toastRef.offsetHeight;\n    // rectHeight is affected by transform: scale(...);\n    const rectHeight = toastRef.getBoundingClientRect().height;\n    const scaledRectHeight = Math.round((rectHeight / scale + Number.EPSILON) * 100) / 100;\n    toastRef.style.removeProperty('height');\n    let finalHeight;\n    if (Math.abs(scaledRectHeight - offsetHeight) < 1) {\n        // Use scaledRectHeight as it's more precise\n        finalHeight = scaledRectHeight;\n    }\n    else {\n        // toast was transitioning its scale, so scaledRectHeight isn't accurate\n        finalHeight = offsetHeight;\n    }\n    initialHeight = finalHeight;\n    setHeight({ toastId: toast.id, height: finalHeight });\n}\n$: toastTitle, toastDescription, updateHeights();\nfunction deleteToast() {\n    removed = true;\n    // Save the offset for the exit swipe animation\n    offsetBeforeRemove = offset;\n    removeHeight(toast.id);\n    setTimeout(() => {\n        remove(toast.id);\n    }, TIME_BEFORE_UNMOUNT);\n}\nlet timeoutId;\nlet remainingTime = toast.duration || duration || TOAST_LIFETIME;\n$: if (toast.updated) {\n    // if the toast has been updated after the initial render,\n    // we want to reset the timer and set the remaining time to the\n    // new duration\n    clearTimeout(timeoutId);\n    remainingTime = toast.duration || duration || TOAST_LIFETIME;\n    startTimer();\n}\n// If toast's duration changes, it will be out of sync with the\n// remainingAtTimeout, so we know we need to restart the timer\n// with the new duration\n// Pause the tmer on each hover\nfunction pauseTimer() {\n    if (lastCloseTimerStartTimeRef < closeTimerStartTimeRef) {\n        // Get the elapsed time since the timer started\n        const elapsedTime = new Date().getTime() - closeTimerStartTimeRef;\n        remainingTime = remainingTime - elapsedTime;\n    }\n    lastCloseTimerStartTimeRef = new Date().getTime();\n}\nfunction startTimer() {\n    closeTimerStartTimeRef = new Date().getTime();\n    // Let the toast know it has started\n    timeoutId = setTimeout(() => {\n        toast.onAutoClose?.(toast);\n        deleteToast();\n    }, remainingTime);\n}\n$: isPromiseLoadingOrInfiniteDuration =\n    (toast.promise && toastType === 'loading') ||\n        toast.duration === Number.POSITIVE_INFINITY;\n/**\n * Hacky useEffect impl.\n * https://github.com/sveltejs/svelte/issues/5283#issuecomment-678759305\n */\nlet effect;\n$: effect = useEffect(() => {\n    if (!isPromiseLoadingOrInfiniteDuration) {\n        if (expanded || interacting) {\n            pauseTimer();\n        }\n        else {\n            startTimer();\n        }\n    }\n    return () => clearTimeout(timeoutId);\n});\n$: $effect;\nonMount(() => {\n    mounted = true;\n    const height = toastRef.getBoundingClientRect().height;\n    // Add toast height tot heights array after the toast is mounted\n    initialHeight = height;\n    setHeight({ toastId: toast.id, height });\n    return () => removeHeight(toast.id);\n});\n$: if (toast.delete) {\n    deleteToast();\n}\nfunction onPointerDown(event) {\n    if (disabled) {\n        return;\n    }\n    offsetBeforeRemove = offset;\n    const target = event.target;\n    // Ensure we maintain correct pointer capture even when going outside of the toast (e.g. when swiping)\n    target.setPointerCapture(event.pointerId);\n    if (target.tagName === 'BUTTON') {\n        return;\n    }\n    swiping = true;\n    pointerStartRef = { x: event.clientX, y: event.clientY };\n}\nfunction onPointerUp() {\n    if (swipeOut) {\n        return;\n    }\n    pointerStartRef = null;\n    const swipeAmount = Number(toastRef?.style\n        .getPropertyValue('--swipe-amount')\n        .replace('px', '') || 0);\n    // Remove only if treshold is met\n    if (Math.abs(swipeAmount) >= SWIPE_TRESHOLD) {\n        offsetBeforeRemove = offset;\n        toast.onDismiss?.(toast);\n        deleteToast();\n        swipeOut = true;\n        return;\n    }\n    toastRef.style.setProperty('--swipe-amount', '0px');\n    swiping = false;\n}\nfunction onPointerMove(event) {\n    if (!pointerStartRef) {\n        return;\n    }\n    const yPosition = event.clientY - pointerStartRef.y;\n    const xPosition = event.clientX - pointerStartRef.x;\n    const clamp = coords[0] === 'top' ? Math.min : Math.max;\n    const clampedY = clamp(0, yPosition);\n    const swipeStartThreshold = event.pointerType === 'touch' ? 10 : 2;\n    const isAllowedToSwipe = Math.abs(clampedY) > swipeStartThreshold;\n    if (isAllowedToSwipe) {\n        toastRef.style.setProperty('--swipe-amount', `${yPosition}px`);\n    }\n    else if (Math.abs(xPosition) > swipeStartThreshold) {\n        // User is swiping in wrong direction so we disable swipe gesture\n        // for the current pointer down interaction\n        pointerStartRef = null;\n    }\n}\n</script>\n\n<li\n\tbind:this={toastRef}\n\taria-live={toast.important ? 'assertive' : 'polite'}\n\taria-atomic=\"true\"\n\trole=\"status\"\n\ttabIndex={0}\n\tclass={cn(\n\t\t$$props.class,\n\t\ttoastClass,\n\t\tclasses?.toast,\n\t\ttoast?.classes?.toast,\n\t\tclasses?.[toastType],\n\t\ttoast?.classes?.[toastType]\n\t)}\n\tdata-sonner-toast=\"\"\n\tdata-styled={!(toast.component || toast?.unstyled || unstyled)}\n\tdata-mounted={mounted}\n\tdata-promise={Boolean(toast.promise)}\n\tdata-removed={removed}\n\tdata-visible={isVisible}\n\tdata-y-position={coords[0]}\n\tdata-x-position={coords[1]}\n\tdata-index={index}\n\tdata-front={isFront}\n\tdata-swiping={swiping}\n\tdata-type={toastType}\n\tdata-invert={invert}\n\tdata-swipe-out={swipeOut}\n\tdata-expanded={Boolean(expanded || (expandByDefault && mounted))}\n\tstyle={`${$$props.style} ${toast.style}`}\n\tstyle:--index={index}\n\tstyle:--toasts-before={index}\n\tstyle:--z-index={$toasts.length - index}\n\tstyle:--offset={`${removed ? offsetBeforeRemove : offset}px`}\n\tstyle:--initial-height={`${initialHeight}px`}\n\ton:pointerdown={onPointerDown}\n\ton:pointerup={onPointerUp}\n\ton:pointermove={onPointerMove}\n>\n\t{#if closeButton && !toast.component}\n\t\t<button\n\t\t\taria-label=\"Close toast\"\n\t\t\tdata-disabled={disabled}\n\t\t\tdata-close-button\n\t\t\ton:click={disabled\n\t\t\t\t? undefined\n\t\t\t\t: () => {\n\t\t\t\t\t\tdeleteToast();\n\t\t\t\t\t\ttoast.onDismiss?.(toast);\n\t\t\t\t\t}}\n\t\t\tclass={cn(classes?.closeButton, toast?.classes?.closeButton)}\n\t\t>\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"12\"\n\t\t\t\theight=\"12\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"1.5\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n\t\t\t\t<line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n\t\t\t</svg>\n\t\t</button>\n\t{/if}\n\n\t{#if toast.component}\n\t\t<svelte:component\n\t\t\tthis={toast.component}\n\t\t\t{...toast.componentProps}\n\t\t\ton:closeToast={deleteToast}\n\t\t></svelte:component>\n\t{:else}\n\t\t{#if toastType !== 'default' || toast.icon || toast.promise}\n\t\t\t<div data-icon=\"\">\n\t\t\t\t{#if (toast.promise || toastType === 'loading') && !toast.icon}\n\t\t\t\t\t<slot name=\"loading-icon\" />\n\t\t\t\t{/if}\n\t\t\t\t{#if toast.icon}\n\t\t\t\t\t<svelte:component this={toast.icon}></svelte:component>\n\t\t\t\t{:else if toastType === 'success'}\n\t\t\t\t\t<slot name=\"success-icon\" />\n\t\t\t\t{:else if toastType === 'error'}\n\t\t\t\t\t<slot name=\"error-icon\" />\n\t\t\t\t{:else if toastType === 'warning'}\n\t\t\t\t\t<slot name=\"warning-icon\" />\n\t\t\t\t{:else if toastType === 'info'}\n\t\t\t\t\t<slot name=\"info-icon\" />\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/if}\n\t\t<div data-content=\"\">\n\t\t\t{#if toast.title}\n\t\t\t\t<div\n\t\t\t\t\tdata-title=\"\"\n\t\t\t\t\tclass={cn(classes?.title, toast?.classes?.title)}\n\t\t\t\t>\n\t\t\t\t\t{#if typeof toast.title !== 'string'}\n\t\t\t\t\t\t<svelte:component\n\t\t\t\t\t\t\tthis={toast.title}\n\t\t\t\t\t\t\t{...toast.componentProps}\n\t\t\t\t\t\t/>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{toast.title}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t\t{#if toast.description}\n\t\t\t\t<div\n\t\t\t\t\tdata-description=\"\"\n\t\t\t\t\tclass={cn(\n\t\t\t\t\t\tdescriptionClass,\n\t\t\t\t\t\ttoastDescriptionClass,\n\t\t\t\t\t\tclasses?.description,\n\t\t\t\t\t\ttoast.classes?.description\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{#if typeof toast.description !== 'string'}\n\t\t\t\t\t\t<svelte:component\n\t\t\t\t\t\t\tthis={toast.description}\n\t\t\t\t\t\t\t{...toast.componentProps}\n\t\t\t\t\t\t/>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t{toast.description}\n\t\t\t\t\t{/if}\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\t\t{#if toast.cancel}\n\t\t\t<button\n\t\t\t\tdata-button\n\t\t\t\tdata-cancel\n\t\t\t\tstyle={cancelButtonStyle}\n\t\t\t\tclass={cn(classes?.cancelButton, toast?.classes?.cancelButton)}\n\t\t\t\ton:click={() => {\n\t\t\t\t\tdeleteToast();\n\t\t\t\t\tif (toast.cancel?.onClick) {\n\t\t\t\t\t\ttoast.cancel.onClick();\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{toast.cancel.label}\n\t\t\t</button>\n\t\t{/if}\n\t\t{#if toast.action}\n\t\t\t<button\n\t\t\t\tdata-button=\"\"\n\t\t\t\tstyle={actionButtonStyle}\n\t\t\t\tclass={cn(classes?.actionButton, toast?.classes?.actionButton)}\n\t\t\t\ton:click={(event) => {\n\t\t\t\t\ttoast.action?.onClick(event);\n\t\t\t\t\tif (event.defaultPrevented) return;\n\t\t\t\t\tdeleteToast();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{toast.action.label}\n\t\t\t</button>\n\t\t{/if}\n\t{/if}\n</li>\n","<script>import { onDestroy, onMount } from 'svelte';\nimport { toastState } from './state.js';\nimport Toast from './Toast.svelte';\nimport Loader from './Loader.svelte';\nimport Icon from './Icon.svelte';\n// Visible toasts amount\nconst VISIBLE_TOASTS_AMOUNT = 3;\n// Viewport padding\nconst VIEWPORT_OFFSET = '32px';\n// Default toast width\nconst TOAST_WIDTH = 356;\n// Default gap between toasts\nconst GAP = 14;\nconst DARK = 'dark';\nconst LIGHT = 'light';\nfunction getInitialTheme(t) {\n    if (t !== 'system') {\n        return t;\n    }\n    if (typeof window !== 'undefined') {\n        if (window.matchMedia &&\n            window.matchMedia('(prefers-color-scheme: dark)').matches) {\n            return DARK;\n        }\n        return LIGHT;\n    }\n    return LIGHT;\n}\nfunction getDocumentDirection() {\n    if (typeof window === 'undefined')\n        return 'ltr';\n    if (typeof document === 'undefined')\n        return 'ltr'; // For Fresh purpose\n    const dirAttribute = document.documentElement.getAttribute('dir');\n    if (dirAttribute === 'auto' || !dirAttribute) {\n        return window.getComputedStyle(document.documentElement)\n            .direction;\n    }\n    return dirAttribute;\n}\nexport let invert = false;\nexport let theme = 'light';\nexport let position = 'bottom-right';\nexport let hotkey = ['altKey', 'KeyT'];\nexport let containerAriaLabel = 'Notifications';\nexport let richColors = false;\nexport let expand = false;\nexport let duration = 4000;\nexport let visibleToasts = VISIBLE_TOASTS_AMOUNT;\nexport let closeButton = false;\nexport let toastOptions = {};\nexport let offset = null;\nexport let dir = getDocumentDirection();\nconst { toasts, heights, reset } = toastState;\n$: possiblePositions = Array.from(new Set([\n    position,\n    ...$toasts\n        .filter((toast) => toast.position)\n        .map((toast) => toast.position)\n].filter(Boolean)));\nlet expanded = false;\nlet interacting = false;\nlet actualTheme = getInitialTheme(theme);\nlet listRef;\nlet lastFocusedElementRef = null;\nlet isFocusWithinRef = false;\n$: hotkeyLabel = hotkey.join('+').replace(/Key/g, '').replace(/Digit/g, '');\n$: if ($toasts.length <= 1) {\n    expanded = false;\n}\n// Check for dismissed toasts and remove them. We need to do this to have dismiss animation.\n$: {\n    const toastsToDismiss = $toasts.filter((toast) => toast.dismiss && !toast.delete);\n    if (toastsToDismiss.length > 0) {\n        const updatedToasts = $toasts.map((toast) => {\n            const matchingToast = toastsToDismiss.find((dismissToast) => dismissToast.id === toast.id);\n            if (matchingToast) {\n                return { ...toast, delete: true };\n            }\n            return toast;\n        });\n        toasts.set(updatedToasts);\n    }\n}\nonDestroy(() => {\n    if (listRef && lastFocusedElementRef) {\n        lastFocusedElementRef.focus({ preventScroll: true });\n        lastFocusedElementRef = null;\n        isFocusWithinRef = false;\n    }\n});\nonMount(() => {\n    reset();\n    const handleKeydown = (event) => {\n        const isHotkeyPressed = hotkey.every((key) => \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        event[key] || event.code === key);\n        if (isHotkeyPressed) {\n            expanded = true;\n            listRef?.focus();\n        }\n        if (event.code === 'Escape' &&\n            (document.activeElement === listRef ||\n                listRef?.contains(document.activeElement))) {\n            expanded = false;\n        }\n    };\n    document.addEventListener('keydown', handleKeydown);\n    return () => {\n        document.removeEventListener('keydown', handleKeydown);\n    };\n});\n$: {\n    if (theme !== 'system') {\n        actualTheme = theme;\n    }\n    if (typeof window !== 'undefined') {\n        if (theme === 'system') {\n            // check if current preference is dark\n            if (window.matchMedia &&\n                window.matchMedia('(prefers-color-scheme: dark)').matches) {\n                // it's currently dark\n                actualTheme = DARK;\n            }\n            else {\n                // it's not dark\n                actualTheme = LIGHT;\n            }\n        }\n        const mediaQueryList = window.matchMedia('(prefers-color-scheme: dark)');\n        const changeHandler = ({ matches }) => {\n            actualTheme = matches ? DARK : LIGHT;\n        };\n        if ('addEventListener' in mediaQueryList) {\n            mediaQueryList.addEventListener('change', changeHandler);\n        }\n        else {\n            // @ts-expect-error deprecated API\n            mediaQueryList.addListener(changeHandler);\n        }\n    }\n}\nfunction handleBlur(event) {\n    if (isFocusWithinRef &&\n        !event.currentTarget.contains(event.relatedTarget)) {\n        isFocusWithinRef = false;\n        if (lastFocusedElementRef) {\n            lastFocusedElementRef.focus({ preventScroll: true });\n            lastFocusedElementRef = null;\n        }\n    }\n}\nfunction handleFocus(event) {\n    if (!isFocusWithinRef) {\n        isFocusWithinRef = true;\n        lastFocusedElementRef = event.relatedTarget;\n    }\n}\n</script>\n\n{#if $toasts.length > 0}\n\t<section aria-label={`${containerAriaLabel} ${hotkeyLabel}`} tabIndex={-1}>\n\t\t{#each possiblePositions as position, index}\n\t\t\t<ol\n\t\t\t\ttabIndex={-1}\n\t\t\t\tbind:this={listRef}\n\t\t\t\tclass={$$props.class}\n\t\t\t\tdata-sonner-toaster\n\t\t\t\tdata-theme={actualTheme}\n\t\t\t\tdata-rich-colors={richColors}\n\t\t\t\tdir={dir === 'auto' ? getDocumentDirection() : dir}\n\t\t\t\tdata-y-position={position.split('-')[0]}\n\t\t\t\tdata-x-position={position.split('-')[1]}\n\t\t\t\ton:blur={handleBlur}\n\t\t\t\ton:focus={handleFocus}\n\t\t\t\ton:mouseenter={() => (expanded = true)}\n\t\t\t\ton:mousemove={() => (expanded = true)}\n\t\t\t\ton:mouseleave={() => {\n\t\t\t\t\tif (!interacting) {\n\t\t\t\t\t\texpanded = false;\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\ton:pointerdown={() => (interacting = true)}\n\t\t\t\ton:pointerup={() => (interacting = false)}\n\t\t\t\tstyle:--front-toast-height={`${$heights[0]?.height}px`}\n\t\t\t\tstyle:--offset={typeof offset === 'number'\n\t\t\t\t\t? `${offset}px`\n\t\t\t\t\t: offset || VIEWPORT_OFFSET}\n\t\t\t\tstyle:--width={`${TOAST_WIDTH}px`}\n\t\t\t\tstyle:--gap={`${GAP}px`}\n\t\t\t\tstyle={$$props.style}\n\t\t\t\t{...$$restProps}\n\t\t\t>\n\t\t\t\t{#each $toasts.filter((toast) => (!toast.position && index === 0) || toast.position === position) as toast, index (toast.id)}\n\t\t\t\t\t<Toast\n\t\t\t\t\t\t{index}\n\t\t\t\t\t\t{toast}\n\t\t\t\t\t\t{invert}\n\t\t\t\t\t\t{visibleToasts}\n\t\t\t\t\t\t{closeButton}\n\t\t\t\t\t\t{interacting}\n\t\t\t\t\t\t{position}\n\t\t\t\t\t\texpandByDefault={expand}\n\t\t\t\t\t\t{expanded}\n\t\t\t\t\t\tactionButtonStyle={toastOptions?.actionButtonStyle ||\n\t\t\t\t\t\t\t''}\n\t\t\t\t\t\tcancelButtonStyle={toastOptions?.cancelButtonStyle ||\n\t\t\t\t\t\t\t''}\n\t\t\t\t\t\tclass={toastOptions?.class || ''}\n\t\t\t\t\t\tdescriptionClass={toastOptions?.descriptionClass || ''}\n\t\t\t\t\t\tclasses={toastOptions.classes || {}}\n\t\t\t\t\t\tduration={toastOptions?.duration ?? duration}\n\t\t\t\t\t\tunstyled={toastOptions.unstyled || false}\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"loading-icon\" slot=\"loading-icon\">\n\t\t\t\t\t\t\t<Loader visible={toast.type === 'loading'} />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t<slot name=\"success-icon\" slot=\"success-icon\">\n\t\t\t\t\t\t\t<Icon type=\"success\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t<slot name=\"error-icon\" slot=\"error-icon\">\n\t\t\t\t\t\t\t<Icon type=\"error\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t<slot name=\"warning-icon\" slot=\"warning-icon\">\n\t\t\t\t\t\t\t<Icon type=\"warning\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t<slot name=\"info-icon\" slot=\"info-icon\">\n\t\t\t\t\t\t\t<Icon type=\"info\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</Toast>\n\t\t\t\t{/each}\n\t\t\t</ol>\n\t\t{/each}\n\t</section>\n{/if}\n\n<style global>\n\t:global(:where(html[dir='ltr'])),\n\t:global(:where([data-sonner-toaster][dir='ltr'])) {\n\t\t--toast-icon-margin-start: -3px;\n\t\t--toast-icon-margin-end: 4px;\n\t\t--toast-svg-margin-start: -1px;\n\t\t--toast-svg-margin-end: 0px;\n\t\t--toast-button-margin-start: auto;\n\t\t--toast-button-margin-end: 0;\n\t\t--toast-close-button-start: 0;\n\t\t--toast-close-button-end: unset;\n\t\t--toast-close-button-transform: translate(-35%, -35%);\n\t}\n\n\t:global(:where(html[dir='rtl'])),\n\t:global(:where([data-sonner-toaster][dir='rtl'])) {\n\t\t--toast-icon-margin-start: 4px;\n\t\t--toast-icon-margin-end: -3px;\n\t\t--toast-svg-margin-start: 0px;\n\t\t--toast-svg-margin-end: -1px;\n\t\t--toast-button-margin-start: 0;\n\t\t--toast-button-margin-end: auto;\n\t\t--toast-close-button-start: unset;\n\t\t--toast-close-button-end: 0;\n\t\t--toast-close-button-transform: translate(35%, -35%);\n\t}\n\n\t:global(:where([data-sonner-toaster])) {\n\t\tposition: fixed;\n\t\twidth: var(--width);\n\t\tfont-family:\n\t\t\tui-sans-serif,\n\t\t\tsystem-ui,\n\t\t\t-apple-system,\n\t\t\tBlinkMacSystemFont,\n\t\t\tSegoe UI,\n\t\t\tRoboto,\n\t\t\tHelvetica Neue,\n\t\t\tArial,\n\t\t\tNoto Sans,\n\t\t\tsans-serif,\n\t\t\tApple Color Emoji,\n\t\t\tSegoe UI Emoji,\n\t\t\tSegoe UI Symbol,\n\t\t\tNoto Color Emoji;\n\t\t--gray1: hsl(0, 0%, 99%);\n\t\t--gray2: hsl(0, 0%, 97.3%);\n\t\t--gray3: hsl(0, 0%, 95.1%);\n\t\t--gray4: hsl(0, 0%, 93%);\n\t\t--gray5: hsl(0, 0%, 90.9%);\n\t\t--gray6: hsl(0, 0%, 88.7%);\n\t\t--gray7: hsl(0, 0%, 85.8%);\n\t\t--gray8: hsl(0, 0%, 78%);\n\t\t--gray9: hsl(0, 0%, 56.1%);\n\t\t--gray10: hsl(0, 0%, 52.3%);\n\t\t--gray11: hsl(0, 0%, 43.5%);\n\t\t--gray12: hsl(0, 0%, 9%);\n\t\t--border-radius: 8px;\n\t\tbox-sizing: border-box;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tlist-style: none;\n\t\toutline: none;\n\t\tz-index: 999999999;\n\t}\n\n\t:global(:where([data-sonner-toaster][data-x-position='right'])) {\n\t\tright: max(var(--offset), env(safe-area-inset-right));\n\t}\n\n\t:global(:where([data-sonner-toaster][data-x-position='left'])) {\n\t\tleft: max(var(--offset), env(safe-area-inset-left));\n\t}\n\n\t:global(:where([data-sonner-toaster][data-x-position='center'])) {\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t}\n\n\t:global(:where([data-sonner-toaster][data-y-position='top'])) {\n\t\ttop: max(var(--offset), env(safe-area-inset-top));\n\t}\n\n\t:global(:where([data-sonner-toaster][data-y-position='bottom'])) {\n\t\tbottom: max(var(--offset), env(safe-area-inset-bottom));\n\t}\n\n\t:global(:where([data-sonner-toast])) {\n\t\t--y: translateY(100%);\n\t\t--lift-amount: calc(var(--lift) * var(--gap));\n\t\tz-index: var(--z-index);\n\t\tposition: absolute;\n\t\topacity: 0;\n\t\ttransform: var(--y);\n\t\tfilter: blur(0);\n\t\t/* https://stackoverflow.com/questions/48124372/pointermove-event-not-working-with-touch-why-not */\n\t\ttouch-action: none;\n\t\ttransition:\n\t\t\ttransform 400ms,\n\t\t\topacity 400ms,\n\t\t\theight 400ms,\n\t\t\tbox-shadow 200ms;\n\t\tbox-sizing: border-box;\n\t\toutline: none;\n\t\toverflow-wrap: anywhere;\n\t}\n\n\t:global(:where([data-sonner-toast][data-styled='true'])) {\n\t\tpadding: 16px;\n\t\tbackground: var(--normal-bg);\n\t\tborder: 1px solid var(--normal-border);\n\t\tcolor: var(--normal-text);\n\t\tborder-radius: var(--border-radius);\n\t\tbox-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);\n\t\twidth: var(--width);\n\t\tfont-size: 13px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 6px;\n\t}\n\n\t:global(:where([data-sonner-toast]:focus-visible)) {\n\t\tbox-shadow:\n\t\t\t0px 4px 12px rgba(0, 0, 0, 0.1),\n\t\t\t0 0 0 2px rgba(0, 0, 0, 0.2);\n\t}\n\n\t:global(:where([data-sonner-toast][data-y-position='top'])) {\n\t\ttop: 0;\n\t\t--y: translateY(-100%);\n\t\t--lift: 1;\n\t\t--lift-amount: calc(1 * var(--gap));\n\t}\n\n\t:global(:where([data-sonner-toast][data-y-position='bottom'])) {\n\t\tbottom: 0;\n\t\t--y: translateY(100%);\n\t\t--lift: -1;\n\t\t--lift-amount: calc(var(--lift) * var(--gap));\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-description])) {\n\t\tfont-weight: 400;\n\t\tline-height: 1.4;\n\t\tcolor: inherit;\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-title])) {\n\t\tfont-weight: 500;\n\t\tline-height: 1.5;\n\t\tcolor: inherit;\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-icon])) {\n\t\tdisplay: flex;\n\t\theight: 16px;\n\t\twidth: 16px;\n\t\tposition: relative;\n\t\tjustify-content: flex-start;\n\t\talign-items: center;\n\t\tflex-shrink: 0;\n\t\tmargin-left: var(--toast-icon-margin-start);\n\t\tmargin-right: var(--toast-icon-margin-end);\n\t}\n\n\t:global(:where([data-sonner-toast][data-promise='true'])) :global(:where([data-icon])) > :global(svg) {\n\t\topacity: 0;\n\t\ttransform: scale(0.8);\n\t\ttransform-origin: center;\n\t\tanimation: sonner-fade-in 300ms ease forwards;\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-icon])) > :global(*) {\n\t\tflex-shrink: 0;\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-icon])) :global(svg) {\n\t\tmargin-left: var(--toast-svg-margin-start);\n\t\tmargin-right: var(--toast-svg-margin-end);\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-content])) {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 2px;\n\t}\n\n\t:global([data-sonner-toast][data-styled='true']) :global([data-button]) {\n\t\tborder-radius: 4px;\n\t\tpadding-left: 8px;\n\t\tpadding-right: 8px;\n\t\theight: 24px;\n\t\tfont-size: 12px;\n\t\tcolor: var(--normal-bg);\n\t\tbackground: var(--normal-text);\n\t\tmargin-left: var(--toast-button-margin-start);\n\t\tmargin-right: var(--toast-button-margin-end);\n\t\tborder: none;\n\t\tcursor: pointer;\n\t\toutline: none;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex-shrink: 0;\n\t\ttransition:\n\t\t\topacity 400ms,\n\t\t\tbox-shadow 200ms;\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-button]):focus-visible) {\n\t\tbox-shadow: 0 0 0 2px rgba(0, 0, 0, 0.4);\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-button]):first-of-type) {\n\t\tmargin-left: var(--toast-button-margin-start);\n\t\tmargin-right: var(--toast-button-margin-end);\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-cancel])) {\n\t\tcolor: var(--normal-text);\n\t\tbackground: rgba(0, 0, 0, 0.08);\n\t}\n\n\t:global(:where([data-sonner-toast][data-theme='dark'])) :global(:where([data-cancel])) {\n\t\tbackground: rgba(255, 255, 255, 0.3);\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-close-button])) {\n\t\tposition: absolute;\n\t\tleft: var(--toast-close-button-start);\n\t\tright: var(--toast-close-button-end);\n\t\ttop: 0;\n\t\theight: 20px;\n\t\twidth: 20px;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tpadding: 0;\n\t\tbackground: var(--gray1);\n\t\tcolor: var(--gray12);\n\t\tborder: 1px solid var(--gray4);\n\t\ttransform: var(--toast-close-button-transform);\n\t\tborder-radius: 50%;\n\t\tcursor: pointer;\n\t\tz-index: 1;\n\t\ttransition:\n\t\t\topacity 100ms,\n\t\t\tbackground 200ms,\n\t\t\tborder-color 200ms;\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-close-button]):focus-visible) {\n\t\tbox-shadow:\n\t\t\t0px 4px 12px rgba(0, 0, 0, 0.1),\n\t\t\t0 0 0 2px rgba(0, 0, 0, 0.2);\n\t}\n\n\t:global(:where([data-sonner-toast])) :global(:where([data-disabled='true'])) {\n\t\tcursor: not-allowed;\n\t}\n\n\t:global(:where([data-sonner-toast]):hover) :global(:where([data-close-button]):hover) {\n\t\tbackground: var(--gray2);\n\t\tborder-color: var(--gray5);\n\t}\n\n\t/* Leave a ghost div to avoid setting hover to false when swiping out */\n\t:global(:where([data-sonner-toast][data-swiping='true'])::before) {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\theight: 100%;\n\t\tz-index: -1;\n\t}\n\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-y-position='top'][data-swiping='true']\n\t\t)::before) {\n\t\t/* y 50% needed to distribute height additional height evenly */\n\t\tbottom: 50%;\n\t\ttransform: scaleY(3) translateY(50%);\n\t}\n\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-y-position='bottom'][data-swiping='true']\n\t\t)::before) {\n\t\t/* y -50% needed to distribute height additional height evenly */\n\t\ttop: 50%;\n\t\ttransform: scaleY(3) translateY(-50%);\n\t}\n\n\t/* Leave a ghost div to avoid setting hover to false when transitioning out */\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-swiping='false'][data-removed='true']\n\t\t)::before) {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tinset: 0;\n\t\ttransform: scaleY(2);\n\t}\n\n\t/* Needed to avoid setting hover to false when inbetween toasts */\n\t:global(:where([data-sonner-toast])::after) {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\theight: calc(var(--gap) + 1px);\n\t\tbottom: 100%;\n\t\twidth: 100%;\n\t}\n\n\t:global(:where([data-sonner-toast][data-mounted='true'])) {\n\t\t--y: translateY(0);\n\t\topacity: 1;\n\t}\n\n\t:global(:where([data-sonner-toast][data-expanded='false'][data-front='false'])) {\n\t\t--scale: var(--toasts-before) * 0.05 + 1;\n\t\t--y: translateY(calc(var(--lift-amount) * var(--toasts-before)))\n\t\t\tscale(calc(-1 * var(--scale)));\n\t\theight: var(--front-toast-height);\n\t}\n\n\t:global(:where([data-sonner-toast])) > :global(*) {\n\t\ttransition: opacity 400ms;\n\t}\n\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-expanded='false'][data-front='false'][data-styled='true']\n\t\t)\n\t\t)> :global(*) {\n\t\topacity: 0;\n\t}\n\n\t:global(:where([data-sonner-toast][data-visible='false'])) {\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n\n\t:global(:where([data-sonner-toast][data-mounted='true'][data-expanded='true'])) {\n\t\t--y: translateY(calc(var(--lift) * var(--offset)));\n\t\theight: var(--initial-height);\n\t}\n\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-removed='true'][data-front='true'][data-swipe-out='false']\n\t\t)) {\n\t\t--y: translateY(calc(var(--lift) * -100%));\n\t\topacity: 0;\n\t}\n\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-removed='true'][data-front='false'][data-swipe-out='false'][data-expanded='true']\n\t\t)) {\n\t\t--y: translateY(\n\t\t\tcalc(var(--lift) * var(--offset) + var(--lift) * -100%)\n\t\t);\n\t\topacity: 0;\n\t}\n\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-removed='true'][data-front='false'][data-swipe-out='false'][data-expanded='false']\n\t\t)) {\n\t\t--y: translateY(40%);\n\t\topacity: 0;\n\t\ttransition:\n\t\t\ttransform 500ms,\n\t\t\topacity 200ms;\n\t}\n\n\t/* Bump up the height to make sure hover state doesn't get set to false */\n\t:global(:where(\n\t\t\t[data-sonner-toast][data-removed='true'][data-front='false']\n\t\t)::before) {\n\t\theight: calc(var(--initial-height) + 20%);\n\t}\n\n\t:global([data-sonner-toast][data-swiping='true']) {\n\t\ttransform: var(--y) translateY(var(--swipe-amount, 0px));\n\t\ttransition: none;\n\t}\n\n\t:global([data-sonner-toast][data-swipe-out='true'][data-y-position='bottom']),\n\t:global([data-sonner-toast][data-swipe-out='true'][data-y-position='top']) {\n\t\tanimation: swipe-out 200ms ease-out forwards;\n\t}\n\n\t@keyframes -global-swipe-out {\n\t\tfrom {\n\t\t\ttransform: translateY(\n\t\t\t\tcalc(var(--lift) * var(--offset) + var(--swipe-amount))\n\t\t\t);\n\t\t\topacity: 1;\n\t\t}\n\n\t\tto {\n\t\t\ttransform: translateY(\n\t\t\t\tcalc(\n\t\t\t\t\tvar(--lift) * var(--offset) + var(--swipe-amount) +\n\t\t\t\t\t\tvar(--lift) * -100%\n\t\t\t\t)\n\t\t\t);\n\t\t\topacity: 0;\n\t\t}\n\t}\n\n\t@media (max-width: 600px) {\n\t\t:global([data-sonner-toaster]) {\n\t\t\tposition: fixed;\n\t\t\t--mobile-offset: 16px;\n\t\t\tright: var(--mobile-offset);\n\t\t\tleft: var(--mobile-offset);\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t:global([data-sonner-toaster]) :global([data-sonner-toast]) {\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\twidth: calc(100% - var(--mobile-offset) * 2);\n\t\t}\n\n\t\t:global([data-sonner-toaster][data-x-position='left']) {\n\t\t\tleft: var(--mobile-offset);\n\t\t}\n\n\t\t:global([data-sonner-toaster][data-y-position='bottom']) {\n\t\t\tbottom: 20px;\n\t\t}\n\n\t\t:global([data-sonner-toaster][data-y-position='top']) {\n\t\t\ttop: 20px;\n\t\t}\n\n\t\t:global([data-sonner-toaster][data-x-position='center']) {\n\t\t\tleft: var(--mobile-offset);\n\t\t\tright: var(--mobile-offset);\n\t\t\ttransform: none;\n\t\t}\n\t}\n\n\t:global([data-sonner-toaster][data-theme='light']) {\n\t\t--normal-bg: #fff;\n\t\t--normal-border: var(--gray4);\n\t\t--normal-text: var(--gray12);\n\n\t\t--success-bg: hsl(143, 85%, 96%);\n\t\t--success-border: hsl(145, 92%, 91%);\n\t\t--success-text: hsl(140, 100%, 27%);\n\n\t\t--info-bg: hsl(208, 100%, 97%);\n\t\t--info-border: hsl(221, 91%, 91%);\n\t\t--info-text: hsl(210, 92%, 45%);\n\n\t\t--warning-bg: hsl(49, 100%, 97%);\n\t\t--warning-border: hsl(49, 91%, 91%);\n\t\t--warning-text: hsl(31, 92%, 45%);\n\n\t\t--error-bg: hsl(359, 100%, 97%);\n\t\t--error-border: hsl(359, 100%, 94%);\n\t\t--error-text: hsl(360, 100%, 45%);\n\t}\n\n\t:global([data-sonner-toaster][data-theme='light']\n\t\t[data-sonner-toast][data-invert='true']) {\n\t\t--normal-bg: #000;\n\t\t--normal-border: hsl(0, 0%, 20%);\n\t\t--normal-text: var(--gray1);\n\t}\n\n\t:global([data-sonner-toaster][data-theme='dark']\n\t\t[data-sonner-toast][data-invert='true']) {\n\t\t--normal-bg: #fff;\n\t\t--normal-border: var(--gray3);\n\t\t--normal-text: var(--gray12);\n\t}\n\n\t:global([data-sonner-toaster][data-theme='dark']) {\n\t\t--normal-bg: #000;\n\t\t--normal-border: hsl(0, 0%, 20%);\n\t\t--normal-text: var(--gray1);\n\n\t\t--success-bg: hsl(150, 100%, 6%);\n\t\t--success-border: hsl(147, 100%, 12%);\n\t\t--success-text: hsl(150, 86%, 65%);\n\n\t\t--info-bg: hsl(215, 100%, 6%);\n\t\t--info-border: hsl(223, 100%, 12%);\n\t\t--info-text: hsl(216, 87%, 65%);\n\n\t\t--warning-bg: hsl(64, 100%, 6%);\n\t\t--warning-border: hsl(60, 100%, 12%);\n\t\t--warning-text: hsl(46, 87%, 65%);\n\n\t\t--error-bg: hsl(358, 76%, 10%);\n\t\t--error-border: hsl(357, 89%, 16%);\n\t\t--error-text: hsl(358, 100%, 81%);\n\t}\n\n\t:global([data-rich-colors='true']) :global([data-sonner-toast][data-type='success']) {\n\t\tbackground: var(--success-bg);\n\t\tborder-color: var(--success-border);\n\t\tcolor: var(--success-text);\n\t}\n\n\t:global([data-theme='dark']\n\t\t[data-sonner-toast][data-type='default']\n\t\t[data-close-button]) {\n\t\tbackground: var(--normal-bg);\n\t\tborder-color: var(--normal-border);\n\t\tcolor: var(--normal-text);\n\t}\n\n\t:global([data-rich-colors='true']\n\t\t[data-sonner-toast][data-type='success']\n\t\t[data-close-button]) {\n\t\tbackground: var(--success-bg);\n\t\tborder-color: var(--success-border);\n\t\tcolor: var(--success-text);\n\t}\n\n\t:global([data-rich-colors='true']) :global([data-sonner-toast][data-type='info']) {\n\t\tbackground: var(--info-bg);\n\t\tborder-color: var(--info-border);\n\t\tcolor: var(--info-text);\n\t}\n\n\t:global([data-rich-colors='true']\n\t\t[data-sonner-toast][data-type='info']\n\t\t[data-close-button]) {\n\t\tbackground: var(--info-bg);\n\t\tborder-color: var(--info-border);\n\t\tcolor: var(--info-text);\n\t}\n\n\t:global([data-rich-colors='true']) :global([data-sonner-toast][data-type='warning']) {\n\t\tbackground: var(--warning-bg);\n\t\tborder-color: var(--warning-border);\n\t\tcolor: var(--warning-text);\n\t}\n\n\t:global([data-rich-colors='true']\n\t\t[data-sonner-toast][data-type='warning']\n\t\t[data-close-button]) {\n\t\tbackground: var(--warning-bg);\n\t\tborder-color: var(--warning-border);\n\t\tcolor: var(--warning-text);\n\t}\n\n\t:global([data-rich-colors='true']) :global([data-sonner-toast][data-type='error']) {\n\t\tbackground: var(--error-bg);\n\t\tborder-color: var(--error-border);\n\t\tcolor: var(--error-text);\n\t}\n\n\t:global([data-rich-colors='true']\n\t\t[data-sonner-toast][data-type='error']\n\t\t[data-close-button]) {\n\t\tbackground: var(--error-bg);\n\t\tborder-color: var(--error-border);\n\t\tcolor: var(--error-text);\n\t}\n\n\t:global(.sonner-loading-wrapper) {\n\t\t--size: 16px;\n\t\theight: var(--size);\n\t\twidth: var(--size);\n\t\tposition: absolute;\n\t\tinset: 0;\n\t\tz-index: 10;\n\t}\n\n\t:global(.sonner-loading-wrapper[data-visible='false']) {\n\t\ttransform-origin: center;\n\t\tanimation: sonner-fade-out 0.2s ease forwards;\n\t}\n\n\t:global(.sonner-spinner) {\n\t\tposition: relative;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\theight: var(--size);\n\t\twidth: var(--size);\n\t}\n\n\t:global(.sonner-loading-bar) {\n\t\tanimation: sonner-spin 1.2s linear infinite;\n\t\tbackground: var(--gray11);\n\t\tborder-radius: 6px;\n\t\theight: 8%;\n\t\tleft: -10%;\n\t\tposition: absolute;\n\t\ttop: -3.9%;\n\t\twidth: 24%;\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(1)) {\n\t\tanimation-delay: -1.2s;\n\t\ttransform: rotate(0.0001deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(2)) {\n\t\tanimation-delay: -1.1s;\n\t\ttransform: rotate(30deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(3)) {\n\t\tanimation-delay: -1s;\n\t\ttransform: rotate(60deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(4)) {\n\t\tanimation-delay: -0.9s;\n\t\ttransform: rotate(90deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(5)) {\n\t\tanimation-delay: -0.8s;\n\t\ttransform: rotate(120deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(6)) {\n\t\tanimation-delay: -0.7s;\n\t\ttransform: rotate(150deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(7)) {\n\t\tanimation-delay: -0.6s;\n\t\ttransform: rotate(180deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(8)) {\n\t\tanimation-delay: -0.5s;\n\t\ttransform: rotate(210deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(9)) {\n\t\tanimation-delay: -0.4s;\n\t\ttransform: rotate(240deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(10)) {\n\t\tanimation-delay: -0.3s;\n\t\ttransform: rotate(270deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(11)) {\n\t\tanimation-delay: -0.2s;\n\t\ttransform: rotate(300deg) translate(146%);\n\t}\n\n\t:global(.sonner-loading-bar:nth-child(12)) {\n\t\tanimation-delay: -0.1s;\n\t\ttransform: rotate(330deg) translate(146%);\n\t}\n\n\t@keyframes -global-sonner-fade-in {\n\t\t0% {\n\t\t\topacity: 0;\n\t\t\ttransform: scale(0.8);\n\t\t}\n\t\t100% {\n\t\t\topacity: 1;\n\t\t\ttransform: scale(1);\n\t\t}\n\t}\n\n\t@keyframes -global-sonner-fade-out {\n\t\t0% {\n\t\t\topacity: 1;\n\t\t\ttransform: scale(1);\n\t\t}\n\t\t100% {\n\t\t\topacity: 0;\n\t\t\ttransform: scale(0.8);\n\t\t}\n\t}\n\n\t@keyframes -global-sonner-spin {\n\t\t0% {\n\t\t\topacity: 1;\n\t\t}\n\t\t100% {\n\t\t\topacity: 0.15;\n\t\t}\n\t}\n\n\t@media (prefers-reduced-motion) {\n\t\t:global([data-sonner-toast]),\n\t\t:global([data-sonner-toast]) > :global(*),\n\t\t:global(.sonner-loading-bar) {\n\t\t\ttransition: none !important;\n\t\t\tanimation: none !important;\n\t\t}\n\t}\n\n\t:global(.sonner-loader) {\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\ttransform-origin: center;\n\t\ttransition:\n\t\t\topacity 200ms,\n\t\t\ttransform 200ms;\n\t}\n\n\t:global(.sonner-loader[data-visible='false']) {\n\t\topacity: 0;\n\t\ttransform: scale(0.8) translate(-50%, -50%);\n\t}\n</style>\n","<script>\n\timport { io } from 'socket.io-client';\n\timport { spring } from 'svelte/motion';\n\timport PyodideWorker from '$lib/workers/pyodide.worker?worker';\n\n\tlet loadingProgress = spring(0, {\n\t\tstiffness: 0.05\n\t});\n\n\timport { onMount, tick, setContext } from 'svelte';\n\timport {\n\t\tconfig,\n\t\tuser,\n\t\tsettings,\n\t\ttheme,\n\t\tWEBUI_NAME,\n\t\tmobile,\n\t\tsocket,\n\t\tactiveUserIds,\n\t\tUSAGE_POOL,\n\t\tchatId,\n\t\tchats,\n\t\tcurrentChatPage,\n\t\ttags,\n\t\ttemporaryChatEnabled,\n\t\tisLastActiveTab,\n\t\tisApp,\n\t\tappInfo\n\t} from '$lib/stores';\n\timport { goto } from '$app/navigation';\n\timport { page } from '$app/stores';\n\timport { Toaster, toast } from 'svelte-sonner';\n\n\timport { getBackendConfig } from '$lib/apis';\n\timport { getSessionUser } from '$lib/apis/auths';\n\n\timport '../tailwind.css';\n\timport '../app.css';\n\n\timport 'tippy.js/dist/tippy.css';\n\n\timport { WEBUI_BASE_URL, WEBUI_HOSTNAME } from '$lib/constants';\n\timport i18n, { initI18n, getLanguages } from '$lib/i18n';\n\timport { bestMatchingLanguage } from '$lib/utils';\n\timport { getAllTags, getChatList } from '$lib/apis/chats';\n\timport NotificationToast from '$lib/components/NotificationToast.svelte';\n\timport AppSidebar from '$lib/components/app/AppSidebar.svelte';\n\timport { chatCompletion } from '$lib/apis/openai';\n\n\tsetContext('i18n', i18n);\n\n\tconst bc = new BroadcastChannel('active-tab-channel');\n\n\tlet loaded = false;\n\n\tconst BREAKPOINT = 768;\n\n\tconst setupSocket = async (enableWebsocket) => {\n\t\tconst _socket = io(`${WEBUI_BASE_URL}` || undefined, {\n\t\t\treconnection: true,\n\t\t\treconnectionDelay: 1000,\n\t\t\treconnectionDelayMax: 5000,\n\t\t\trandomizationFactor: 0.5,\n\t\t\tpath: '/ws/socket.io',\n\t\t\ttransports: enableWebsocket ? ['websocket'] : ['polling', 'websocket'],\n\t\t\tauth: { token: localStorage.token }\n\t\t});\n\n\t\tawait socket.set(_socket);\n\n\t\t_socket.on('connect_error', (err) => {\n\t\t\tconsole.log('connect_error', err);\n\t\t});\n\n\t\t_socket.on('connect', () => {\n\t\t\tconsole.log('connected', _socket.id);\n\t\t});\n\n\t\t_socket.on('reconnect_attempt', (attempt) => {\n\t\t\tconsole.log('reconnect_attempt', attempt);\n\t\t});\n\n\t\t_socket.on('reconnect_failed', () => {\n\t\t\tconsole.log('reconnect_failed');\n\t\t});\n\n\t\t_socket.on('disconnect', (reason, details) => {\n\t\t\tconsole.log(`Socket ${_socket.id} disconnected due to ${reason}`);\n\t\t\tif (details) {\n\t\t\t\tconsole.log('Additional details:', details);\n\t\t\t}\n\t\t});\n\n\t\t_socket.on('user-list', (data) => {\n\t\t\tconsole.log('user-list', data);\n\t\t\tactiveUserIds.set(data.user_ids);\n\t\t});\n\n\t\t_socket.on('usage', (data) => {\n\t\t\tconsole.log('usage', data);\n\t\t\tUSAGE_POOL.set(data['models']);\n\t\t});\n\t};\n\n\tconst executePythonAsWorker = async (id, code, cb) => {\n\t\tlet result = null;\n\t\tlet stdout = null;\n\t\tlet stderr = null;\n\n\t\tlet executing = true;\n\t\tlet packages = [\n\t\t\tcode.includes('requests') ? 'requests' : null,\n\t\t\tcode.includes('bs4') ? 'beautifulsoup4' : null,\n\t\t\tcode.includes('numpy') ? 'numpy' : null,\n\t\t\tcode.includes('pandas') ? 'pandas' : null,\n\t\t\tcode.includes('matplotlib') ? 'matplotlib' : null,\n\t\t\tcode.includes('sklearn') ? 'scikit-learn' : null,\n\t\t\tcode.includes('scipy') ? 'scipy' : null,\n\t\t\tcode.includes('re') ? 'regex' : null,\n\t\t\tcode.includes('seaborn') ? 'seaborn' : null,\n\t\t\tcode.includes('sympy') ? 'sympy' : null,\n\t\t\tcode.includes('tiktoken') ? 'tiktoken' : null,\n\t\t\tcode.includes('pytz') ? 'pytz' : null\n\t\t].filter(Boolean);\n\n\t\tconst pyodideWorker = new PyodideWorker();\n\n\t\tpyodideWorker.postMessage({\n\t\t\tid: id,\n\t\t\tcode: code,\n\t\t\tpackages: packages\n\t\t});\n\n\t\tsetTimeout(() => {\n\t\t\tif (executing) {\n\t\t\t\texecuting = false;\n\t\t\t\tstderr = 'Execution Time Limit Exceeded';\n\t\t\t\tpyodideWorker.terminate();\n\n\t\t\t\tif (cb) {\n\t\t\t\t\tcb(\n\t\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstdout: stdout,\n\t\t\t\t\t\t\t\t\tstderr: stderr,\n\t\t\t\t\t\t\t\t\tresult: result\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t(_key, value) => (typeof value === 'bigint' ? value.toString() : value)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}, 60000);\n\n\t\tpyodideWorker.onmessage = (event) => {\n\t\t\tconsole.log('pyodideWorker.onmessage', event);\n\t\t\tconst { id, ...data } = event.data;\n\n\t\t\tconsole.log(id, data);\n\n\t\t\tdata['stdout'] && (stdout = data['stdout']);\n\t\t\tdata['stderr'] && (stderr = data['stderr']);\n\t\t\tdata['result'] && (result = data['result']);\n\n\t\t\tif (cb) {\n\t\t\t\tcb(\n\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstdout: stdout,\n\t\t\t\t\t\t\t\tstderr: stderr,\n\t\t\t\t\t\t\t\tresult: result\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(_key, value) => (typeof value === 'bigint' ? value.toString() : value)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\texecuting = false;\n\t\t};\n\n\t\tpyodideWorker.onerror = (event) => {\n\t\t\tconsole.log('pyodideWorker.onerror', event);\n\n\t\t\tif (cb) {\n\t\t\t\tcb(\n\t\t\t\t\tJSON.parse(\n\t\t\t\t\t\tJSON.stringify(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tstdout: stdout,\n\t\t\t\t\t\t\t\tstderr: stderr,\n\t\t\t\t\t\t\t\tresult: result\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t(_key, value) => (typeof value === 'bigint' ? value.toString() : value)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\texecuting = false;\n\t\t};\n\t};\n\n\tconst chatEventHandler = async (event, cb) => {\n\t\tconst chat = $page.url.pathname.includes(`/c/${event.chat_id}`);\n\n\t\tlet isFocused = document.visibilityState !== 'visible';\n\t\tif (window.electronAPI) {\n\t\t\tconst res = await window.electronAPI.send({\n\t\t\t\ttype: 'window:isFocused'\n\t\t\t});\n\t\t\tif (res) {\n\t\t\t\tisFocused = res.isFocused;\n\t\t\t}\n\t\t}\n\n\t\tawait tick();\n\t\tconst type = event?.data?.type ?? null;\n\t\tconst data = event?.data?.data ?? null;\n\n\t\tif ((event.chat_id !== $chatId && !$temporaryChatEnabled) || isFocused) {\n\t\t\tif (type === 'chat:completion') {\n\t\t\t\tconst { done, content, title } = data;\n\n\t\t\t\tif (done) {\n\t\t\t\t\tif ($isLastActiveTab) {\n\t\t\t\t\t\tif ($settings?.notificationEnabled ?? false) {\n\t\t\t\t\t\t\tnew Notification(`${title} | Open WebUI`, {\n\t\t\t\t\t\t\t\tbody: content,\n\t\t\t\t\t\t\t\ticon: `${WEBUI_BASE_URL}/static/favicon.png`\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttoast.custom(NotificationToast, {\n\t\t\t\t\t\tcomponentProps: {\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tgoto(`/c/${event.chat_id}`);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcontent: content,\n\t\t\t\t\t\t\ttitle: title\n\t\t\t\t\t\t},\n\t\t\t\t\t\tduration: 15000,\n\t\t\t\t\t\tunstyled: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (type === 'chat:title') {\n\t\t\t\tcurrentChatPage.set(1);\n\t\t\t\tawait chats.set(await getChatList(localStorage.token, $currentChatPage));\n\t\t\t} else if (type === 'chat:tags') {\n\t\t\t\ttags.set(await getAllTags(localStorage.token));\n\t\t\t}\n\t\t} else if (data?.session_id === $socket.id) {\n\t\t\tif (type === 'execute:python') {\n\t\t\t\tconsole.log('execute:python', data);\n\t\t\t\texecutePythonAsWorker(data.id, data.code, cb);\n\t\t\t} else if (type === 'request:chat:completion') {\n\t\t\t\tconsole.log(data, $socket.id);\n\t\t\t\tconst { session_id, channel, form_data, model } = data;\n\n\t\t\t\ttry {\n\t\t\t\t\tconst directConnections = $settings?.directConnections ?? {};\n\n\t\t\t\t\tif (directConnections) {\n\t\t\t\t\t\tconst urlIdx = model?.urlIdx;\n\n\t\t\t\t\t\tconst OPENAI_API_URL = directConnections.OPENAI_API_BASE_URLS[urlIdx];\n\t\t\t\t\t\tconst OPENAI_API_KEY = directConnections.OPENAI_API_KEYS[urlIdx];\n\t\t\t\t\t\tconst API_CONFIG = directConnections.OPENAI_API_CONFIGS[urlIdx];\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (API_CONFIG?.prefix_id) {\n\t\t\t\t\t\t\t\tconst prefixId = API_CONFIG.prefix_id;\n\t\t\t\t\t\t\t\tform_data['model'] = form_data['model'].replace(`${prefixId}.`, ``);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst [res, controller] = await chatCompletion(\n\t\t\t\t\t\t\t\tOPENAI_API_KEY,\n\t\t\t\t\t\t\t\tform_data,\n\t\t\t\t\t\t\t\tOPENAI_API_URL\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\t// raise if the response is not ok\n\t\t\t\t\t\t\t\tif (!res.ok) {\n\t\t\t\t\t\t\t\t\tthrow await res.json();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (form_data?.stream ?? false) {\n\t\t\t\t\t\t\t\t\tcb({\n\t\t\t\t\t\t\t\t\t\tstatus: true\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tconsole.log({ status: true });\n\n\t\t\t\t\t\t\t\t\t// res will either be SSE or JSON\n\t\t\t\t\t\t\t\t\tconst reader = res.body.getReader();\n\t\t\t\t\t\t\t\t\tconst decoder = new TextDecoder();\n\n\t\t\t\t\t\t\t\t\tconst processStream = async () => {\n\t\t\t\t\t\t\t\t\t\twhile (true) {\n\t\t\t\t\t\t\t\t\t\t\t// Read data chunks from the response stream\n\t\t\t\t\t\t\t\t\t\t\tconst { done, value } = await reader.read();\n\t\t\t\t\t\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Decode the received chunk\n\t\t\t\t\t\t\t\t\t\t\tconst chunk = decoder.decode(value, { stream: true });\n\n\t\t\t\t\t\t\t\t\t\t\t// Process lines within the chunk\n\t\t\t\t\t\t\t\t\t\t\tconst lines = chunk.split('\\n').filter((line) => line.trim() !== '');\n\n\t\t\t\t\t\t\t\t\t\t\tfor (const line of lines) {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(line);\n\t\t\t\t\t\t\t\t\t\t\t\t$socket?.emit(channel, line);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t// Process the stream in the background\n\t\t\t\t\t\t\t\t\tawait processStream();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconst data = await res.json();\n\t\t\t\t\t\t\t\t\tcb(data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthrow new Error('An error occurred while fetching the completion');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.error('chatCompletion', error);\n\t\t\t\t\t\t\tcb(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('chatCompletion', error);\n\t\t\t\t\tcb(error);\n\t\t\t\t} finally {\n\t\t\t\t\t$socket.emit(channel, {\n\t\t\t\t\t\tdone: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.log('chatEventHandler', event);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst channelEventHandler = async (event) => {\n\t\tif (event.data?.type === 'typing') {\n\t\t\treturn;\n\t\t}\n\n\t\t// check url path\n\t\tconst channel = $page.url.pathname.includes(`/channels/${event.channel_id}`);\n\n\t\tlet isFocused = document.visibilityState !== 'visible';\n\t\tif (window.electronAPI) {\n\t\t\tconst res = await window.electronAPI.send({\n\t\t\t\ttype: 'window:isFocused'\n\t\t\t});\n\t\t\tif (res) {\n\t\t\t\tisFocused = res.isFocused;\n\t\t\t}\n\t\t}\n\n\t\tif ((!channel || isFocused) && event?.user?.id !== $user?.id) {\n\t\t\tawait tick();\n\t\t\tconst type = event?.data?.type ?? null;\n\t\t\tconst data = event?.data?.data ?? null;\n\n\t\t\tif (type === 'message') {\n\t\t\t\tif ($isLastActiveTab) {\n\t\t\t\t\tif ($settings?.notificationEnabled ?? false) {\n\t\t\t\t\t\tnew Notification(`${data?.user?.name} (#${event?.channel?.name}) | Open WebUI`, {\n\t\t\t\t\t\t\tbody: data?.content,\n\t\t\t\t\t\t\ticon: data?.user?.profile_image_url ?? `${WEBUI_BASE_URL}/static/favicon.png`\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ttoast.custom(NotificationToast, {\n\t\t\t\t\tcomponentProps: {\n\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\tgoto(`/channels/${event.channel_id}`);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontent: data?.content,\n\t\t\t\t\t\ttitle: event?.channel?.name\n\t\t\t\t\t},\n\t\t\t\t\tduration: 15000,\n\t\t\t\t\tunstyled: true\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tif (typeof window !== 'undefined' && window.applyTheme) {\n\t\t\twindow.applyTheme();\n\t\t}\n\n\t\tif (window?.electronAPI) {\n\t\t\tconst info = await window.electronAPI.send({\n\t\t\t\ttype: 'app:info'\n\t\t\t});\n\n\t\t\tif (info) {\n\t\t\t\tisApp.set(true);\n\t\t\t\tappInfo.set(info);\n\n\t\t\t\tconst data = await window.electronAPI.send({\n\t\t\t\t\ttype: 'app:data'\n\t\t\t\t});\n\n\t\t\t\tif (data) {\n\t\t\t\t\tappData.set(data);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Listen for messages on the BroadcastChannel\n\t\tbc.onmessage = (event) => {\n\t\t\tif (event.data === 'active') {\n\t\t\t\tisLastActiveTab.set(false); // Another tab became active\n\t\t\t}\n\t\t};\n\n\t\t// Set yourself as the last active tab when this tab is focused\n\t\tconst handleVisibilityChange = () => {\n\t\t\tif (document.visibilityState === 'visible') {\n\t\t\t\tisLastActiveTab.set(true); // This tab is now the active tab\n\t\t\t\tbc.postMessage('active'); // Notify other tabs that this tab is active\n\t\t\t}\n\t\t};\n\n\t\t// Add event listener for visibility state changes\n\t\tdocument.addEventListener('visibilitychange', handleVisibilityChange);\n\n\t\t// Call visibility change handler initially to set state on load\n\t\thandleVisibilityChange();\n\n\t\ttheme.set(localStorage.theme);\n\n\t\tmobile.set(window.innerWidth < BREAKPOINT);\n\t\tconst onResize = () => {\n\t\t\tif (window.innerWidth < BREAKPOINT) {\n\t\t\t\tmobile.set(true);\n\t\t\t} else {\n\t\t\t\tmobile.set(false);\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener('resize', onResize);\n\n\t\tlet backendConfig = null;\n\t\ttry {\n\t\t\tbackendConfig = await getBackendConfig();\n\t\t\tconsole.log('Backend config:', backendConfig);\n\t\t} catch (error) {\n\t\t\tconsole.error('Error loading backend config:', error);\n\t\t}\n\t\t// Initialize i18n even if we didn't get a backend config,\n\t\t// so `/error` can show something that's not `undefined`.\n\n\t\tinitI18n();\n\t\tif (!localStorage.locale) {\n\t\t\tconst languages = await getLanguages();\n\t\t\tconst browserLanguages = navigator.languages\n\t\t\t\t? navigator.languages\n\t\t\t\t: [navigator.language || navigator.userLanguage];\n\t\t\tconst lang = backendConfig.default_locale\n\t\t\t\t? backendConfig.default_locale\n\t\t\t\t: bestMatchingLanguage(languages, browserLanguages, 'en-US');\n\t\t\t$i18n.changeLanguage(lang);\n\t\t}\n\n\t\tif (backendConfig) {\n\t\t\t// Save Backend Status to Store\n\t\t\tawait config.set(backendConfig);\n\t\t\tawait WEBUI_NAME.set(backendConfig.name);\n\n\t\t\tif ($config) {\n\t\t\t\tawait setupSocket($config.features?.enable_websocket ?? true);\n\n\t\t\t\tif (localStorage.token) {\n\t\t\t\t\t// Get Session User Info\n\t\t\t\t\tconst sessionUser = await getSessionUser(localStorage.token).catch((error) => {\n\t\t\t\t\t\t// toast.error(`${error}`);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t});\n\n\t\t\t\t\tif (sessionUser) {\n\t\t\t\t\t\t// Save Session User to Store\n\t\t\t\t\t\t$socket.emit('user-join', { auth: { token: sessionUser.token } });\n\n\t\t\t\t\t\t$socket?.on('chat-events', chatEventHandler);\n\t\t\t\t\t\t$socket?.on('channel-events', channelEventHandler);\n\n\t\t\t\t\t\tawait user.set(sessionUser);\n\t\t\t\t\t\tawait config.set(await getBackendConfig());\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Redirect Invalid Session User to /auth Page\n\t\t\t\t\t\tlocalStorage.removeItem('token');\n\t\t\t\t\t\tawait goto('/auth');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Don't redirect if we're already on the auth page\n\t\t\t\t\t// Needed because we pass in tokens from OAuth logins via URL fragments\n\t\t\t\t\tif ($page.url.pathname !== '/auth') {\n\t\t\t\t\t\tawait goto('/auth');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// Redirect to /error when Backend Not Detected\n\t\t\tawait goto(`/error`);\n\t\t}\n\n\t\tawait tick();\n\n\t\tif (\n\t\t\tdocument.documentElement.classList.contains('her') &&\n\t\t\tdocument.getElementById('progress-bar')\n\t\t) {\n\t\t\tloadingProgress.subscribe((value) => {\n\t\t\t\tconst progressBar = document.getElementById('progress-bar');\n\n\t\t\t\tif (progressBar) {\n\t\t\t\t\tprogressBar.style.width = `${value}%`;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tawait loadingProgress.set(100);\n\n\t\t\tdocument.getElementById('splash-screen')?.remove();\n\n\t\t\tconst audio = new Audio(`/audio/greeting.mp3`);\n\t\t\tconst playAudio = () => {\n\t\t\t\taudio.play();\n\t\t\t\tdocument.removeEventListener('click', playAudio);\n\t\t\t};\n\n\t\t\tdocument.addEventListener('click', playAudio);\n\n\t\t\tloaded = true;\n\t\t} else {\n\t\t\tdocument.getElementById('splash-screen')?.remove();\n\t\t\tloaded = true;\n\t\t}\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('resize', onResize);\n\t\t};\n\t});\n</script>\n\n<svelte:head>\n\t<title>{$WEBUI_NAME}</title>\n\t<link crossorigin=\"anonymous\" rel=\"icon\" href=\"{WEBUI_BASE_URL}/static/favicon.png\" />\n\n\t<!-- rosepine themes have been disabled as it's not up to date with our latest version. -->\n\t<!-- feel free to make a PR to fix if anyone wants to see it return -->\n\t<!-- <link rel=\"stylesheet\" type=\"text/css\" href=\"/themes/rosepine.css\" />\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"/themes/rosepine-dawn.css\" /> -->\n</svelte:head>\n\n{#if loaded}\n\t{#if $isApp}\n\t\t<div class=\"flex flex-row h-screen\">\n\t\t\t<AppSidebar />\n\n\t\t\t<div class=\"w-full flex-1 max-w-[calc(100%-4.5rem)]\">\n\t\t\t\t<slot />\n\t\t\t</div>\n\t\t</div>\n\t{:else}\n\t\t<slot />\n\t{/if}\n{/if}\n\n<Toaster\n\ttheme={$theme.includes('dark')\n\t\t? 'dark'\n\t\t: $theme === 'system'\n\t\t\t? window.matchMedia('(prefers-color-scheme: dark)').matches\n\t\t\t\t? 'dark'\n\t\t\t\t: 'light'\n\t\t\t: 'light'}\n\trichColors\n\tposition=\"top-right\"\n/>\n"],"names":["now","spring","opts","GAP","theme","position","index"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}