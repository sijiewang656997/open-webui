import{s as gt,n as Fe,d as c,c as i,i as Q,b as n,D as Dl,f as m,E as Il,y as Ue,z as Le,p as Ht,j as $t,I as Wl,q as xl,G as Xt,a as J,V as Vl,B as Ye,x as we,A as Vs,e as d,g as F,l as E,N as it,h as _,t as K,o as y,m as al,O as Yl,Q as Ms,M as ts,P as As}from"../chunks/CgRTDwF2.js";import{S as Et,i as yt,f as Me,d as ne,t as A,a as C,m as oe,b as ie,e as ue,g as He,c as ze}from"../chunks/Bnxgdxyh.js";import{t as vt}from"../chunks/Fny8-CkQ.js";import{g as xs}from"../chunks/JmxR0F9R.js";import{u as Fl,c as Ss}from"../chunks/D-bUEbUi.js";import{u as Bs,a as Ps,b as yl,d as Hs,c as ls,e as zs}from"../chunks/CDg80BRM.js";import{e as nl,u as js,o as Gs}from"../chunks/C3QokUWv.js";import{b as Al}from"../chunks/CisIfe-u.js";import{d as Mt,r as Ts}from"../chunks/AoanbIlI.js";import{l as Kl}from"../chunks/B9ns8vb-.js";import{P as Os}from"../chunks/BtoFWkYZ.js";import{T as ol}from"../chunks/iHdIuxSF.js";import{M as Sl}from"../chunks/DQPlRvwr.js";import{j as ss,k as Rs}from"../chunks/ClYhvyZD.js";import{S as Zs}from"../chunks/CnJpwmt-.js";import{e as rs}from"../chunks/eiTzkm5x.js";import{C as qs}from"../chunks/CtUWi401.js";import{B as Ns}from"../chunks/DTBa4jpp.js";import{P as Cs}from"../chunks/DKP_55gW.js";import{C as zt}from"../chunks/V3qGrggw.js";import{C as Tl}from"../chunks/RiojAJBt.js";import{C as Ws}from"../chunks/Ddt6Mnq1.js";import{T as Us}from"../chunks/CGMjD-ny.js";import"../chunks/DxEWDC6Z.js";import{S as Pt}from"../chunks/B_zD3mWe.js";import{C as Ys}from"../chunks/DDSBCcmI.js";import{W as Fs}from"../chunks/Bp5rwWfs.js";import{u as Ks,d as Qs,g as as,c as Js}from"../chunks/DPDojB3e.js";import{P as Xs}from"../chunks/lFg9uAw1.js";import{U as er}from"../chunks/BdyYvHRX.js";import{U as tr}from"../chunks/BjPOpXki.js";function lr(s){let e,t;return{c(){e=Il("svg"),t=Il("path"),this.h()},l(l){e=Dl(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=m(e);t=Dl(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),m(t).forEach(c),a.forEach(c),this.h()},h(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke-width",s[1]),i(e,"stroke","currentColor"),i(e,"class",s[0])},m(l,a){Q(l,e,a),n(e,t)},p(l,[a]){a&2&&i(e,"stroke-width",l[1]),a&1&&i(e,"class",l[0])},i:Fe,o:Fe,d(l){l&&c(e)}}}function sr(s,e,t){let{className:l="size-4"}=e,{strokeWidth:a="1.5"}=e;return s.$$set=f=>{"className"in f&&t(0,l=f.className),"strokeWidth"in f&&t(1,a=f.strokeWidth)},[l,a]}class rr extends Et{constructor(e){super(),yt(this,e,sr,lr,gt,{className:0,strokeWidth:1})}}function ar(s){let e,t,l,a=s[4].t("Edit User")+"",f,r,o,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,v,g,p,w,V,T,D,k,N,b,$,I,O=s[1].name+"",B,x,z,X=s[4].t("Created at")+"",S,R,j=Mt(s[1].created_at*1e3).format("LL")+"",te,H,M,q,se,de,W,Z=s[4].t("Email")+"",G,_e,pe,P,le,he,U,Y,me=s[4].t("Name")+"",ve,ye,De,$e,fe,re,Ee,xe=s[4].t("New Password")+"",Ve,Oe,Ne,Ae,Be,Ce,Te,Re=s[4].t("Save")+"",Ke,ce,ge;return{c(){e=_("div"),t=_("div"),l=_("div"),f=K(a),r=y(),o=_("button"),o.innerHTML=u,h=y(),v=_("hr"),g=y(),p=_("div"),w=_("div"),V=_("form"),T=_("div"),D=_("div"),k=_("img"),b=y(),$=_("div"),I=_("div"),B=K(O),x=y(),z=_("div"),S=K(X),R=y(),te=K(j),H=y(),M=_("hr"),q=y(),se=_("div"),de=_("div"),W=_("div"),G=K(Z),_e=y(),pe=_("div"),P=_("input"),he=y(),U=_("div"),Y=_("div"),ve=K(me),ye=y(),De=_("div"),$e=_("input"),fe=y(),re=_("div"),Ee=_("div"),Ve=K(xe),Oe=y(),Ne=_("div"),Ae=_("input"),Be=y(),Ce=_("div"),Te=_("button"),Ke=K(Re),this.h()},l(be){e=d(be,"DIV",{});var Ie=m(e);t=d(Ie,"DIV",{class:!0});var Pe=m(t);l=d(Pe,"DIV",{class:!0});var je=m(l);f=F(je,a),je.forEach(c),r=E(Pe),o=d(Pe,"BUTTON",{class:!0,"data-svelte-h":!0}),it(o)!=="svelte-745w2y"&&(o.innerHTML=u),Pe.forEach(c),h=E(Ie),v=d(Ie,"HR",{class:!0}),g=E(Ie),p=d(Ie,"DIV",{class:!0});var st=m(p);w=d(st,"DIV",{class:!0});var ft=m(w);V=d(ft,"FORM",{class:!0});var Se=m(V);T=d(Se,"DIV",{class:!0});var Qe=m(T);D=d(Qe,"DIV",{class:!0});var ut=m(D);k=d(ut,"IMG",{src:!0,class:!0,alt:!0}),ut.forEach(c),b=E(Qe),$=d(Qe,"DIV",{});var ht=m($);I=d(ht,"DIV",{class:!0});var We=m(I);B=F(We,O),We.forEach(c),x=E(ht),z=d(ht,"DIV",{class:!0});var Je=m(z);S=F(Je,X),R=E(Je),te=F(Je,j),Je.forEach(c),ht.forEach(c),Qe.forEach(c),H=E(Se),M=d(Se,"HR",{class:!0}),q=E(Se),se=d(Se,"DIV",{class:!0});var Xe=m(se);de=d(Xe,"DIV",{class:!0});var nt=m(de);W=d(nt,"DIV",{class:!0});var wt=m(W);G=F(wt,Z),wt.forEach(c),_e=E(nt),pe=d(nt,"DIV",{class:!0});var Tt=m(pe);P=d(Tt,"INPUT",{class:!0,type:!0,autocomplete:!0}),Tt.forEach(c),nt.forEach(c),he=E(Xe),U=d(Xe,"DIV",{class:!0});var Nt=m(U);Y=d(Nt,"DIV",{class:!0});var ct=m(Y);ve=F(ct,me),ct.forEach(c),ye=E(Nt),De=d(Nt,"DIV",{class:!0});var tt=m(De);$e=d(tt,"INPUT",{class:!0,type:!0,autocomplete:!0}),tt.forEach(c),Nt.forEach(c),fe=E(Xe),re=d(Xe,"DIV",{class:!0});var et=m(re);Ee=d(et,"DIV",{class:!0});var jt=m(Ee);Ve=F(jt,xe),jt.forEach(c),Oe=E(et),Ne=d(et,"DIV",{class:!0});var Ct=m(Ne);Ae=d(Ct,"INPUT",{class:!0,type:!0,autocomplete:!0}),Ct.forEach(c),et.forEach(c),Xe.forEach(c),Be=E(Se),Ce=d(Se,"DIV",{class:!0});var Dt=m(Ce);Te=d(Dt,"BUTTON",{class:!0,type:!0});var mt=m(Te);Ke=F(mt,Re),mt.forEach(c),Dt.forEach(c),Se.forEach(c),ft.forEach(c),st.forEach(c),Ie.forEach(c),this.h()},h(){i(l,"class","text-lg font-medium self-center"),i(o,"class","self-center"),i(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),i(v,"class","border-gray-100 dark:border-gray-850"),Vl(k.src,N=s[1].profile_image_url)||i(k,"src",N),i(k,"class","max-w-[55px] object-cover rounded-full"),i(k,"alt","User profile"),i(D,"class","self-center mr-5"),i(I,"class","self-center capitalize font-semibold"),i(z,"class","text-xs text-gray-500"),i(T,"class","flex items-center rounded-md py-2 px-4 w-full"),i(M,"class","border-gray-100 dark:border-gray-850 my-3 w-full"),i(W,"class","mb-1 text-xs text-gray-500"),i(P,"class","w-full rounded-sm py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1vx7r9s"),i(P,"type","email"),i(P,"autocomplete","off"),P.required=!0,P.disabled=le=s[3].id==s[2].id,i(pe,"class","flex-1"),i(de,"class","flex flex-col w-full"),i(Y,"class","mb-1 text-xs text-gray-500"),i($e,"class","w-full rounded-sm py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-hidden svelte-1vx7r9s"),i($e,"type","text"),i($e,"autocomplete","off"),$e.required=!0,i(De,"class","flex-1"),i(U,"class","flex flex-col w-full"),i(Ee,"class","mb-1 text-xs text-gray-500"),i(Ae,"class","w-full rounded-sm py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-hidden svelte-1vx7r9s"),i(Ae,"type","password"),i(Ae,"autocomplete","new-password"),i(Ne,"class","flex-1"),i(re,"class","flex flex-col w-full"),i(se,"class","flex flex-col space-y-1.5"),i(Te,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),i(Te,"type","submit"),i(Ce,"class","flex justify-end pt-3 text-sm font-medium"),i(V,"class","flex flex-col w-full"),i(w,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),i(p,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200")},m(be,Ie){Q(be,e,Ie),n(e,t),n(t,l),n(l,f),n(t,r),n(t,o),n(e,h),n(e,v),n(e,g),n(e,p),n(p,w),n(w,V),n(V,T),n(T,D),n(D,k),n(T,b),n(T,$),n($,I),n(I,B),n($,x),n($,z),n(z,S),n(z,R),n(z,te),n(V,H),n(V,M),n(V,q),n(V,se),n(se,de),n(de,W),n(W,G),n(de,_e),n(de,pe),n(pe,P),Ye(P,s[3].email),n(se,he),n(se,U),n(U,Y),n(Y,ve),n(U,ye),n(U,De),n(De,$e),Ye($e,s[3].name),n(se,fe),n(se,re),n(re,Ee),n(Ee,Ve),n(re,Oe),n(re,Ne),n(Ne,Ae),Ye(Ae,s[3].password),n(V,Be),n(V,Ce),n(Ce,Te),n(Te,Ke),ce||(ge=[we(o,"click",s[7]),we(P,"input",s[8]),we($e,"input",s[9]),we(Ae,"input",s[10]),we(V,"submit",Vs(s[11]))],ce=!0)},p(be,Ie){Ie&16&&a!==(a=be[4].t("Edit User")+"")&&J(f,a),Ie&2&&!Vl(k.src,N=be[1].profile_image_url)&&i(k,"src",N),Ie&2&&O!==(O=be[1].name+"")&&J(B,O),Ie&16&&X!==(X=be[4].t("Created at")+"")&&J(S,X),Ie&2&&j!==(j=Mt(be[1].created_at*1e3).format("LL")+"")&&J(te,j),Ie&16&&Z!==(Z=be[4].t("Email")+"")&&J(G,Z),Ie&12&&le!==(le=be[3].id==be[2].id)&&(P.disabled=le),Ie&8&&P.value!==be[3].email&&Ye(P,be[3].email),Ie&16&&me!==(me=be[4].t("Name")+"")&&J(ve,me),Ie&8&&$e.value!==be[3].name&&Ye($e,be[3].name),Ie&16&&xe!==(xe=be[4].t("New Password")+"")&&J(Ve,xe),Ie&8&&Ae.value!==be[3].password&&Ye(Ae,be[3].password),Ie&16&&Re!==(Re=be[4].t("Save")+"")&&J(Ke,Re)},d(be){be&&c(e),ce=!1,Xt(ge)}}}function nr(s){let e,t,l;function a(r){s[12](r)}let f={size:"sm",$$slots:{default:[ar]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),e=new Sl({props:f}),Ue.push(()=>Me(e,"show",a)),{c(){ue(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,o){oe(e,r,o),l=!0},p(r,[o]){const u={};o&16415&&(u.$$scope={dirty:o,ctx:r}),!t&&o&1&&(t=!0,u.show=r[0],Le(()=>t=!1)),e.$set(u)},i(r){l||(C(e.$$.fragment,r),l=!0)},o(r){A(e.$$.fragment,r),l=!1},d(r){ne(e,r)}}}function or(s,e,t){let l;const a=Ht("i18n");$t(s,a,k=>t(4,l=k));const f=Wl();Mt.extend(Kl);let{show:r=!1}=e,{selectedUser:o}=e,{sessionUser:u}=e,h={profile_image_url:"",name:"",email:"",password:""};const v=async()=>{await Bs(localStorage.token,o.id,h).catch(N=>{vt.error(`${N}`)})&&(f("save"),t(0,r=!1))};xl(()=>{o&&(t(3,h=o),t(3,h.password="",h))});const g=()=>{t(0,r=!1)};function p(){h.email=this.value,t(3,h)}function w(){h.name=this.value,t(3,h)}function V(){h.password=this.value,t(3,h)}const T=()=>{v()};function D(k){r=k,t(0,r)}return s.$$set=k=>{"show"in k&&t(0,r=k.show),"selectedUser"in k&&t(1,o=k.selectedUser),"sessionUser"in k&&t(2,u=k.sessionUser)},[r,o,u,h,l,a,v,g,p,w,V,T,D]}class ir extends Et{constructor(e){super(),yt(this,e,or,nr,gt,{show:0,selectedUser:1,sessionUser:2})}}function ns(s,e,t){const l=s.slice();return l[16]=e[t],l[18]=t,l}function ur(s){let e,t;return e=new Zs({}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},p:Fe,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function fr(s){let e,t,l,a;const f=[dr,cr],r=[];function o(u,h){return u[2].length>0?0:1}return e=o(s),t=r[e]=f[e](s),{c(){t.c(),l=al()},l(u){t.l(u),l=al()},m(u,h){r[e].m(u,h),Q(u,l,h),a=!0},p(u,h){let v=e;e=o(u),e===v?r[e].p(u,h):(He(),A(r[v],1,1,()=>{r[v]=null}),ze(),t=r[e],t?t.p(u,h):(t=r[e]=f[e](u),t.c()),C(t,1),t.m(l.parentNode,l))},i(u){a||(C(t),a=!0)},o(u){A(t),a=!1},d(u){u&&c(l),r[e].d(u)}}}function cr(s){let e,t=s[1].name+"",l,a,f=s[5].t("has no conversations.")+"",r;return{c(){e=_("div"),l=K(t),a=y(),r=K(f),this.h()},l(o){e=d(o,"DIV",{class:!0});var u=m(e);l=F(u,t),a=E(u),r=F(u,f),u.forEach(c),this.h()},h(){i(e,"class","text-left text-sm w-full mb-8")},m(o,u){Q(o,e,u),n(e,l),n(e,a),n(e,r)},p(o,u){u&2&&t!==(t=o[1].name+"")&&J(l,t),u&32&&f!==(f=o[5].t("has no conversations.")+"")&&J(r,f)},i:Fe,o:Fe,d(o){o&&c(e)}}}function dr(s){let e,t,l,a,f,r,o=s[5].t("Title")+"",u,h,v,g,p=s[5].t("Updated at")+"",w,V,T,D,k,N,b,$,I;function O(H,M){return H[3]==="title"?hr:_r}let B=O(s),x=B(s);function z(H,M){return H[3]==="updated_at"?pr:mr}let X=z(s),S=X(s),R=nl(s[2].sort(s[12])),j=[];for(let H=0;H<R.length;H+=1)j[H]=os(ns(s,R,H));const te=H=>A(j[H],1,1,()=>{j[H]=null});return{c(){e=_("div"),t=_("div"),l=_("table"),a=_("thead"),f=_("tr"),r=_("th"),u=K(o),h=y(),x.c(),v=y(),g=_("th"),w=K(p),V=y(),S.c(),T=y(),D=_("th"),k=y(),N=_("tbody");for(let H=0;H<j.length;H+=1)j[H].c();this.h()},l(H){e=d(H,"DIV",{class:!0});var M=m(e);t=d(M,"DIV",{class:!0});var q=m(t);l=d(q,"TABLE",{class:!0});var se=m(l);a=d(se,"THEAD",{class:!0});var de=m(a);f=d(de,"TR",{});var W=m(f);r=d(W,"TH",{scope:!0,class:!0});var Z=m(r);u=F(Z,o),h=E(Z),x.l(Z),Z.forEach(c),v=E(W),g=d(W,"TH",{scope:!0,class:!0});var G=m(g);w=F(G,p),V=E(G),S.l(G),G.forEach(c),T=E(W),D=d(W,"TH",{scope:!0,class:!0}),m(D).forEach(c),W.forEach(c),de.forEach(c),k=E(se),N=d(se,"TBODY",{});var _e=m(N);for(let pe=0;pe<j.length;pe+=1)j[pe].l(_e);_e.forEach(c),se.forEach(c),q.forEach(c),M.forEach(c),this.h()},h(){i(r,"scope","col"),i(r,"class","px-3 py-2 cursor-pointer select-none"),i(g,"scope","col"),i(g,"class","px-3 py-2 hidden md:flex cursor-pointer select-none justify-end"),i(D,"scope","col"),i(D,"class","px-3 py-2 text-right"),i(a,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-850"),i(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),i(t,"class","relative overflow-x-auto"),i(e,"class","text-left text-sm w-full mb-4 max-h-[22rem] overflow-y-scroll")},m(H,M){Q(H,e,M),n(e,t),n(t,l),n(l,a),n(a,f),n(f,r),n(r,u),n(r,h),x.m(r,null),n(f,v),n(f,g),n(g,w),n(g,V),S.m(g,null),n(f,T),n(f,D),n(l,k),n(l,N);for(let q=0;q<j.length;q+=1)j[q]&&j[q].m(N,null);b=!0,$||(I=[we(r,"click",s[10]),we(g,"click",s[11])],$=!0)},p(H,M){if((!b||M&32)&&o!==(o=H[5].t("Title")+"")&&J(u,o),B===(B=O(H))&&x?x.p(H,M):(x.d(1),x=B(H),x&&(x.c(),x.m(r,null))),(!b||M&32)&&p!==(p=H[5].t("Updated at")+"")&&J(w,p),X===(X=z(H))&&S?S.p(H,M):(S.d(1),S=X(H),S&&(S.c(),S.m(g,null))),M&188){R=nl(H[2].sort(H[12]));let q;for(q=0;q<R.length;q+=1){const se=ns(H,R,q);j[q]?(j[q].p(se,M),C(j[q],1)):(j[q]=os(se),j[q].c(),C(j[q],1),j[q].m(N,null))}for(He(),q=R.length;q<j.length;q+=1)te(q);ze()}},i(H){if(!b){for(let M=0;M<R.length;M+=1)C(j[M]);b=!0}},o(H){j=j.filter(Boolean);for(let M=0;M<j.length;M+=1)A(j[M]);b=!1},d(H){H&&c(e),x.d(),S.d(),Yl(j,H),$=!1,Xt(I)}}}function _r(s){let e,t="▲";return{c(){e=_("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-7bvkyo"&&(e.textContent=t),this.h()},h(){i(e,"class","invisible")},m(l,a){Q(l,e,a)},p:Fe,d(l){l&&c(e)}}}function hr(s){let e=s[4]==="asc"?"▲":"▼",t;return{c(){t=K(e)},l(l){t=F(l,e)},m(l,a){Q(l,t,a)},p(l,a){a&16&&e!==(e=l[4]==="asc"?"▲":"▼")&&J(t,e)},d(l){l&&c(t)}}}function mr(s){let e,t="▲";return{c(){e=_("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-7bvkyo"&&(e.textContent=t),this.h()},h(){i(e,"class","invisible")},m(l,a){Q(l,e,a)},p:Fe,d(l){l&&c(e)}}}function pr(s){let e=s[4]==="asc"?"▲":"▼",t;return{c(){t=K(e)},l(l){t=F(l,e)},m(l,a){Q(l,t,a)},p(l,a){a&16&&e!==(e=l[4]==="asc"?"▲":"▼")&&J(t,e)},d(l){l&&c(t)}}}function vr(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function f(){return s[13](s[16])}return{c(){e=_("button"),e.innerHTML=t,this.h()},l(r){e=d(r,"BUTTON",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-oqx8cx"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(r,o){Q(r,e,o),l||(a=we(e,"click",f),l=!0)},p(r,o){s=r},d(r){r&&c(e),l=!1,a()}}}function os(s){let e,t,l,a,f=s[16].title+"",r,o,u,h,v,g=Mt(s[16].updated_at*1e3).format("LLL")+"",p,w,V,T,D,k,N,b;return D=new ol({props:{content:s[5].t("Delete Chat"),$$slots:{default:[vr]},$$scope:{ctx:s}}}),{c(){e=_("tr"),t=_("td"),l=_("a"),a=_("div"),r=K(f),u=y(),h=_("td"),v=_("div"),p=K(g),w=y(),V=_("td"),T=_("div"),ue(D.$$.fragment),k=y(),this.h()},l($){e=d($,"TR",{class:!0});var I=m(e);t=d(I,"TD",{class:!0});var O=m(t);l=d(O,"A",{href:!0,target:!0});var B=m(l);a=d(B,"DIV",{class:!0});var x=m(a);r=F(x,f),x.forEach(c),B.forEach(c),O.forEach(c),u=E(I),h=d(I,"TD",{class:!0});var z=m(h);v=d(z,"DIV",{class:!0});var X=m(v);p=F(X,g),X.forEach(c),z.forEach(c),w=E(I),V=d(I,"TD",{class:!0});var S=m(V);T=d(S,"DIV",{class:!0});var R=m(T);ie(D.$$.fragment,R),R.forEach(c),S.forEach(c),k=E(I),I.forEach(c),this.h()},h(){i(a,"class","underline line-clamp-1 max-w-96"),i(l,"href",o="/s/"+s[16].id),i(l,"target","_blank"),i(t,"class","px-3 py-1"),i(v,"class","my-auto shrink-0"),i(h,"class","px-3 py-1 hidden md:flex h-[2.5rem] justify-end"),i(T,"class","flex justify-end w-full"),i(V,"class","px-3 py-1 text-right"),i(e,"class",N="bg-transparent "+(s[18]!==s[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m($,I){Q($,e,I),n(e,t),n(t,l),n(l,a),n(a,r),n(e,u),n(e,h),n(h,v),n(v,p),n(e,w),n(e,V),n(V,T),oe(D,T,null),n(e,k),b=!0},p($,I){(!b||I&28)&&f!==(f=$[16].title+"")&&J(r,f),(!b||I&28&&o!==(o="/s/"+$[16].id))&&i(l,"href",o),(!b||I&28)&&g!==(g=Mt($[16].updated_at*1e3).format("LLL")+"")&&J(p,g);const O={};I&32&&(O.content=$[5].t("Delete Chat")),I&524316&&(O.$$scope={dirty:I,ctx:$}),D.$set(O),(!b||I&4&&N!==(N="bg-transparent "+($[18]!==$[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&i(e,"class",N)},i($){b||(C(D.$$.fragment,$),b=!0)},o($){A(D.$$.fragment,$),b=!1},d($){$&&c(e),ne(D)}}}function gr(s){let e,t,l=s[5].t("{{user}}'s Chats",{user:s[1].name})+"",a,f,r,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',u,h,v,g,p,w,V,T;const D=[fr,ur],k=[];function N(b,$){return b[2]?0:1}return g=N(s),p=k[g]=D[g](s),{c(){e=_("div"),t=_("div"),a=K(l),f=y(),r=_("button"),r.innerHTML=o,u=y(),h=_("div"),v=_("div"),p.c(),this.h()},l(b){e=d(b,"DIV",{class:!0});var $=m(e);t=d($,"DIV",{class:!0});var I=m(t);a=F(I,l),I.forEach(c),f=E($),r=d($,"BUTTON",{class:!0,"data-svelte-h":!0}),it(r)!=="svelte-1i09mfg"&&(r.innerHTML=o),$.forEach(c),u=E(b),h=d(b,"DIV",{class:!0});var O=m(h);v=d(O,"DIV",{class:!0});var B=m(v);p.l(B),B.forEach(c),O.forEach(c),this.h()},h(){i(t,"class","text-lg font-medium self-center capitalize"),i(r,"class","self-center"),i(e,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),i(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),i(h,"class","flex flex-col md:flex-row w-full px-5 pt-2 pb-4 md:space-x-4 dark:text-gray-200")},m(b,$){Q(b,e,$),n(e,t),n(t,a),n(e,f),n(e,r),Q(b,u,$),Q(b,h,$),n(h,v),k[g].m(v,null),w=!0,V||(T=we(r,"click",s[9]),V=!0)},p(b,$){(!w||$&34)&&l!==(l=b[5].t("{{user}}'s Chats",{user:b[1].name})+"")&&J(a,l);let I=g;g=N(b),g===I?k[g].p(b,$):(He(),A(k[I],1,1,()=>{k[I]=null}),ze(),p=k[g],p?p.p(b,$):(p=k[g]=D[g](b),p.c()),C(p,1),p.m(v,null))},i(b){w||(C(p),w=!0)},o(b){A(p),w=!1},d(b){b&&(c(e),c(u),c(h)),k[g].d(),V=!1,T()}}}function wr(s){let e,t,l;function a(r){s[14](r)}let f={size:"lg",$$slots:{default:[gr]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),e=new Sl({props:f}),Ue.push(()=>Me(e,"show",a)),{c(){ue(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,o){oe(e,r,o),l=!0},p(r,[o]){const u={};o&524351&&(u.$$scope={dirty:o,ctx:r}),!t&&o&1&&(t=!0,u.show=r[0],Le(()=>t=!1)),e.$set(u)},i(r){l||(C(e.$$.fragment,r),l=!0)},o(r){A(e.$$.fragment,r),l=!1},d(r){ne(e,r)}}}function br(s,e,t){let l;Wl(),Mt.extend(Kl);const a=Ht("i18n");$t(s,a,N=>t(5,l=N));let{show:f=!1}=e,{user:r}=e,o=null;const u=async N=>{await Rs(localStorage.token,N).catch(b=>{vt.error(`${b}`)}),t(2,o=await ss(localStorage.token,r.id))};let h="updated_at",v="desc";function g(N){h===N?t(4,v=v==="asc"?"desc":"asc"):(t(3,h=N),t(4,v="asc"))}const p=()=>{t(0,f=!1)},w=()=>g("title"),V=()=>g("updated_at"),T=(N,b)=>N[h]<b[h]?v==="asc"?-1:1:N[h]>b[h]?v==="asc"?1:-1:0,D=async N=>{u(N.id)};function k(N){f=N,t(0,f)}return s.$$set=N=>{"show"in N&&t(0,f=N.show),"user"in N&&t(1,r=N.user)},s.$$.update=()=>{s.$$.dirty&3&&(f?(async()=>r.id&&t(2,o=await ss(localStorage.token,r.id)))():t(2,o=null))},[f,r,o,h,v,l,a,u,g,p,w,V,T,D,k]}class kr extends Et{constructor(e){super(),yt(this,e,br,wr,gt,{show:0,user:1})}}function $r(s){let e,t,l,a,f,r,o,u,h=s[5].t("Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role.")+"",v,g,p,w=s[5].t("Click here to download user import template file.")+"",V,T,D;function k($,I){return $[3]?Dr:yr}let N=k(s),b=N(s);return{c(){e=_("div"),t=_("div"),l=_("input"),a=y(),f=_("button"),b.c(),r=y(),o=_("div"),u=K("ⓘ "),v=K(h),g=y(),p=_("a"),V=K(w),this.h()},l($){e=d($,"DIV",{});var I=m(e);t=d(I,"DIV",{class:!0});var O=m(t);l=d(O,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),a=E(O),f=d(O,"BUTTON",{class:!0,type:!0});var B=m(f);b.l(B),B.forEach(c),O.forEach(c),r=E(I),o=d(I,"DIV",{class:!0});var x=m(o);u=F(x,"ⓘ "),v=F(x,h),g=E(x),p=d(x,"A",{class:!0,href:!0});var z=m(p);V=F(z,w),z.forEach(c),x.forEach(c),I.forEach(c),this.h()},h(){i(l,"id","upload-user-csv-input"),l.hidden=!0,i(l,"type","file"),i(l,"accept",".csv"),i(l,"class","svelte-1vx7r9s"),i(f,"class","w-full text-sm font-medium py-3 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl"),i(f,"type","button"),i(t,"class","mb-3 w-full"),i(p,"class","underline dark:text-gray-200"),i(p,"href",Al+"/static/user-import.csv"),i(o,"class","text-xs text-gray-500")},m($,I){Q($,e,I),n(e,t),n(t,l),n(t,a),n(t,f),b.m(f,null),n(e,r),n(e,o),n(o,u),n(o,v),n(o,g),n(o,p),n(p,V),T||(D=[we(l,"change",s[15]),we(f,"click",s[16])],T=!0)},p($,I){N===(N=k($))&&b?b.p($,I):(b.d(1),b=N($),b&&(b.c(),b.m(f,null))),I&32&&h!==(h=$[5].t("Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role.")+"")&&J(v,h),I&32&&w!==(w=$[5].t("Click here to download user import template file.")+"")&&J(V,w)},d($){$&&c(e),b.d(),T=!1,Xt(D)}}}function Er(s){let e,t,l=s[5].t("Role")+"",a,f,r,o,u,h=s[5].t("pending")+"",v,g,p,w=s[5].t("user")+"",V,T,D,k=s[5].t("admin")+"",N,b,$,I,O,B=s[5].t("Name")+"",x,z,X,S,R,j,te,H,M,q,se=s[5].t("Email")+"",de,W,Z,G,_e,pe,P,le,he=s[5].t("Password")+"",U,Y,me,ve,ye,De,$e;return{c(){e=_("div"),t=_("div"),a=K(l),f=y(),r=_("div"),o=_("select"),u=_("option"),v=K(h),g=y(),p=_("option"),V=K(w),T=y(),D=_("option"),N=K(k),$=y(),I=_("div"),O=_("div"),x=K(B),z=y(),X=_("div"),S=_("input"),j=y(),te=_("hr"),H=y(),M=_("div"),q=_("div"),de=K(se),W=y(),Z=_("div"),G=_("input"),pe=y(),P=_("div"),le=_("div"),U=K(he),Y=y(),me=_("div"),ve=_("input"),this.h()},l(fe){e=d(fe,"DIV",{class:!0});var re=m(e);t=d(re,"DIV",{class:!0});var Ee=m(t);a=F(Ee,l),Ee.forEach(c),f=E(re),r=d(re,"DIV",{class:!0});var xe=m(r);o=d(xe,"SELECT",{class:!0,placeholder:!0});var Ve=m(o);u=d(Ve,"OPTION",{});var Oe=m(u);v=F(Oe,h),g=E(Oe),Oe.forEach(c),p=d(Ve,"OPTION",{});var Ne=m(p);V=F(Ne,w),T=E(Ne),Ne.forEach(c),D=d(Ve,"OPTION",{});var Ae=m(D);N=F(Ae,k),Ae.forEach(c),Ve.forEach(c),xe.forEach(c),re.forEach(c),$=E(fe),I=d(fe,"DIV",{class:!0});var Be=m(I);O=d(Be,"DIV",{class:!0});var Ce=m(O);x=F(Ce,B),Ce.forEach(c),z=E(Be),X=d(Be,"DIV",{class:!0});var Te=m(X);S=d(Te,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Te.forEach(c),Be.forEach(c),j=E(fe),te=d(fe,"HR",{class:!0}),H=E(fe),M=d(fe,"DIV",{class:!0});var Re=m(M);q=d(Re,"DIV",{class:!0});var Ke=m(q);de=F(Ke,se),Ke.forEach(c),W=E(Re),Z=d(Re,"DIV",{class:!0});var ce=m(Z);G=d(ce,"INPUT",{class:!0,type:!0,placeholder:!0}),ce.forEach(c),Re.forEach(c),pe=E(fe),P=d(fe,"DIV",{class:!0});var ge=m(P);le=d(ge,"DIV",{class:!0});var be=m(le);U=F(be,he),be.forEach(c),Y=E(ge),me=d(ge,"DIV",{class:!0});var Ie=m(me);ve=d(Ie,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ie.forEach(c),ge.forEach(c),this.h()},h(){i(t,"class","mb-1 text-xs text-gray-500"),u.__value="pending",Ye(u,u.__value),p.__value="user",Ye(p,p.__value),D.__value="admin",Ye(D,D.__value),i(o,"class","w-full capitalize rounded-lg text-sm bg-transparent dark:disabled:text-gray-500 outline-hidden"),i(o,"placeholder",b=s[5].t("Enter Your Role")),o.required=!0,s[4].role===void 0&&As(()=>s[11].call(o)),i(r,"class","flex-1"),i(e,"class","flex flex-col w-full mb-3"),i(O,"class","mb-1 text-xs text-gray-500"),i(S,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1vx7r9s"),i(S,"type","text"),i(S,"placeholder",R=s[5].t("Enter Your Full Name")),i(S,"autocomplete","off"),S.required=!0,i(X,"class","flex-1"),i(I,"class","flex flex-col w-full mt-1"),i(te,"class","border-gray-100 dark:border-gray-850 my-2.5 w-full"),i(q,"class","mb-1 text-xs text-gray-500"),i(G,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1vx7r9s"),i(G,"type","email"),i(G,"placeholder",_e=s[5].t("Enter Your Email")),G.required=!0,i(Z,"class","flex-1"),i(M,"class","flex flex-col w-full"),i(le,"class","mb-1 text-xs text-gray-500"),i(ve,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1vx7r9s"),i(ve,"type","password"),i(ve,"placeholder",ye=s[5].t("Enter Your Password")),i(ve,"autocomplete","off"),i(me,"class","flex-1"),i(P,"class","flex flex-col w-full mt-1")},m(fe,re){Q(fe,e,re),n(e,t),n(t,a),n(e,f),n(e,r),n(r,o),n(o,u),n(u,v),n(u,g),n(o,p),n(p,V),n(p,T),n(o,D),n(D,N),ts(o,s[4].role,!0),Q(fe,$,re),Q(fe,I,re),n(I,O),n(O,x),n(I,z),n(I,X),n(X,S),Ye(S,s[4].name),Q(fe,j,re),Q(fe,te,re),Q(fe,H,re),Q(fe,M,re),n(M,q),n(q,de),n(M,W),n(M,Z),n(Z,G),Ye(G,s[4].email),Q(fe,pe,re),Q(fe,P,re),n(P,le),n(le,U),n(P,Y),n(P,me),n(me,ve),Ye(ve,s[4].password),De||($e=[we(o,"change",s[11]),we(S,"input",s[12]),we(G,"input",s[13]),we(ve,"input",s[14])],De=!0)},p(fe,re){re&32&&l!==(l=fe[5].t("Role")+"")&&J(a,l),re&32&&h!==(h=fe[5].t("pending")+"")&&J(v,h),re&32&&w!==(w=fe[5].t("user")+"")&&J(V,w),re&32&&k!==(k=fe[5].t("admin")+"")&&J(N,k),re&32&&b!==(b=fe[5].t("Enter Your Role"))&&i(o,"placeholder",b),re&16&&ts(o,fe[4].role),re&32&&B!==(B=fe[5].t("Name")+"")&&J(x,B),re&32&&R!==(R=fe[5].t("Enter Your Full Name"))&&i(S,"placeholder",R),re&16&&S.value!==fe[4].name&&Ye(S,fe[4].name),re&32&&se!==(se=fe[5].t("Email")+"")&&J(de,se),re&32&&_e!==(_e=fe[5].t("Enter Your Email"))&&i(G,"placeholder",_e),re&16&&G.value!==fe[4].email&&Ye(G,fe[4].email),re&32&&he!==(he=fe[5].t("Password")+"")&&J(U,he),re&32&&ye!==(ye=fe[5].t("Enter Your Password"))&&i(ve,"placeholder",ye),re&16&&ve.value!==fe[4].password&&Ye(ve,fe[4].password)},d(fe){fe&&(c(e),c($),c(I),c(j),c(te),c(H),c(M),c(pe),c(P)),De=!1,Xt($e)}}}function yr(s){let e=s[5].t("Click here to select a csv file.")+"",t;return{c(){t=K(e)},l(l){t=F(l,e)},m(l,a){Q(l,t,a)},p(l,a){a&32&&e!==(e=l[5].t("Click here to select a csv file.")+"")&&J(t,e)},d(l){l&&c(t)}}}function Dr(s){let e=s[3].length>0?`${s[3].length}`:"",t,l;return{c(){t=K(e),l=K(" document(s) selected.")},l(a){t=F(a,e),l=F(a," document(s) selected.")},m(a,f){Q(a,t,f),Q(a,l,f)},p(a,f){f&8&&e!==(e=a[3].length>0?`${a[3].length}`:"")&&J(t,e)},d(a){a&&(c(t),c(l))}}}function is(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,a){Q(l,e,a)},d(l){l&&c(e)}}}function Ir(s){let e,t,l,a=s[5].t("Add User")+"",f,r,o,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,v,g,p,w,V,T=s[5].t("Form")+"",D,k,N,b,$=s[5].t("CSV Import")+"",I,O,B,x,z,X,S,R=s[5].t("Save")+"",j,te,H,M,q;function se(G,_e){if(G[2]==="")return Er;if(G[2]==="import")return $r}let de=se(s),W=de&&de(s),Z=s[1]&&is();return{c(){e=_("div"),t=_("div"),l=_("div"),f=K(a),r=y(),o=_("button"),o.innerHTML=u,h=y(),v=_("div"),g=_("div"),p=_("form"),w=_("div"),V=_("button"),D=K(T),N=y(),b=_("button"),I=K($),B=y(),x=_("div"),W&&W.c(),z=y(),X=_("div"),S=_("button"),j=K(R),te=y(),Z&&Z.c(),this.h()},l(G){e=d(G,"DIV",{});var _e=m(e);t=d(_e,"DIV",{class:!0});var pe=m(t);l=d(pe,"DIV",{class:!0});var P=m(l);f=F(P,a),P.forEach(c),r=E(pe),o=d(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),it(o)!=="svelte-745w2y"&&(o.innerHTML=u),pe.forEach(c),h=E(_e),v=d(_e,"DIV",{class:!0});var le=m(v);g=d(le,"DIV",{class:!0});var he=m(g);p=d(he,"FORM",{class:!0});var U=m(p);w=d(U,"DIV",{class:!0});var Y=m(w);V=d(Y,"BUTTON",{class:!0,type:!0});var me=m(V);D=F(me,T),me.forEach(c),N=E(Y),b=d(Y,"BUTTON",{class:!0,type:!0});var ve=m(b);I=F(ve,$),ve.forEach(c),Y.forEach(c),B=E(U),x=d(U,"DIV",{class:!0});var ye=m(x);W&&W.l(ye),ye.forEach(c),z=E(U),X=d(U,"DIV",{class:!0});var De=m(X);S=d(De,"BUTTON",{class:!0,type:!0});var $e=m(S);j=F($e,R),te=E($e),Z&&Z.l($e),$e.forEach(c),De.forEach(c),U.forEach(c),he.forEach(c),le.forEach(c),_e.forEach(c),this.h()},h(){i(l,"class","text-lg font-medium self-center"),i(o,"class","self-center"),i(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),i(V,"class",k="min-w-fit rounded-full p-1.5 "+(s[2]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),i(V,"type","button"),i(b,"class",O="min-w-fit rounded-full p-1.5 "+(s[2]==="import"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),i(b,"type","button"),i(w,"class","flex -mt-2 mb-1.5 gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200"),i(x,"class","px-1"),i(S,"class",H="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),i(S,"type","submit"),S.disabled=s[1],i(X,"class","flex justify-end pt-3 text-sm font-medium"),i(p,"class","flex flex-col w-full"),i(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),i(v,"class","flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200")},m(G,_e){Q(G,e,_e),n(e,t),n(t,l),n(l,f),n(t,r),n(t,o),n(e,h),n(e,v),n(v,g),n(g,p),n(p,w),n(w,V),n(V,D),n(w,N),n(w,b),n(b,I),n(p,B),n(p,x),W&&W.m(x,null),n(p,z),n(p,X),n(X,S),n(S,j),n(S,te),Z&&Z.m(S,null),M||(q=[we(o,"click",s[8]),we(V,"click",s[9]),we(b,"click",s[10]),we(p,"submit",Vs(s[17]))],M=!0)},p(G,_e){_e&32&&a!==(a=G[5].t("Add User")+"")&&J(f,a),_e&32&&T!==(T=G[5].t("Form")+"")&&J(D,T),_e&4&&k!==(k="min-w-fit rounded-full p-1.5 "+(G[2]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&i(V,"class",k),_e&32&&$!==($=G[5].t("CSV Import")+"")&&J(I,$),_e&4&&O!==(O="min-w-fit rounded-full p-1.5 "+(G[2]==="import"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&i(b,"class",O),de===(de=se(G))&&W?W.p(G,_e):(W&&W.d(1),W=de&&de(G),W&&(W.c(),W.m(x,null))),_e&32&&R!==(R=G[5].t("Save")+"")&&J(j,R),G[1]?Z||(Z=is(),Z.c(),Z.m(S,null)):Z&&(Z.d(1),Z=null),_e&2&&H!==(H="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(G[1]?" cursor-not-allowed":""))&&i(S,"class",H),_e&2&&(S.disabled=G[1])},d(G){G&&c(e),W&&W.d(),Z&&Z.d(),M=!1,Xt(q)}}}function Vr(s){let e,t,l;function a(r){s[18](r)}let f={size:"sm",$$slots:{default:[Ir]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),e=new Sl({props:f}),Ue.push(()=>Me(e,"show",a)),{c(){ue(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,o){oe(e,r,o),l=!0},p(r,[o]){const u={};o&1048639&&(u.$$scope={dirty:o,ctx:r}),!t&&o&1&&(t=!0,u.show=r[0],Le(()=>t=!1)),e.$set(u)},i(r){l||(C(e.$$.fragment,r),l=!0)},o(r){A(e.$$.fragment,r),l=!1},d(r){ne(e,r)}}}function xr(s,e,t){let l;const a=Ht("i18n");$t(s,a,B=>t(5,l=B));const f=Wl();let{show:r=!1}=e,o=!1,u="",h,v={name:"",email:"",password:"",role:"user"};const g=async()=>{const B=()=>{f("save"),t(1,o=!1)};if(u==="")t(1,o=!0),await rs(localStorage.token,v.name,v.email,v.password,v.role).catch(z=>{vt.error(`${z}`)})&&(B(),t(0,r=!1));else if(h){t(1,o=!0);const x=h[0],z=new FileReader;z.onload=async X=>{const R=X.target.result.split(`
`);let j=0;for(const[H,M]of R.entries()){const q=M.split(",").map(se=>se.trim());console.log(H,q),H>0&&(q.length===4&&["admin","user","pending"].includes(q[3].toLowerCase())?await rs(localStorage.token,q[0],q[1],q[2],q[3].toLowerCase()).catch(de=>(vt.error(`Row ${H+1}: ${de}`),null))&&(j=j+1):vt.error(`Row ${H+1}: invalid format.`))}vt.success(`Successfully imported ${j} users.`),t(3,h=null);const te=document.getElementById("upload-user-csv-input");te&&(te.value=null),B()},z.readAsText(x)}else vt.error(l.t("File not found."));t(1,o=!1)},p=()=>{t(0,r=!1)},w=()=>{t(2,u="")},V=()=>{t(2,u="import")};function T(){v.role=Ms(this),t(4,v),t(0,r)}function D(){v.name=this.value,t(4,v),t(0,r)}function k(){v.email=this.value,t(4,v),t(0,r)}function N(){v.password=this.value,t(4,v),t(0,r)}function b(){h=this.files,t(3,h)}const $=()=>{var B;(B=document.getElementById("upload-user-csv-input"))==null||B.click()},I=()=>{g()};function O(B){r=B,t(0,r)}return s.$$set=B=>{"show"in B&&t(0,r=B.show)},s.$$.update=()=>{s.$$.dirty&1&&r&&t(4,v={name:"",email:"",password:"",role:"user"})},[r,o,u,h,v,l,a,g,p,w,V,T,D,k,N,b,$,I,O]}class Tr extends Et{constructor(e){super(),yt(this,e,xr,Vr,gt,{show:0})}}function us(s,e,t){const l=s.slice();return l[38]=e[t],l[40]=t,l}function fs(s){let e,t,l;function a(r){s[20](r)}let f={selectedUser:s[5],sessionUser:s[11]};return s[9]!==void 0&&(f.show=s[9]),e=new ir({props:f}),Ue.push(()=>Me(e,"show",a)),e.$on("save",s[21]),{c(){ue(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,o){oe(e,r,o),l=!0},p(r,o){const u={};o[0]&32&&(u.selectedUser=r[5]),o[0]&2048&&(u.sessionUser=r[11]),!t&&o[0]&512&&(t=!0,u.show=r[9],Le(()=>t=!1)),e.$set(u)},i(r){l||(C(e.$$.fragment,r),l=!0)},o(r){A(e.$$.fragment,r),l=!1},d(r){ne(e,r)}}}function Nr(s){let e,t,l,a,f;return t=new Cs({props:{className:"size-3.5"}}),{c(){e=_("button"),ue(t.$$.fragment),this.h()},l(r){e=d(r,"BUTTON",{class:!0});var o=m(e);ie(t.$$.fragment,o),o.forEach(c),this.h()},h(){i(e,"class","p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1")},m(r,o){Q(r,e,o),oe(t,e,null),l=!0,a||(f=we(e,"click",s[26]),a=!0)},p:Fe,i(r){l||(C(t.$$.fragment,r),l=!0)},o(r){A(t.$$.fragment,r),l=!1},d(r){r&&c(e),ne(t),a=!1,f()}}}function Cr(s){let e,t,l;return t=new zt({props:{className:"size-2"}}),{c(){e=_("span"),ue(t.$$.fragment),this.h()},l(a){e=d(a,"SPAN",{class:!0});var f=m(e);ie(t.$$.fragment,f),f.forEach(c),this.h()},h(){i(e,"class","invisible")},m(a,f){Q(a,e,f),oe(t,e,null),l=!0},p:Fe,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){A(t.$$.fragment,a),l=!1},d(a){a&&c(e),ne(t)}}}function Ur(s){let e,t,l,a;const f=[Mr,Lr],r=[];function o(u,h){return u[4]==="asc"?0:1}return t=o(s),l=r[t]=f[t](s),{c(){e=_("span"),l.c(),this.h()},l(u){e=d(u,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){i(e,"class","font-normal")},m(u,h){Q(u,e,h),r[t].m(e,null),a=!0},p(u,h){let v=t;t=o(u),t!==v&&(He(),A(r[v],1,1,()=>{r[v]=null}),ze(),l=r[t],l||(l=r[t]=f[t](u),l.c()),C(l,1),l.m(e,null))},i(u){a||(C(l),a=!0)},o(u){A(l),a=!1},d(u){u&&c(e),r[t].d()}}}function Lr(s){let e,t;return e=new Tl({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Mr(s){let e,t;return e=new zt({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Ar(s){let e,t,l;return t=new zt({props:{className:"size-2"}}),{c(){e=_("span"),ue(t.$$.fragment),this.h()},l(a){e=d(a,"SPAN",{class:!0});var f=m(e);ie(t.$$.fragment,f),f.forEach(c),this.h()},h(){i(e,"class","invisible")},m(a,f){Q(a,e,f),oe(t,e,null),l=!0},p:Fe,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){A(t.$$.fragment,a),l=!1},d(a){a&&c(e),ne(t)}}}function Sr(s){let e,t,l,a;const f=[Pr,Br],r=[];function o(u,h){return u[4]==="asc"?0:1}return t=o(s),l=r[t]=f[t](s),{c(){e=_("span"),l.c(),this.h()},l(u){e=d(u,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){i(e,"class","font-normal")},m(u,h){Q(u,e,h),r[t].m(e,null),a=!0},p(u,h){let v=t;t=o(u),t!==v&&(He(),A(r[v],1,1,()=>{r[v]=null}),ze(),l=r[t],l||(l=r[t]=f[t](u),l.c()),C(l,1),l.m(e,null))},i(u){a||(C(l),a=!0)},o(u){A(l),a=!1},d(u){u&&c(e),r[t].d()}}}function Br(s){let e,t;return e=new Tl({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Pr(s){let e,t;return e=new zt({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Hr(s){let e,t,l;return t=new zt({props:{className:"size-2"}}),{c(){e=_("span"),ue(t.$$.fragment),this.h()},l(a){e=d(a,"SPAN",{class:!0});var f=m(e);ie(t.$$.fragment,f),f.forEach(c),this.h()},h(){i(e,"class","invisible")},m(a,f){Q(a,e,f),oe(t,e,null),l=!0},p:Fe,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){A(t.$$.fragment,a),l=!1},d(a){a&&c(e),ne(t)}}}function zr(s){let e,t,l,a;const f=[Gr,jr],r=[];function o(u,h){return u[4]==="asc"?0:1}return t=o(s),l=r[t]=f[t](s),{c(){e=_("span"),l.c(),this.h()},l(u){e=d(u,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){i(e,"class","font-normal")},m(u,h){Q(u,e,h),r[t].m(e,null),a=!0},p(u,h){let v=t;t=o(u),t!==v&&(He(),A(r[v],1,1,()=>{r[v]=null}),ze(),l=r[t],l||(l=r[t]=f[t](u),l.c()),C(l,1),l.m(e,null))},i(u){a||(C(l),a=!0)},o(u){A(l),a=!1},d(u){u&&c(e),r[t].d()}}}function jr(s){let e,t;return e=new Tl({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Gr(s){let e,t;return e=new zt({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Or(s){let e,t,l;return t=new zt({props:{className:"size-2"}}),{c(){e=_("span"),ue(t.$$.fragment),this.h()},l(a){e=d(a,"SPAN",{class:!0});var f=m(e);ie(t.$$.fragment,f),f.forEach(c),this.h()},h(){i(e,"class","invisible")},m(a,f){Q(a,e,f),oe(t,e,null),l=!0},p:Fe,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){A(t.$$.fragment,a),l=!1},d(a){a&&c(e),ne(t)}}}function Rr(s){let e,t,l,a;const f=[qr,Zr],r=[];function o(u,h){return u[4]==="asc"?0:1}return t=o(s),l=r[t]=f[t](s),{c(){e=_("span"),l.c(),this.h()},l(u){e=d(u,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){i(e,"class","font-normal")},m(u,h){Q(u,e,h),r[t].m(e,null),a=!0},p(u,h){let v=t;t=o(u),t!==v&&(He(),A(r[v],1,1,()=>{r[v]=null}),ze(),l=r[t],l||(l=r[t]=f[t](u),l.c()),C(l,1),l.m(e,null))},i(u){a||(C(l),a=!0)},o(u){A(l),a=!1},d(u){u&&c(e),r[t].d()}}}function Zr(s){let e,t;return e=new Tl({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function qr(s){let e,t;return e=new zt({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Wr(s){let e,t,l;return t=new zt({props:{className:"size-2"}}),{c(){e=_("span"),ue(t.$$.fragment),this.h()},l(a){e=d(a,"SPAN",{class:!0});var f=m(e);ie(t.$$.fragment,f),f.forEach(c),this.h()},h(){i(e,"class","invisible")},m(a,f){Q(a,e,f),oe(t,e,null),l=!0},p:Fe,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){A(t.$$.fragment,a),l=!1},d(a){a&&c(e),ne(t)}}}function Yr(s){let e,t,l,a;const f=[Kr,Fr],r=[];function o(u,h){return u[4]==="asc"?0:1}return t=o(s),l=r[t]=f[t](s),{c(){e=_("span"),l.c(),this.h()},l(u){e=d(u,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){i(e,"class","font-normal")},m(u,h){Q(u,e,h),r[t].m(e,null),a=!0},p(u,h){let v=t;t=o(u),t!==v&&(He(),A(r[v],1,1,()=>{r[v]=null}),ze(),l=r[t],l||(l=r[t]=f[t](u),l.c()),C(l,1),l.m(e,null))},i(u){a||(C(l),a=!0)},o(u){A(l),a=!1},d(u){u&&c(e),r[t].d()}}}function Fr(s){let e,t;return e=new Tl({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Kr(s){let e,t;return e=new zt({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Qr(s){let e,t,l;return t=new zt({props:{className:"size-2"}}),{c(){e=_("span"),ue(t.$$.fragment),this.h()},l(a){e=d(a,"SPAN",{class:!0});var f=m(e);ie(t.$$.fragment,f),f.forEach(c),this.h()},h(){i(e,"class","invisible")},m(a,f){Q(a,e,f),oe(t,e,null),l=!0},p:Fe,i(a){l||(C(t.$$.fragment,a),l=!0)},o(a){A(t.$$.fragment,a),l=!1},d(a){a&&c(e),ne(t)}}}function Jr(s){let e,t,l,a;const f=[ea,Xr],r=[];function o(u,h){return u[4]==="asc"?0:1}return t=o(s),l=r[t]=f[t](s),{c(){e=_("span"),l.c(),this.h()},l(u){e=d(u,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){i(e,"class","font-normal")},m(u,h){Q(u,e,h),r[t].m(e,null),a=!0},p(u,h){let v=t;t=o(u),t!==v&&(He(),A(r[v],1,1,()=>{r[v]=null}),ze(),l=r[t],l||(l=r[t]=f[t](u),l.c()),C(l,1),l.m(e,null))},i(u){a||(C(l),a=!0)},o(u){A(l),a=!1},d(u){u&&c(e),r[t].d()}}}function Xr(s){let e,t;return e=new Tl({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function ea(s){let e,t;return e=new zt({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function cs(s){let e,t;return e=new ol({props:{content:s[12].t("Chats"),$$slots:{default:[ta]},$$scope:{ctx:s}}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},p(l,a){const f={};a[0]&4096&&(f.content=l[12].t("Chats")),a[0]&1312|a[1]&1024&&(f.$$scope={dirty:a,ctx:l}),e.$set(f)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function ta(s){let e,t,l,a,f;t=new rr({});function r(){return s[34](s[38])}return{c(){e=_("button"),ue(t.$$.fragment),this.h()},l(o){e=d(o,"BUTTON",{class:!0});var u=m(e);ie(t.$$.fragment,u),u.forEach(c),this.h()},h(){i(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(o,u){Q(o,e,u),oe(t,e,null),l=!0,a||(f=we(e,"click",r),a=!0)},p(o,u){s=o},i(o){l||(C(t.$$.fragment,o),l=!0)},o(o){A(t.$$.fragment,o),l=!1},d(o){o&&c(e),ne(t),a=!1,f()}}}function la(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',l,a;function f(){return s[35](s[38])}return{c(){e=_("button"),e.innerHTML=t,this.h()},l(r){e=d(r,"BUTTON",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-ow16l9"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(r,o){Q(r,e,o),l||(a=we(e,"click",f),l=!0)},p(r,o){s=r},d(r){r&&c(e),l=!1,a()}}}function ds(s){let e,t;return e=new ol({props:{content:s[12].t("Delete User"),$$slots:{default:[sa]},$$scope:{ctx:s}}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},p(l,a){const f={};a[0]&4096&&(f.content=l[12].t("Delete User")),a[0]&1120|a[1]&1024&&(f.$$scope={dirty:a,ctx:l}),e.$set(f)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function sa(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,a;function f(){return s[36](s[38])}return{c(){e=_("button"),e.innerHTML=t,this.h()},l(r){e=d(r,"BUTTON",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-8s8zkf"&&(e.innerHTML=t),this.h()},h(){i(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(r,o){Q(r,e,o),l||(a=we(e,"click",f),l=!0)},p(r,o){s=r},d(r){r&&c(e),l=!1,a()}}}function _s(s){let e,t,l,a,f,r,o,u,h,v,g,p=s[38].name+"",w,V,T,D=s[38].email+"",k,N,b,$=Mt(s[38].last_active_at*1e3).fromNow()+"",I,O,B,x=Mt(s[38].created_at*1e3).format("LL")+"",z,X,S,R=(s[38].oauth_sub??"")+"",j,te,H,M,q,se,de,W,Z,G,_e;a=new Ns({props:{type:s[38].role==="admin"?"info":s[38].role==="user"?"success":"muted",content:s[12].t(s[38].role)}});function pe(){return s[33](s[38])}let P=s[13].features.enable_admin_chat_access&&s[38].role!=="admin"&&cs(s);se=new ol({props:{content:s[12].t("Edit User"),$$slots:{default:[la]},$$scope:{ctx:s}}});let le=s[38].role!=="admin"&&ds(s);return{c(){e=_("tr"),t=_("td"),l=_("button"),ue(a.$$.fragment),f=y(),r=_("td"),o=_("div"),u=_("img"),v=y(),g=_("div"),w=K(p),V=y(),T=_("td"),k=K(D),N=y(),b=_("td"),I=K($),O=y(),B=_("td"),z=K(x),X=y(),S=_("td"),j=K(R),te=y(),H=_("td"),M=_("div"),P&&P.c(),q=y(),ue(se.$$.fragment),de=y(),le&&le.c(),W=y(),this.h()},l(he){e=d(he,"TR",{class:!0});var U=m(e);t=d(U,"TD",{class:!0});var Y=m(t);l=d(Y,"BUTTON",{class:!0});var me=m(l);ie(a.$$.fragment,me),me.forEach(c),Y.forEach(c),f=E(U),r=d(U,"TD",{class:!0});var ve=m(r);o=d(ve,"DIV",{class:!0});var ye=m(o);u=d(ye,"IMG",{class:!0,src:!0,alt:!0}),v=E(ye),g=d(ye,"DIV",{class:!0});var De=m(g);w=F(De,p),De.forEach(c),ye.forEach(c),ve.forEach(c),V=E(U),T=d(U,"TD",{class:!0});var $e=m(T);k=F($e,D),$e.forEach(c),N=E(U),b=d(U,"TD",{class:!0});var fe=m(b);I=F(fe,$),fe.forEach(c),O=E(U),B=d(U,"TD",{class:!0});var re=m(B);z=F(re,x),re.forEach(c),X=E(U),S=d(U,"TD",{class:!0});var Ee=m(S);j=F(Ee,R),Ee.forEach(c),te=E(U),H=d(U,"TD",{class:!0});var xe=m(H);M=d(xe,"DIV",{class:!0});var Ve=m(M);P&&P.l(Ve),q=E(Ve),ie(se.$$.fragment,Ve),de=E(Ve),le&&le.l(Ve),Ve.forEach(c),xe.forEach(c),W=E(U),U.forEach(c),this.h()},h(){i(l,"class","translate-y-0.5"),i(t,"class","px-3 py-1 min-w-[7rem] w-28"),i(u,"class","rounded-full w-6 h-6 object-cover mr-2.5"),Vl(u.src,h=s[38].profile_image_url.startsWith(Al)||s[38].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[38].profile_image_url.startsWith("data:")?s[38].profile_image_url:"/user.png")||i(u,"src",h),i(u,"alt","user"),i(g,"class","font-medium self-center"),i(o,"class","flex flex-row w-max"),i(r,"class","px-3 py-1 font-medium text-gray-900 dark:text-white w-max"),i(T,"class","px-3 py-1"),i(b,"class","px-3 py-1"),i(B,"class","px-3 py-1"),i(S,"class","px-3 py-1"),i(M,"class","flex justify-end w-full"),i(H,"class","px-3 py-1 text-right"),i(e,"class","bg-white dark:bg-gray-900 dark:border-gray-850 text-xs")},m(he,U){Q(he,e,U),n(e,t),n(t,l),oe(a,l,null),n(e,f),n(e,r),n(r,o),n(o,u),n(o,v),n(o,g),n(g,w),n(e,V),n(e,T),n(T,k),n(e,N),n(e,b),n(b,I),n(e,O),n(e,B),n(B,z),n(e,X),n(e,S),n(S,j),n(e,te),n(e,H),n(H,M),P&&P.m(M,null),n(M,q),oe(se,M,null),n(M,de),le&&le.m(M,null),n(e,W),Z=!0,G||(_e=we(l,"click",pe),G=!0)},p(he,U){s=he;const Y={};U[0]&1024&&(Y.type=s[38].role==="admin"?"info":s[38].role==="user"?"success":"muted"),U[0]&5120&&(Y.content=s[12].t(s[38].role)),a.$set(Y),(!Z||U[0]&1024&&!Vl(u.src,h=s[38].profile_image_url.startsWith(Al)||s[38].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[38].profile_image_url.startsWith("data:")?s[38].profile_image_url:"/user.png"))&&i(u,"src",h),(!Z||U[0]&1024)&&p!==(p=s[38].name+"")&&J(w,p),(!Z||U[0]&1024)&&D!==(D=s[38].email+"")&&J(k,D),(!Z||U[0]&1024)&&$!==($=Mt(s[38].last_active_at*1e3).fromNow()+"")&&J(I,$),(!Z||U[0]&1024)&&x!==(x=Mt(s[38].created_at*1e3).format("LL")+"")&&J(z,x),(!Z||U[0]&1024)&&R!==(R=(s[38].oauth_sub??"")+"")&&J(j,R),s[13].features.enable_admin_chat_access&&s[38].role!=="admin"?P?(P.p(s,U),U[0]&9216&&C(P,1)):(P=cs(s),P.c(),C(P,1),P.m(M,q)):P&&(He(),A(P,1,1,()=>{P=null}),ze());const me={};U[0]&4096&&(me.content=s[12].t("Edit User")),U[0]&1568|U[1]&1024&&(me.$$scope={dirty:U,ctx:s}),se.$set(me),s[38].role!=="admin"?le?(le.p(s,U),U[0]&1024&&C(le,1)):(le=ds(s),le.c(),C(le,1),le.m(M,null)):le&&(He(),A(le,1,1,()=>{le=null}),ze())},i(he){Z||(C(a.$$.fragment,he),C(P),C(se.$$.fragment,he),C(le),Z=!0)},o(he){A(a.$$.fragment,he),A(P),A(se.$$.fragment,he),A(le),Z=!1},d(he){he&&c(e),ne(a),P&&P.d(),ne(se),le&&le.d(),G=!1,_e()}}}function ra(s){let e,t,l,a=s[5],f,r,o,u,h,v,g,p,w,V=s[12].t("Users")+"",T,D,k,N,b,$=s[0].length+"",I,O,B,x,z,X,S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',R,j,te,H,M,q,se,de,W,Z,G,_e,pe,P=s[12].t("Role")+"",le,he,U,Y,me,ve,ye,De=s[12].t("Name")+"",$e,fe,re,Ee,xe,Ve,Oe,Ne=s[12].t("Email")+"",Ae,Be,Ce,Te,Re,Ke,ce,ge=s[12].t("Last Active")+"",be,Ie,Pe,je,st,ft,Se,Qe=s[12].t("Created at")+"",ut,ht,We,Je,Xe,nt,wt,Tt=s[12].t("OAuth ID")+"",Nt,ct,tt,et,jt,Ct,Dt,mt,Zt,Ut,il,It=s[12].t("Click on the user role button to change a user's role.")+"",ll,sl,dt,qt,ot,rl,wl;function Gt(L){s[18](L)}let bl={};s[6]!==void 0&&(bl.show=s[6]),e=new qs({props:bl}),Ue.push(()=>Me(e,"show",Gt)),e.$on("confirm",s[19]);let bt=fs(s);function Wt(L){s[22](L)}let el={};s[7]!==void 0&&(el.show=s[7]),r=new Tr({props:el}),Ue.push(()=>Me(r,"show",Wt)),r.$on("save",s[23]);function ul(L){s[24](L)}let fl={user:s[5]};s[8]!==void 0&&(fl.show=s[8]),h=new kr({props:fl}),Ue.push(()=>Me(h,"show",ul)),q=new ol({props:{content:s[12].t("Add User"),$$slots:{default:[Nr]},$$scope:{ctx:s}}});const kl=[Ur,Cr],_t=[];function $l(L,ae){return L[3]==="role"?0:1}U=$l(s),Y=_t[U]=kl[U](s);const rt=[Sr,Ar],Yt=[];function Nl(L,ae){return L[3]==="name"?0:1}re=Nl(s),Ee=Yt[re]=rt[re](s);const Bl=[zr,Hr],Ot=[];function Pl(L,ae){return L[3]==="email"?0:1}Ce=Pl(s),Te=Ot[Ce]=Bl[Ce](s);const Cl=[Rr,Or],Ft=[];function Ul(L,ae){return L[3]==="last_active_at"?0:1}Pe=Ul(s),je=Ft[Pe]=Cl[Pe](s);const Hl=[Yr,Wr],Rt=[];function zl(L,ae){return L[3]==="created_at"?0:1}We=zl(s),Je=Rt[We]=Hl[We](s);const Ll=[Jr,Qr],Kt=[];function Ml(L,ae){return L[3]==="oauth_sub"?0:1}tt=Ml(s),et=Kt[tt]=Ll[tt](s);let tl=nl(s[10]),Ge=[];for(let L=0;L<tl.length;L+=1)Ge[L]=_s(us(s,tl,L));const ql=L=>A(Ge[L],1,1,()=>{Ge[L]=null});function jl(L){s[37](L)}let Gl={count:s[0].length};return s[2]!==void 0&&(Gl.page=s[2]),dt=new Os({props:Gl}),Ue.push(()=>Me(dt,"page",jl)),{c(){ue(e.$$.fragment),l=y(),bt.c(),f=y(),ue(r.$$.fragment),u=y(),ue(h.$$.fragment),g=y(),p=_("div"),w=_("div"),T=K(V),D=y(),k=_("div"),N=y(),b=_("span"),I=K($),O=y(),B=_("div"),x=_("div"),z=_("div"),X=_("div"),X.innerHTML=S,R=y(),j=_("input"),H=y(),M=_("div"),ue(q.$$.fragment),se=y(),de=_("div"),W=_("table"),Z=_("thead"),G=_("tr"),_e=_("th"),pe=_("div"),le=K(P),he=y(),Y.c(),me=y(),ve=_("th"),ye=_("div"),$e=K(De),fe=y(),Ee.c(),xe=y(),Ve=_("th"),Oe=_("div"),Ae=K(Ne),Be=y(),Te.c(),Re=y(),Ke=_("th"),ce=_("div"),be=K(ge),Ie=y(),je.c(),st=y(),ft=_("th"),Se=_("div"),ut=K(Qe),ht=y(),Je.c(),Xe=y(),nt=_("th"),wt=_("div"),Nt=K(Tt),ct=y(),et.c(),jt=y(),Ct=_("th"),Dt=y(),mt=_("tbody");for(let L=0;L<Ge.length;L+=1)Ge[L].c();Zt=y(),Ut=_("div"),il=K("ⓘ "),ll=K(It),sl=y(),ue(dt.$$.fragment),this.h()},l(L){ie(e.$$.fragment,L),l=E(L),bt.l(L),f=E(L),ie(r.$$.fragment,L),u=E(L),ie(h.$$.fragment,L),g=E(L),p=d(L,"DIV",{class:!0});var ae=m(p);w=d(ae,"DIV",{class:!0});var pt=m(w);T=F(pt,V),D=E(pt),k=d(pt,"DIV",{class:!0}),m(k).forEach(c),N=E(pt),b=d(pt,"SPAN",{class:!0});var ee=m(b);I=F(ee,$),ee.forEach(c),pt.forEach(c),O=E(ae),B=d(ae,"DIV",{class:!0});var ke=m(B);x=d(ke,"DIV",{class:!0});var lt=m(x);z=d(lt,"DIV",{class:!0});var Vt=m(z);X=d(Vt,"DIV",{class:!0,"data-svelte-h":!0}),it(X)!=="svelte-8l37wj"&&(X.innerHTML=S),R=E(Vt),j=d(Vt,"INPUT",{class:!0,placeholder:!0}),Vt.forEach(c),H=E(lt),M=d(lt,"DIV",{});var xt=m(M);ie(q.$$.fragment,xt),xt.forEach(c),lt.forEach(c),ke.forEach(c),ae.forEach(c),se=E(L),de=d(L,"DIV",{class:!0});var Lt=m(de);W=d(Lt,"TABLE",{class:!0});var kt=m(W);Z=d(kt,"THEAD",{class:!0});var At=m(Z);G=d(At,"TR",{class:!0});var Ze=m(G);_e=d(Ze,"TH",{scope:!0,class:!0});var St=m(_e);pe=d(St,"DIV",{class:!0});var qe=m(pe);le=F(qe,P),he=E(qe),Y.l(qe),qe.forEach(c),St.forEach(c),me=E(Ze),ve=d(Ze,"TH",{scope:!0,class:!0});var at=m(ve);ye=d(at,"DIV",{class:!0});var Qt=m(ye);$e=F(Qt,De),fe=E(Qt),Ee.l(Qt),Qt.forEach(c),at.forEach(c),xe=E(Ze),Ve=d(Ze,"TH",{scope:!0,class:!0});var Jt=m(Ve);Oe=d(Jt,"DIV",{class:!0});var cl=m(Oe);Ae=F(cl,Ne),Be=E(cl),Te.l(cl),cl.forEach(c),Jt.forEach(c),Re=E(Ze),Ke=d(Ze,"TH",{scope:!0,class:!0});var dl=m(Ke);ce=d(dl,"DIV",{class:!0});var _l=m(ce);be=F(_l,ge),Ie=E(_l),je.l(_l),_l.forEach(c),dl.forEach(c),st=E(Ze),ft=d(Ze,"TH",{scope:!0,class:!0});var hl=m(ft);Se=d(hl,"DIV",{class:!0});var ml=m(Se);ut=F(ml,Qe),ht=E(ml),Je.l(ml),ml.forEach(c),hl.forEach(c),Xe=E(Ze),nt=d(Ze,"TH",{scope:!0,class:!0});var pl=m(nt);wt=d(pl,"DIV",{class:!0});var vl=m(wt);Nt=F(vl,Tt),ct=E(vl),et.l(vl),vl.forEach(c),pl.forEach(c),jt=E(Ze),Ct=d(Ze,"TH",{scope:!0,class:!0}),m(Ct).forEach(c),Ze.forEach(c),At.forEach(c),Dt=E(kt),mt=d(kt,"TBODY",{class:!0});var gl=m(mt);for(let Bt=0;Bt<Ge.length;Bt+=1)Ge[Bt].l(gl);gl.forEach(c),kt.forEach(c),Lt.forEach(c),Zt=E(L),Ut=d(L,"DIV",{class:!0});var El=m(Ut);il=F(El,"ⓘ "),ll=F(El,It),El.forEach(c),sl=E(L),ie(dt.$$.fragment,L),this.h()},h(){i(k,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),i(b,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),i(w,"class","flex md:self-center text-lg font-medium px-0.5"),i(X,"class","self-center ml-1 mr-3"),i(j,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"),i(j,"placeholder",te=s[12].t("Search")),i(z,"class","flex flex-1"),i(x,"class","flex w-full space-x-2"),i(B,"class","flex gap-1"),i(p,"class","mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between"),i(pe,"class","flex gap-1.5 items-center"),i(_e,"scope","col"),i(_e,"class","px-3 py-1.5 cursor-pointer select-none"),i(ye,"class","flex gap-1.5 items-center"),i(ve,"scope","col"),i(ve,"class","px-3 py-1.5 cursor-pointer select-none"),i(Oe,"class","flex gap-1.5 items-center"),i(Ve,"scope","col"),i(Ve,"class","px-3 py-1.5 cursor-pointer select-none"),i(ce,"class","flex gap-1.5 items-center"),i(Ke,"scope","col"),i(Ke,"class","px-3 py-1.5 cursor-pointer select-none"),i(Se,"class","flex gap-1.5 items-center"),i(ft,"scope","col"),i(ft,"class","px-3 py-1.5 cursor-pointer select-none"),i(wt,"class","flex gap-1.5 items-center"),i(nt,"scope","col"),i(nt,"class","px-3 py-1.5 cursor-pointer select-none"),i(Ct,"scope","col"),i(Ct,"class","px-3 py-2 text-right"),i(G,"class",""),i(Z,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-850 dark:text-gray-400 -translate-y-0.5"),i(mt,"class",""),i(W,"class","w-full text-sm text-left text-gray-500 dark:text-gray-400 table-auto max-w-full rounded-sm"),i(de,"class","scrollbar-hidden relative whitespace-nowrap overflow-x-auto max-w-full rounded-sm pt-0.5"),i(Ut,"class","text-gray-500 text-xs mt-1.5 text-right")},m(L,ae){oe(e,L,ae),Q(L,l,ae),bt.m(L,ae),Q(L,f,ae),oe(r,L,ae),Q(L,u,ae),oe(h,L,ae),Q(L,g,ae),Q(L,p,ae),n(p,w),n(w,T),n(w,D),n(w,k),n(w,N),n(w,b),n(b,I),n(p,O),n(p,B),n(B,x),n(x,z),n(z,X),n(z,R),n(z,j),Ye(j,s[1]),n(x,H),n(x,M),oe(q,M,null),Q(L,se,ae),Q(L,de,ae),n(de,W),n(W,Z),n(Z,G),n(G,_e),n(_e,pe),n(pe,le),n(pe,he),_t[U].m(pe,null),n(G,me),n(G,ve),n(ve,ye),n(ye,$e),n(ye,fe),Yt[re].m(ye,null),n(G,xe),n(G,Ve),n(Ve,Oe),n(Oe,Ae),n(Oe,Be),Ot[Ce].m(Oe,null),n(G,Re),n(G,Ke),n(Ke,ce),n(ce,be),n(ce,Ie),Ft[Pe].m(ce,null),n(G,st),n(G,ft),n(ft,Se),n(Se,ut),n(Se,ht),Rt[We].m(Se,null),n(G,Xe),n(G,nt),n(nt,wt),n(wt,Nt),n(wt,ct),Kt[tt].m(wt,null),n(G,jt),n(G,Ct),n(W,Dt),n(W,mt);for(let pt=0;pt<Ge.length;pt+=1)Ge[pt]&&Ge[pt].m(mt,null);Q(L,Zt,ae),Q(L,Ut,ae),n(Ut,il),n(Ut,ll),Q(L,sl,ae),oe(dt,L,ae),ot=!0,rl||(wl=[we(j,"input",s[25]),we(_e,"click",s[27]),we(ve,"click",s[28]),we(Ve,"click",s[29]),we(Ke,"click",s[30]),we(ft,"click",s[31]),we(nt,"click",s[32])],rl=!0)},p(L,ae){const pt={};!t&&ae[0]&64&&(t=!0,pt.show=L[6],Le(()=>t=!1)),e.$set(pt),ae[0]&32&&gt(a,a=L[5])?(He(),A(bt,1,1,Fe),ze(),bt=fs(L),bt.c(),C(bt,1),bt.m(f.parentNode,f)):bt.p(L,ae);const ee={};!o&&ae[0]&128&&(o=!0,ee.show=L[7],Le(()=>o=!1)),r.$set(ee);const ke={};ae[0]&32&&(ke.user=L[5]),!v&&ae[0]&256&&(v=!0,ke.show=L[8],Le(()=>v=!1)),h.$set(ke),(!ot||ae[0]&4096)&&V!==(V=L[12].t("Users")+"")&&J(T,V),(!ot||ae[0]&1)&&$!==($=L[0].length+"")&&J(I,$),(!ot||ae[0]&4096&&te!==(te=L[12].t("Search")))&&i(j,"placeholder",te),ae[0]&2&&j.value!==L[1]&&Ye(j,L[1]);const lt={};ae[0]&4096&&(lt.content=L[12].t("Add User")),ae[0]&128|ae[1]&1024&&(lt.$$scope={dirty:ae,ctx:L}),q.$set(lt),(!ot||ae[0]&4096)&&P!==(P=L[12].t("Role")+"")&&J(le,P);let Vt=U;U=$l(L),U===Vt?_t[U].p(L,ae):(He(),A(_t[Vt],1,1,()=>{_t[Vt]=null}),ze(),Y=_t[U],Y?Y.p(L,ae):(Y=_t[U]=kl[U](L),Y.c()),C(Y,1),Y.m(pe,null)),(!ot||ae[0]&4096)&&De!==(De=L[12].t("Name")+"")&&J($e,De);let xt=re;re=Nl(L),re===xt?Yt[re].p(L,ae):(He(),A(Yt[xt],1,1,()=>{Yt[xt]=null}),ze(),Ee=Yt[re],Ee?Ee.p(L,ae):(Ee=Yt[re]=rt[re](L),Ee.c()),C(Ee,1),Ee.m(ye,null)),(!ot||ae[0]&4096)&&Ne!==(Ne=L[12].t("Email")+"")&&J(Ae,Ne);let Lt=Ce;Ce=Pl(L),Ce===Lt?Ot[Ce].p(L,ae):(He(),A(Ot[Lt],1,1,()=>{Ot[Lt]=null}),ze(),Te=Ot[Ce],Te?Te.p(L,ae):(Te=Ot[Ce]=Bl[Ce](L),Te.c()),C(Te,1),Te.m(Oe,null)),(!ot||ae[0]&4096)&&ge!==(ge=L[12].t("Last Active")+"")&&J(be,ge);let kt=Pe;Pe=Ul(L),Pe===kt?Ft[Pe].p(L,ae):(He(),A(Ft[kt],1,1,()=>{Ft[kt]=null}),ze(),je=Ft[Pe],je?je.p(L,ae):(je=Ft[Pe]=Cl[Pe](L),je.c()),C(je,1),je.m(ce,null)),(!ot||ae[0]&4096)&&Qe!==(Qe=L[12].t("Created at")+"")&&J(ut,Qe);let At=We;We=zl(L),We===At?Rt[We].p(L,ae):(He(),A(Rt[At],1,1,()=>{Rt[At]=null}),ze(),Je=Rt[We],Je?Je.p(L,ae):(Je=Rt[We]=Hl[We](L),Je.c()),C(Je,1),Je.m(Se,null)),(!ot||ae[0]&4096)&&Tt!==(Tt=L[12].t("OAuth ID")+"")&&J(Nt,Tt);let Ze=tt;if(tt=Ml(L),tt===Ze?Kt[tt].p(L,ae):(He(),A(Kt[Ze],1,1,()=>{Kt[Ze]=null}),ze(),et=Kt[tt],et?et.p(L,ae):(et=Kt[tt]=Ll[tt](L),et.c()),C(et,1),et.m(wt,null)),ae[0]&46944){tl=nl(L[10]);let qe;for(qe=0;qe<tl.length;qe+=1){const at=us(L,tl,qe);Ge[qe]?(Ge[qe].p(at,ae),C(Ge[qe],1)):(Ge[qe]=_s(at),Ge[qe].c(),C(Ge[qe],1),Ge[qe].m(mt,null))}for(He(),qe=tl.length;qe<Ge.length;qe+=1)ql(qe);ze()}(!ot||ae[0]&4096)&&It!==(It=L[12].t("Click on the user role button to change a user's role.")+"")&&J(ll,It);const St={};ae[0]&1&&(St.count=L[0].length),!qt&&ae[0]&4&&(qt=!0,St.page=L[2],Le(()=>qt=!1)),dt.$set(St)},i(L){if(!ot){C(e.$$.fragment,L),C(bt),C(r.$$.fragment,L),C(h.$$.fragment,L),C(q.$$.fragment,L),C(Y),C(Ee),C(Te),C(je),C(Je),C(et);for(let ae=0;ae<tl.length;ae+=1)C(Ge[ae]);C(dt.$$.fragment,L),ot=!0}},o(L){A(e.$$.fragment,L),A(bt),A(r.$$.fragment,L),A(h.$$.fragment,L),A(q.$$.fragment,L),A(Y),A(Ee),A(Te),A(je),A(Je),A(et),Ge=Ge.filter(Boolean);for(let ae=0;ae<Ge.length;ae+=1)A(Ge[ae]);A(dt.$$.fragment,L),ot=!1},d(L){L&&(c(l),c(f),c(u),c(g),c(p),c(se),c(de),c(Zt),c(Ut),c(sl)),ne(e,L),bt.d(L),ne(r,L),ne(h,L),ne(q),_t[U].d(),Yt[re].d(),Ot[Ce].d(),Ft[Pe].d(),Rt[We].d(),Kt[tt].d(),Yl(Ge,L),ne(dt,L),rl=!1,Xt(wl)}}}function aa(s,e,t){let l,a,f;$t(s,Fl,P=>t(11,l=P)),$t(s,Ss,P=>t(13,f=P)),Mt.extend(Ts),Mt.extend(Kl);const r=Ht("i18n");$t(s,r,P=>t(12,a=P));let{users:o=[]}=e,u="",h=null,v=1,g=!1,p=!1,w=!1,V=!1;const T=async(P,le)=>{await Ps(localStorage.token,P,le).catch(U=>(vt.error(`${U}`),null))&&t(0,o=await yl(localStorage.token))},D=async P=>{await Hs(localStorage.token,P).catch(he=>(vt.error(`${he}`),null))&&t(0,o=await yl(localStorage.token))};let k="created_at",N="asc";function b(P){k===P?t(4,N=N==="asc"?"desc":"asc"):(t(3,k=P),t(4,N="asc"))}let $;function I(P){g=P,t(6,g)}const O=()=>{D(h.id)};function B(P){V=P,t(9,V)}const x=async()=>{t(0,o=await yl(localStorage.token))};function z(P){p=P,t(7,p)}const X=async()=>{t(0,o=await yl(localStorage.token))};function S(P){w=P,t(8,w)}function R(){u=this.value,t(1,u)}const j=()=>{t(7,p=!p)},te=()=>b("role"),H=()=>b("name"),M=()=>b("email"),q=()=>b("last_active_at"),se=()=>b("created_at"),de=()=>b("oauth_sub"),W=P=>{P.role==="user"?T(P.id,"admin"):P.role==="pending"?T(P.id,"user"):T(P.id,"pending")},Z=async P=>{t(8,w=!w),t(5,h=P)},G=async P=>{t(9,V=!V),t(5,h=P)},_e=async P=>{t(6,g=!0),t(5,h=P)};function pe(P){v=P,t(2,v)}return s.$$set=P=>{"users"in P&&t(0,o=P.users)},s.$$.update=()=>{s.$$.dirty[0]&31&&t(10,$=o.filter(P=>{if(u==="")return!0;{let le=P.name.toLowerCase(),he=P.email.toLowerCase();const U=u.toLowerCase();return le.includes(U)||he.includes(U)}}).sort((P,le)=>P[k]<le[k]?N==="asc"?-1:1:P[k]>le[k]?N==="asc"?1:-1:0).slice((v-1)*20,v*20))},[o,u,v,k,N,h,g,p,w,V,$,l,a,f,r,T,D,b,I,O,B,x,z,X,S,R,j,te,H,M,q,se,de,W,Z,G,_e,pe]}class na extends Et{constructor(e){super(),yt(this,e,aa,ra,gt,{users:0},null,[-1,-1])}}function oa(s){let e,t;return{c(){e=Il("svg"),t=Il("path"),this.h()},l(l){e=Dl(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=m(e);t=Dl(a,"path",{d:!0}),m(t).forEach(c),a.forEach(c),this.h()},h(){i(t,"d","M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 24 24"),i(e,"fill","currentColor"),i(e,"class",s[0])},m(l,a){Q(l,e,a),n(e,t)},p(l,[a]){a&1&&i(e,"class",l[0])},i:Fe,o:Fe,d(l){l&&c(e)}}}function ia(s,e,t){let{className:l="size-4"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className)},[l]}class ua extends Et{constructor(e){super(),yt(this,e,ia,oa,gt,{className:0})}}function fa(s){let e,t,l,a=s[2].t("Name")+"",f,r,o,u,h,v,g,p,w=s[2].t("Description")+"",V,T,D,k,N,b,$,I;function O(x){s[6](x)}let B={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden resize-none",rows:4,placeholder:s[2].t("Group Description")};return s[1]!==void 0&&(B.value=s[1]),k=new Us({props:B}),Ue.push(()=>Me(k,"value",O)),{c(){e=_("div"),t=_("div"),l=_("div"),f=K(a),r=y(),o=_("div"),u=_("input"),v=y(),g=_("div"),p=_("div"),V=K(w),T=y(),D=_("div"),ue(k.$$.fragment),this.h()},l(x){e=d(x,"DIV",{class:!0});var z=m(e);t=d(z,"DIV",{class:!0});var X=m(t);l=d(X,"DIV",{class:!0});var S=m(l);f=F(S,a),S.forEach(c),r=E(X),o=d(X,"DIV",{class:!0});var R=m(o);u=d(R,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),R.forEach(c),X.forEach(c),z.forEach(c),v=E(x),g=d(x,"DIV",{class:!0});var j=m(g);p=d(j,"DIV",{class:!0});var te=m(p);V=F(te,w),te.forEach(c),T=E(j),D=d(j,"DIV",{class:!0});var H=m(D);ie(k.$$.fragment,H),H.forEach(c),j.forEach(c),this.h()},h(){i(l,"class","mb-0.5 text-xs text-gray-500"),i(u,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),i(u,"type","text"),i(u,"placeholder",h=s[2].t("Group Name")),i(u,"autocomplete","off"),u.required=!0,i(o,"class","flex-1"),i(t,"class","flex flex-col w-full"),i(e,"class","flex gap-2"),i(p,"class","mb-1 text-xs text-gray-500"),i(D,"class","flex-1"),i(g,"class","flex flex-col w-full mt-2")},m(x,z){Q(x,e,z),n(e,t),n(t,l),n(l,f),n(t,r),n(t,o),n(o,u),Ye(u,s[0]),Q(x,v,z),Q(x,g,z),n(g,p),n(p,V),n(g,T),n(g,D),oe(k,D,null),b=!0,$||(I=we(u,"input",s[5]),$=!0)},p(x,[z]){(!b||z&4)&&a!==(a=x[2].t("Name")+"")&&J(f,a),(!b||z&4&&h!==(h=x[2].t("Group Name")))&&i(u,"placeholder",h),z&1&&u.value!==x[0]&&Ye(u,x[0]),(!b||z&4)&&w!==(w=x[2].t("Description")+"")&&J(V,w);const X={};z&4&&(X.placeholder=x[2].t("Group Description")),!N&&z&2&&(N=!0,X.value=x[1],Le(()=>N=!1)),k.$set(X)},i(x){b||(C(k.$$.fragment,x),b=!0)},o(x){A(k.$$.fragment,x),b=!1},d(x){x&&(c(e),c(v),c(g)),ne(k),$=!1,I()}}}function ca(s,e,t){let l;const a=Ht("i18n");$t(s,a,v=>t(2,l=v));let{name:f=""}=e,{color:r=""}=e,{description:o=""}=e;function u(){f=this.value,t(0,f)}function h(v){o=v,t(1,o)}return s.$$set=v=>{"name"in v&&t(0,f=v.name),"color"in v&&t(4,r=v.color),"description"in v&&t(1,o=v.description)},[f,o,l,a,r,u,h]}class da extends Et{constructor(e){super(),yt(this,e,ca,fa,gt,{name:0,color:4,description:1})}}function _a(s){let e,t=s[1].t("Tools Access")+"",l,a,f,r,o;function u(v){s[6](v)}let h={};return s[0].workspace.tools!==void 0&&(h.state=s[0].workspace.tools),f=new Pt({props:h}),Ue.push(()=>Me(f,"state",u)),{c(){e=_("div"),l=K(t),a=y(),ue(f.$$.fragment),this.h()},l(v){e=d(v,"DIV",{class:!0});var g=m(e);l=F(g,t),g.forEach(c),a=E(v),ie(f.$$.fragment,v),this.h()},h(){i(e,"class","self-center text-xs font-medium")},m(v,g){Q(v,e,g),n(e,l),Q(v,a,g),oe(f,v,g),o=!0},p(v,g){(!o||g&2)&&t!==(t=v[1].t("Tools Access")+"")&&J(l,t);const p={};!r&&g&1&&(r=!0,p.state=v[0].workspace.tools,Le(()=>r=!1)),f.$set(p)},i(v){o||(C(f.$$.fragment,v),o=!0)},o(v){A(f.$$.fragment,v),o=!1},d(v){v&&(c(e),c(a)),ne(f,v)}}}function ha(s){let e,t,l,a=s[1].t("Workspace Permissions")+"",f,r,o,u,h=s[1].t("Models Access")+"",v,g,p,w,V,T,D,k=s[1].t("Knowledge Access")+"",N,b,$,I,O,B,x,z=s[1].t("Prompts Access")+"",X,S,R,j,te,H,M,q,se,de,W,Z,G=s[1].t("Chat Permissions")+"",_e,pe,P,le,he=s[1].t("Allow Chat Controls")+"",U,Y,me,ve,ye,De,$e,fe=s[1].t("Allow File Upload")+"",re,Ee,xe,Ve,Oe,Ne,Ae,Be=s[1].t("Allow Chat Delete")+"",Ce,Te,Re,Ke,ce,ge,be,Ie=s[1].t("Allow Chat Edit")+"",Pe,je,st,ft,Se,Qe,ut,ht=s[1].t("Allow Temporary Chat")+"",We,Je,Xe,nt,wt,Tt,Nt,ct,tt,et=s[1].t("Features Permissions")+"",jt,Ct,Dt,mt,Zt=s[1].t("Web Search")+"",Ut,il,It,ll,sl,dt,qt,ot=s[1].t("Image Generation")+"",rl,wl,Gt,bl,bt,Wt,el,ul=s[1].t("Code Interpreter")+"",fl,kl,_t,$l,rt;function Yt(ee){s[3](ee)}let Nl={};s[0].workspace.models!==void 0&&(Nl.state=s[0].workspace.models),p=new Pt({props:Nl}),Ue.push(()=>Me(p,"state",Yt));function Bl(ee){s[4](ee)}let Ot={};s[0].workspace.knowledge!==void 0&&(Ot.state=s[0].workspace.knowledge),$=new Pt({props:Ot}),Ue.push(()=>Me($,"state",Bl));function Pl(ee){s[5](ee)}let Cl={};s[0].workspace.prompts!==void 0&&(Cl.state=s[0].workspace.prompts),R=new Pt({props:Cl}),Ue.push(()=>Me(R,"state",Pl)),M=new ol({props:{className:" flex w-full justify-between my-2 pr-2",content:s[1].t("Warning: Enabling this will allow users to upload arbitrary code on the server."),placement:"top-start",$$slots:{default:[_a]},$$scope:{ctx:s}}});function Ft(ee){s[7](ee)}let Ul={};s[0].chat.controls!==void 0&&(Ul.state=s[0].chat.controls),me=new Pt({props:Ul}),Ue.push(()=>Me(me,"state",Ft));function Hl(ee){s[8](ee)}let Rt={};s[0].chat.file_upload!==void 0&&(Rt.state=s[0].chat.file_upload),xe=new Pt({props:Rt}),Ue.push(()=>Me(xe,"state",Hl));function zl(ee){s[9](ee)}let Ll={};s[0].chat.delete!==void 0&&(Ll.state=s[0].chat.delete),Re=new Pt({props:Ll}),Ue.push(()=>Me(Re,"state",zl));function Kt(ee){s[10](ee)}let Ml={};s[0].chat.edit!==void 0&&(Ml.state=s[0].chat.edit),st=new Pt({props:Ml}),Ue.push(()=>Me(st,"state",Kt));function tl(ee){s[11](ee)}let Ge={};s[0].chat.temporary!==void 0&&(Ge.state=s[0].chat.temporary),Xe=new Pt({props:Ge}),Ue.push(()=>Me(Xe,"state",tl));function ql(ee){s[12](ee)}let jl={};s[0].features.web_search!==void 0&&(jl.state=s[0].features.web_search),It=new Pt({props:jl}),Ue.push(()=>Me(It,"state",ql));function Gl(ee){s[13](ee)}let L={};s[0].features.image_generation!==void 0&&(L.state=s[0].features.image_generation),Gt=new Pt({props:L}),Ue.push(()=>Me(Gt,"state",Gl));function ae(ee){s[14](ee)}let pt={};return s[0].features.code_interpreter!==void 0&&(pt.state=s[0].features.code_interpreter),_t=new Pt({props:pt}),Ue.push(()=>Me(_t,"state",ae)),{c(){e=_("div"),t=_("div"),l=_("div"),f=K(a),r=y(),o=_("div"),u=_("div"),v=K(h),g=y(),ue(p.$$.fragment),V=y(),T=_("div"),D=_("div"),N=K(k),b=y(),ue($.$$.fragment),O=y(),B=_("div"),x=_("div"),X=K(z),S=y(),ue(R.$$.fragment),te=y(),H=_("div"),ue(M.$$.fragment),q=y(),se=_("hr"),de=y(),W=_("div"),Z=_("div"),_e=K(G),pe=y(),P=_("div"),le=_("div"),U=K(he),Y=y(),ue(me.$$.fragment),ye=y(),De=_("div"),$e=_("div"),re=K(fe),Ee=y(),ue(xe.$$.fragment),Oe=y(),Ne=_("div"),Ae=_("div"),Ce=K(Be),Te=y(),ue(Re.$$.fragment),ce=y(),ge=_("div"),be=_("div"),Pe=K(Ie),je=y(),ue(st.$$.fragment),Se=y(),Qe=_("div"),ut=_("div"),We=K(ht),Je=y(),ue(Xe.$$.fragment),wt=y(),Tt=_("hr"),Nt=y(),ct=_("div"),tt=_("div"),jt=K(et),Ct=y(),Dt=_("div"),mt=_("div"),Ut=K(Zt),il=y(),ue(It.$$.fragment),sl=y(),dt=_("div"),qt=_("div"),rl=K(ot),wl=y(),ue(Gt.$$.fragment),bt=y(),Wt=_("div"),el=_("div"),fl=K(ul),kl=y(),ue(_t.$$.fragment),this.h()},l(ee){e=d(ee,"DIV",{});var ke=m(e);t=d(ke,"DIV",{});var lt=m(t);l=d(lt,"DIV",{class:!0});var Vt=m(l);f=F(Vt,a),Vt.forEach(c),r=E(lt),o=d(lt,"DIV",{class:!0});var xt=m(o);u=d(xt,"DIV",{class:!0});var Lt=m(u);v=F(Lt,h),Lt.forEach(c),g=E(xt),ie(p.$$.fragment,xt),xt.forEach(c),V=E(lt),T=d(lt,"DIV",{class:!0});var kt=m(T);D=d(kt,"DIV",{class:!0});var At=m(D);N=F(At,k),At.forEach(c),b=E(kt),ie($.$$.fragment,kt),kt.forEach(c),O=E(lt),B=d(lt,"DIV",{class:!0});var Ze=m(B);x=d(Ze,"DIV",{class:!0});var St=m(x);X=F(St,z),St.forEach(c),S=E(Ze),ie(R.$$.fragment,Ze),Ze.forEach(c),te=E(lt),H=d(lt,"DIV",{class:!0});var qe=m(H);ie(M.$$.fragment,qe),qe.forEach(c),lt.forEach(c),q=E(ke),se=d(ke,"HR",{class:!0}),de=E(ke),W=d(ke,"DIV",{});var at=m(W);Z=d(at,"DIV",{class:!0});var Qt=m(Z);_e=F(Qt,G),Qt.forEach(c),pe=E(at),P=d(at,"DIV",{class:!0});var Jt=m(P);le=d(Jt,"DIV",{class:!0});var cl=m(le);U=F(cl,he),cl.forEach(c),Y=E(Jt),ie(me.$$.fragment,Jt),Jt.forEach(c),ye=E(at),De=d(at,"DIV",{class:!0});var dl=m(De);$e=d(dl,"DIV",{class:!0});var _l=m($e);re=F(_l,fe),_l.forEach(c),Ee=E(dl),ie(xe.$$.fragment,dl),dl.forEach(c),Oe=E(at),Ne=d(at,"DIV",{class:!0});var hl=m(Ne);Ae=d(hl,"DIV",{class:!0});var ml=m(Ae);Ce=F(ml,Be),ml.forEach(c),Te=E(hl),ie(Re.$$.fragment,hl),hl.forEach(c),ce=E(at),ge=d(at,"DIV",{class:!0});var pl=m(ge);be=d(pl,"DIV",{class:!0});var vl=m(be);Pe=F(vl,Ie),vl.forEach(c),je=E(pl),ie(st.$$.fragment,pl),pl.forEach(c),Se=E(at),Qe=d(at,"DIV",{class:!0});var gl=m(Qe);ut=d(gl,"DIV",{class:!0});var El=m(ut);We=F(El,ht),El.forEach(c),Je=E(gl),ie(Xe.$$.fragment,gl),gl.forEach(c),at.forEach(c),wt=E(ke),Tt=d(ke,"HR",{class:!0}),Nt=E(ke),ct=d(ke,"DIV",{});var Bt=m(ct);tt=d(Bt,"DIV",{class:!0});var Ql=m(tt);jt=F(Ql,et),Ql.forEach(c),Ct=E(Bt),Dt=d(Bt,"DIV",{class:!0});var Ol=m(Dt);mt=d(Ol,"DIV",{class:!0});var Jl=m(mt);Ut=F(Jl,Zt),Jl.forEach(c),il=E(Ol),ie(It.$$.fragment,Ol),Ol.forEach(c),sl=E(Bt),dt=d(Bt,"DIV",{class:!0});var Rl=m(dt);qt=d(Rl,"DIV",{class:!0});var Xl=m(qt);rl=F(Xl,ot),Xl.forEach(c),wl=E(Rl),ie(Gt.$$.fragment,Rl),Rl.forEach(c),bt=E(Bt),Wt=d(Bt,"DIV",{class:!0});var Zl=m(Wt);el=d(Zl,"DIV",{class:!0});var es=m(el);fl=F(es,ul),es.forEach(c),kl=E(Zl),ie(_t.$$.fragment,Zl),Zl.forEach(c),Bt.forEach(c),ke.forEach(c),this.h()},h(){i(l,"class","mb-2 text-sm font-medium"),i(u,"class","self-center text-xs font-medium"),i(o,"class","flex w-full justify-between my-2 pr-2"),i(D,"class","self-center text-xs font-medium"),i(T,"class","flex w-full justify-between my-2 pr-2"),i(x,"class","self-center text-xs font-medium"),i(B,"class","flex w-full justify-between my-2 pr-2"),i(H,"class",""),i(se,"class","border-gray-100 dark:border-gray-850 my-2"),i(Z,"class","mb-2 text-sm font-medium"),i(le,"class","self-center text-xs font-medium"),i(P,"class","flex w-full justify-between my-2 pr-2"),i($e,"class","self-center text-xs font-medium"),i(De,"class","flex w-full justify-between my-2 pr-2"),i(Ae,"class","self-center text-xs font-medium"),i(Ne,"class","flex w-full justify-between my-2 pr-2"),i(be,"class","self-center text-xs font-medium"),i(ge,"class","flex w-full justify-between my-2 pr-2"),i(ut,"class","self-center text-xs font-medium"),i(Qe,"class","flex w-full justify-between my-2 pr-2"),i(Tt,"class","border-gray-100 dark:border-gray-850 my-2"),i(tt,"class","mb-2 text-sm font-medium"),i(mt,"class","self-center text-xs font-medium"),i(Dt,"class","flex w-full justify-between my-2 pr-2"),i(qt,"class","self-center text-xs font-medium"),i(dt,"class","flex w-full justify-between my-2 pr-2"),i(el,"class","self-center text-xs font-medium"),i(Wt,"class","flex w-full justify-between my-2 pr-2")},m(ee,ke){Q(ee,e,ke),n(e,t),n(t,l),n(l,f),n(t,r),n(t,o),n(o,u),n(u,v),n(o,g),oe(p,o,null),n(t,V),n(t,T),n(T,D),n(D,N),n(T,b),oe($,T,null),n(t,O),n(t,B),n(B,x),n(x,X),n(B,S),oe(R,B,null),n(t,te),n(t,H),oe(M,H,null),n(e,q),n(e,se),n(e,de),n(e,W),n(W,Z),n(Z,_e),n(W,pe),n(W,P),n(P,le),n(le,U),n(P,Y),oe(me,P,null),n(W,ye),n(W,De),n(De,$e),n($e,re),n(De,Ee),oe(xe,De,null),n(W,Oe),n(W,Ne),n(Ne,Ae),n(Ae,Ce),n(Ne,Te),oe(Re,Ne,null),n(W,ce),n(W,ge),n(ge,be),n(be,Pe),n(ge,je),oe(st,ge,null),n(W,Se),n(W,Qe),n(Qe,ut),n(ut,We),n(Qe,Je),oe(Xe,Qe,null),n(e,wt),n(e,Tt),n(e,Nt),n(e,ct),n(ct,tt),n(tt,jt),n(ct,Ct),n(ct,Dt),n(Dt,mt),n(mt,Ut),n(Dt,il),oe(It,Dt,null),n(ct,sl),n(ct,dt),n(dt,qt),n(qt,rl),n(dt,wl),oe(Gt,dt,null),n(ct,bt),n(ct,Wt),n(Wt,el),n(el,fl),n(Wt,kl),oe(_t,Wt,null),rt=!0},p(ee,[ke]){(!rt||ke&2)&&a!==(a=ee[1].t("Workspace Permissions")+"")&&J(f,a),(!rt||ke&2)&&h!==(h=ee[1].t("Models Access")+"")&&J(v,h);const lt={};!w&&ke&1&&(w=!0,lt.state=ee[0].workspace.models,Le(()=>w=!1)),p.$set(lt),(!rt||ke&2)&&k!==(k=ee[1].t("Knowledge Access")+"")&&J(N,k);const Vt={};!I&&ke&1&&(I=!0,Vt.state=ee[0].workspace.knowledge,Le(()=>I=!1)),$.$set(Vt),(!rt||ke&2)&&z!==(z=ee[1].t("Prompts Access")+"")&&J(X,z);const xt={};!j&&ke&1&&(j=!0,xt.state=ee[0].workspace.prompts,Le(()=>j=!1)),R.$set(xt);const Lt={};ke&2&&(Lt.content=ee[1].t("Warning: Enabling this will allow users to upload arbitrary code on the server.")),ke&65539&&(Lt.$$scope={dirty:ke,ctx:ee}),M.$set(Lt),(!rt||ke&2)&&G!==(G=ee[1].t("Chat Permissions")+"")&&J(_e,G),(!rt||ke&2)&&he!==(he=ee[1].t("Allow Chat Controls")+"")&&J(U,he);const kt={};!ve&&ke&1&&(ve=!0,kt.state=ee[0].chat.controls,Le(()=>ve=!1)),me.$set(kt),(!rt||ke&2)&&fe!==(fe=ee[1].t("Allow File Upload")+"")&&J(re,fe);const At={};!Ve&&ke&1&&(Ve=!0,At.state=ee[0].chat.file_upload,Le(()=>Ve=!1)),xe.$set(At),(!rt||ke&2)&&Be!==(Be=ee[1].t("Allow Chat Delete")+"")&&J(Ce,Be);const Ze={};!Ke&&ke&1&&(Ke=!0,Ze.state=ee[0].chat.delete,Le(()=>Ke=!1)),Re.$set(Ze),(!rt||ke&2)&&Ie!==(Ie=ee[1].t("Allow Chat Edit")+"")&&J(Pe,Ie);const St={};!ft&&ke&1&&(ft=!0,St.state=ee[0].chat.edit,Le(()=>ft=!1)),st.$set(St),(!rt||ke&2)&&ht!==(ht=ee[1].t("Allow Temporary Chat")+"")&&J(We,ht);const qe={};!nt&&ke&1&&(nt=!0,qe.state=ee[0].chat.temporary,Le(()=>nt=!1)),Xe.$set(qe),(!rt||ke&2)&&et!==(et=ee[1].t("Features Permissions")+"")&&J(jt,et),(!rt||ke&2)&&Zt!==(Zt=ee[1].t("Web Search")+"")&&J(Ut,Zt);const at={};!ll&&ke&1&&(ll=!0,at.state=ee[0].features.web_search,Le(()=>ll=!1)),It.$set(at),(!rt||ke&2)&&ot!==(ot=ee[1].t("Image Generation")+"")&&J(rl,ot);const Qt={};!bl&&ke&1&&(bl=!0,Qt.state=ee[0].features.image_generation,Le(()=>bl=!1)),Gt.$set(Qt),(!rt||ke&2)&&ul!==(ul=ee[1].t("Code Interpreter")+"")&&J(fl,ul);const Jt={};!$l&&ke&1&&($l=!0,Jt.state=ee[0].features.code_interpreter,Le(()=>$l=!1)),_t.$set(Jt)},i(ee){rt||(C(p.$$.fragment,ee),C($.$$.fragment,ee),C(R.$$.fragment,ee),C(M.$$.fragment,ee),C(me.$$.fragment,ee),C(xe.$$.fragment,ee),C(Re.$$.fragment,ee),C(st.$$.fragment,ee),C(Xe.$$.fragment,ee),C(It.$$.fragment,ee),C(Gt.$$.fragment,ee),C(_t.$$.fragment,ee),rt=!0)},o(ee){A(p.$$.fragment,ee),A($.$$.fragment,ee),A(R.$$.fragment,ee),A(M.$$.fragment,ee),A(me.$$.fragment,ee),A(xe.$$.fragment,ee),A(Re.$$.fragment,ee),A(st.$$.fragment,ee),A(Xe.$$.fragment,ee),A(It.$$.fragment,ee),A(Gt.$$.fragment,ee),A(_t.$$.fragment,ee),rt=!1},d(ee){ee&&c(e),ne(p),ne($),ne(R),ne(M),ne(me),ne(xe),ne(Re),ne(st),ne(Xe),ne(It),ne(Gt),ne(_t)}}}function hs(s,e){return{...e,...s,workspace:{...e.workspace,...s.workspace},chat:{...e.chat,...s.chat},features:{...e.features,...s.features}}}function ma(s,e,t){let l;const a=Ht("i18n");$t(s,a,b=>t(1,l=b));const f={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{controls:!0,delete:!0,edit:!0,temporary:!0,file_upload:!0},features:{web_search:!0,image_generation:!0,code_interpreter:!0}};let{permissions:r={}}=e;xl(()=>{t(0,r=hs(r,f))});function o(b){s.$$.not_equal(r.workspace.models,b)&&(r.workspace.models=b,t(0,r))}function u(b){s.$$.not_equal(r.workspace.knowledge,b)&&(r.workspace.knowledge=b,t(0,r))}function h(b){s.$$.not_equal(r.workspace.prompts,b)&&(r.workspace.prompts=b,t(0,r))}function v(b){s.$$.not_equal(r.workspace.tools,b)&&(r.workspace.tools=b,t(0,r))}function g(b){s.$$.not_equal(r.chat.controls,b)&&(r.chat.controls=b,t(0,r))}function p(b){s.$$.not_equal(r.chat.file_upload,b)&&(r.chat.file_upload=b,t(0,r))}function w(b){s.$$.not_equal(r.chat.delete,b)&&(r.chat.delete=b,t(0,r))}function V(b){s.$$.not_equal(r.chat.edit,b)&&(r.chat.edit=b,t(0,r))}function T(b){s.$$.not_equal(r.chat.temporary,b)&&(r.chat.temporary=b,t(0,r))}function D(b){s.$$.not_equal(r.features.web_search,b)&&(r.features.web_search=b,t(0,r))}function k(b){s.$$.not_equal(r.features.image_generation,b)&&(r.features.image_generation=b,t(0,r))}function N(b){s.$$.not_equal(r.features.code_interpreter,b)&&(r.features.code_interpreter=b,t(0,r))}return s.$$set=b=>{"permissions"in b&&t(0,r=b.permissions)},s.$$.update=()=>{s.$$.dirty&1&&t(0,r=hs(r,f))},[r,l,a,o,u,h,v,g,p,w,V,T,D,k,N]}class pa extends Et{constructor(e){super(),yt(this,e,ma,ha,gt,{permissions:0})}}function ms(s,e,t){const l=s.slice();return l[8]=e[t],l[10]=t,l}function va(s){let e,t=s[3].t("No users were found.")+"",l;return{c(){e=_("div"),l=K(t),this.h()},l(a){e=d(a,"DIV",{class:!0});var f=m(e);l=F(f,t),f.forEach(c),this.h()},h(){i(e,"class","text-gray-500 text-xs text-center py-2 px-10")},m(a,f){Q(a,e,f),n(e,l)},p(a,f){f&8&&t!==(t=a[3].t("No users were found.")+"")&&J(l,t)},i:Fe,o:Fe,d(a){a&&c(e)}}}function ga(s){let e=[],t=new Map,l,a,f=nl(s[2]);const r=o=>o[8].id;for(let o=0;o<f.length;o+=1){let u=ms(s,f,o),h=r(u);t.set(h,e[o]=vs(h,u))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();l=al()},l(o){for(let u=0;u<e.length;u+=1)e[u].l(o);l=al()},m(o,u){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(o,u);Q(o,l,u),a=!0},p(o,u){u&5&&(f=nl(o[2]),He(),e=js(e,u,r,1,o,f,t,l.parentNode,Gs,vs,l,ms),ze())},i(o){if(!a){for(let u=0;u<f.length;u+=1)C(e[u]);a=!0}},o(o){for(let u=0;u<e.length;u+=1)A(e[u]);a=!1},d(o){o&&c(l);for(let u=0;u<e.length;u+=1)e[u].d(o)}}}function wa(s){let e,t,l,a,f,r=s[8].name+"",o;return{c(){e=_("div"),t=_("img"),a=y(),f=_("div"),o=K(r),this.h()},l(u){e=d(u,"DIV",{class:!0});var h=m(e);t=d(h,"IMG",{class:!0,src:!0,alt:!0}),a=E(h),f=d(h,"DIV",{class:!0});var v=m(f);o=F(v,r),v.forEach(c),h.forEach(c),this.h()},h(){i(t,"class","rounded-full size-5 object-cover mr-2.5"),Vl(t.src,l=s[8].profile_image_url.startsWith(Al)||s[8].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[8].profile_image_url.startsWith("data:")?s[8].profile_image_url:"/user.png")||i(t,"src",l),i(t,"alt","user"),i(f,"class","font-medium self-center"),i(e,"class","flex")},m(u,h){Q(u,e,h),n(e,t),n(e,a),n(e,f),n(f,o)},p(u,h){h&4&&!Vl(t.src,l=u[8].profile_image_url.startsWith(Al)||u[8].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||u[8].profile_image_url.startsWith("data:")?u[8].profile_image_url:"/user.png")&&i(t,"src",l),h&4&&r!==(r=u[8].name+"")&&J(o,r)},d(u){u&&c(e)}}}function ps(s){let e,t;return e=new Ns({props:{type:"success",content:"member"}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function vs(s,e){let t,l,a,f,r,o,u,h=e[0].includes(e[8].id),v,g;function p(...V){return e[7](e[8],...V)}a=new Ys({props:{state:e[0].includes(e[8].id)?"checked":"unchecked"}}),a.$on("change",p),o=new ol({props:{content:e[8].email,placement:"top-start",$$slots:{default:[wa]},$$scope:{ctx:e}}});let w=h&&ps();return{key:s,first:null,c(){t=_("div"),l=_("div"),ue(a.$$.fragment),f=y(),r=_("div"),ue(o.$$.fragment),u=y(),w&&w.c(),v=y(),this.h()},l(V){t=d(V,"DIV",{class:!0});var T=m(t);l=d(T,"DIV",{class:!0});var D=m(l);ie(a.$$.fragment,D),D.forEach(c),f=E(T),r=d(T,"DIV",{class:!0});var k=m(r);ie(o.$$.fragment,k),u=E(k),w&&w.l(k),k.forEach(c),v=E(T),T.forEach(c),this.h()},h(){i(l,"class","flex items-center"),i(r,"class","flex w-full items-center justify-between"),i(t,"class","flex flex-row items-center gap-3 w-full text-sm"),this.first=t},m(V,T){Q(V,t,T),n(t,l),oe(a,l,null),n(t,f),n(t,r),oe(o,r,null),n(r,u),w&&w.m(r,null),n(t,v),g=!0},p(V,T){e=V;const D={};T&5&&(D.state=e[0].includes(e[8].id)?"checked":"unchecked"),a.$set(D);const k={};T&4&&(k.content=e[8].email),T&2052&&(k.$$scope={dirty:T,ctx:e}),o.$set(k),T&5&&(h=e[0].includes(e[8].id)),h?w?T&5&&C(w,1):(w=ps(),w.c(),C(w,1),w.m(r,null)):w&&(He(),A(w,1,1,()=>{w=null}),ze())},i(V){g||(C(a.$$.fragment,V),C(o.$$.fragment,V),C(w),g=!0)},o(V){A(a.$$.fragment,V),A(o.$$.fragment,V),A(w),g=!1},d(V){V&&c(t),ne(a),ne(o),w&&w.d()}}}function ba(s){let e,t,l,a,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',r,o,u,h,v,g,p,w,V,T,D;const k=[ga,va],N=[];function b($,I){return $[2].length>0?0:1}return p=b(s),w=N[p]=k[p](s),{c(){e=_("div"),t=_("div"),l=_("div"),a=_("div"),a.innerHTML=f,r=y(),o=_("input"),h=y(),v=_("div"),g=_("div"),w.c(),this.h()},l($){e=d($,"DIV",{});var I=m(e);t=d(I,"DIV",{class:!0});var O=m(t);l=d(O,"DIV",{class:!0});var B=m(l);a=d(B,"DIV",{class:!0,"data-svelte-h":!0}),it(a)!=="svelte-r4ce5j"&&(a.innerHTML=f),r=E(B),o=d(B,"INPUT",{class:!0,placeholder:!0}),B.forEach(c),O.forEach(c),h=E(I),v=d(I,"DIV",{class:!0});var x=m(v);g=d(x,"DIV",{class:!0});var z=m(g);w.l(z),z.forEach(c),x.forEach(c),I.forEach(c),this.h()},h(){i(a,"class","self-center mr-3"),i(o,"class","w-full text-sm pr-4 rounded-r-xl outline-hidden bg-transparent"),i(o,"placeholder",u=s[3].t("Search")),i(l,"class","flex flex-1"),i(t,"class","flex w-full"),i(g,"class","flex flex-col gap-2.5"),i(v,"class","mt-3 max-h-[22rem] overflow-y-auto scrollbar-hidden")},m($,I){Q($,e,I),n(e,t),n(t,l),n(l,a),n(l,r),n(l,o),Ye(o,s[1]),n(e,h),n(e,v),n(v,g),N[p].m(g,null),V=!0,T||(D=we(o,"input",s[6]),T=!0)},p($,[I]){(!V||I&8&&u!==(u=$[3].t("Search")))&&i(o,"placeholder",u),I&2&&o.value!==$[1]&&Ye(o,$[1]);let O=p;p=b($),p===O?N[p].p($,I):(He(),A(N[O],1,1,()=>{N[O]=null}),ze(),w=N[p],w?w.p($,I):(w=N[p]=k[p]($),w.c()),C(w,1),w.m(g,null))},i($){V||(C(w),V=!0)},o($){A(w),V=!1},d($){$&&c(e),N[p].d(),T=!1,D()}}}function ka(s,e,t){let l;const a=Ht("i18n");$t(s,a,g=>t(3,l=g));let{users:f=[]}=e,{userIds:r=[]}=e,o=[],u="";function h(){u=this.value,t(1,u)}const v=(g,p)=>{p.detail==="checked"?t(0,r=[...r,g.id]):t(0,r=r.filter(w=>w!==g.id))};return s.$$set=g=>{"users"in g&&t(5,f=g.users),"userIds"in g&&t(0,r=g.userIds)},s.$$.update=()=>{s.$$.dirty&35&&t(2,o=f.filter(g=>(g==null?void 0:g.role)==="admin"?!1:u===""?!0:g.name.toLowerCase().includes(u.toLowerCase())||g.email.toLowerCase().includes(u.toLowerCase())).sort((g,p)=>{const w=r.indexOf(g.id),V=r.indexOf(p.id);return w!==-1&&V===-1?-1:V!==-1&&w===-1?1:w!==-1&&V!==-1?w-V:g.name.localeCompare(p.name)}))},[r,u,o,l,a,f,h,v]}let $a=class extends Et{constructor(e){super(),yt(this,e,ka,ba,gt,{users:5,userIds:0})}};function Ea(s){let e,t;return{c(){e=Il("svg"),t=Il("path"),this.h()},l(l){e=Dl(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=m(e);t=Dl(a,"path",{d:!0}),m(t).forEach(c),a.forEach(c),this.h()},h(){i(t,"d","M10 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM1.615 16.428a1.224 1.224 0 0 1-.569-1.175 6.002 6.002 0 0 1 11.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 0 1 7 18a9.953 9.953 0 0 1-5.385-1.572ZM16.25 5.75a.75.75 0 0 0-1.5 0v2h-2a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2v-2Z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"viewBox","0 0 20 20"),i(e,"fill","currentColor"),i(e,"class",s[0])},m(l,a){Q(l,e,a),n(e,t)},p(l,[a]){a&1&&i(e,"class",l[0])},i:Fe,o:Fe,d(l){l&&c(e)}}}function ya(s,e,t){let{className:l="size-4"}=e;return s.$$set=a=>{"className"in a&&t(0,l=a.className)},[l]}class Da extends Et{constructor(e){super(),yt(this,e,ya,Ea,gt,{className:0})}}function Ia(s){let e=s[12].t("Edit Default Permissions")+"",t;return{c(){t=K(e)},l(l){t=F(l,e)},m(l,a){Q(l,t,a)},p(l,a){a&4096&&e!==(e=l[12].t("Edit Default Permissions")+"")&&J(t,e)},d(l){l&&c(t)}}}function Va(s){let e;function t(f,r){return f[6]?Ta:xa}let l=t(s),a=l(s);return{c(){a.c(),e=al()},l(f){a.l(f),e=al()},m(f,r){a.m(f,r),Q(f,e,r)},p(f,r){l===(l=t(f))&&a?a.p(f,r):(a.d(1),a=l(f),a&&(a.c(),a.m(e.parentNode,e)))},d(f){f&&c(e),a.d(f)}}}function xa(s){let e=s[12].t("Add User Group")+"",t;return{c(){t=K(e)},l(l){t=F(l,e)},m(l,a){Q(l,t,a)},p(l,a){a&4096&&e!==(e=l[12].t("Add User Group")+"")&&J(t,e)},d(l){l&&c(t)}}}function Ta(s){let e=s[12].t("Edit User Group")+"",t;return{c(){t=K(e)},l(l){t=F(l,e)},m(l,a){Q(l,t,a)},p(l,a){a&4096&&e!==(e=l[12].t("Edit User Group")+"")&&J(t,e)},d(l){l&&c(t)}}}function gs(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',a,f,r=s[12].t("General")+"",o,u,h,v;return{c(){e=_("button"),t=_("div"),t.innerHTML=l,a=y(),f=_("div"),o=K(r),this.h()},l(g){e=d(g,"BUTTON",{class:!0,type:!0});var p=m(e);t=d(p,"DIV",{class:!0,"data-svelte-h":!0}),it(t)!=="svelte-15gnf02"&&(t.innerHTML=l),a=E(p),f=d(p,"DIV",{class:!0});var w=m(f);o=F(w,r),w.forEach(c),p.forEach(c),this.h()},h(){i(t,"class","self-center mr-2"),i(f,"class","self-center"),i(e,"class",u="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(e,"type","button")},m(g,p){Q(g,e,p),n(e,t),n(e,a),n(e,f),n(f,o),h||(v=we(e,"click",s[18]),h=!0)},p(g,p){p&4096&&r!==(r=g[12].t("General")+"")&&J(o,r),p&1024&&u!==(u="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(g[10]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&i(e,"class",u)},d(g){g&&c(e),h=!1,v()}}}function ws(s){let e,t,l,a,f,r=s[12].t("Permissions")+"",o,u,h,v,g;return l=new Fs({}),{c(){e=_("button"),t=_("div"),ue(l.$$.fragment),a=y(),f=_("div"),o=K(r),this.h()},l(p){e=d(p,"BUTTON",{class:!0,type:!0});var w=m(e);t=d(w,"DIV",{class:!0});var V=m(t);ie(l.$$.fragment,V),V.forEach(c),a=E(w),f=d(w,"DIV",{class:!0});var T=m(f);o=F(T,r),T.forEach(c),w.forEach(c),this.h()},h(){i(t,"class","self-center mr-2"),i(f,"class","self-center"),i(e,"class",u="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="permissions"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(e,"type","button")},m(p,w){Q(p,e,w),n(e,t),oe(l,t,null),n(e,a),n(e,f),n(f,o),h=!0,v||(g=we(e,"click",s[19]),v=!0)},p(p,w){(!h||w&4096)&&r!==(r=p[12].t("Permissions")+"")&&J(o,r),(!h||w&1024&&u!==(u="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(p[10]==="permissions"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(e,"class",u)},i(p){h||(C(l.$$.fragment,p),h=!0)},o(p){A(l.$$.fragment,p),h=!1},d(p){p&&c(e),ne(l),v=!1,g()}}}function bs(s){let e,t,l,a,f,r=s[12].t("Users")+"",o,u,h=s[4].length+"",v,g,p,w,V,T;return l=new Da({}),{c(){e=_("button"),t=_("div"),ue(l.$$.fragment),a=y(),f=_("div"),o=K(r),u=K(" ("),v=K(h),g=K(")"),this.h()},l(D){e=d(D,"BUTTON",{class:!0,type:!0});var k=m(e);t=d(k,"DIV",{class:!0});var N=m(t);ie(l.$$.fragment,N),N.forEach(c),a=E(k),f=d(k,"DIV",{class:!0});var b=m(f);o=F(b,r),u=F(b," ("),v=F(b,h),g=F(b,")"),b.forEach(c),k.forEach(c),this.h()},h(){i(t,"class","self-center mr-2"),i(f,"class","self-center"),i(e,"class",p="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="users"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(e,"type","button")},m(D,k){Q(D,e,k),n(e,t),oe(l,t,null),n(e,a),n(e,f),n(f,o),n(f,u),n(f,v),n(f,g),w=!0,V||(T=we(e,"click",s[20]),V=!0)},p(D,k){(!w||k&4096)&&r!==(r=D[12].t("Users")+"")&&J(o,r),(!w||k&16)&&h!==(h=D[4].length+"")&&J(v,h),(!w||k&1024&&p!==(p="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(D[10]==="users"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(e,"class",p)},i(D){w||(C(l.$$.fragment,D),w=!0)},o(D){A(l.$$.fragment,D),w=!1},d(D){D&&c(e),ne(l),V=!1,T()}}}function Na(s){let e,t,l;function a(r){s[24](r)}let f={users:s[7]};return s[4]!==void 0&&(f.userIds=s[4]),e=new $a({props:f}),Ue.push(()=>Me(e,"userIds",a)),{c(){ue(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,o){oe(e,r,o),l=!0},p(r,o){const u={};o&128&&(u.users=r[7]),!t&&o&16&&(t=!0,u.userIds=r[4],Le(()=>t=!1)),e.$set(u)},i(r){l||(C(e.$$.fragment,r),l=!0)},o(r){A(e.$$.fragment,r),l=!1},d(r){ne(e,r)}}}function Ca(s){let e,t,l;function a(r){s[23](r)}let f={};return s[3]!==void 0&&(f.permissions=s[3]),e=new pa({props:f}),Ue.push(()=>Me(e,"permissions",a)),{c(){ue(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,o){oe(e,r,o),l=!0},p(r,o){const u={};!t&&o&8&&(t=!0,u.permissions=r[3],Le(()=>t=!1)),e.$set(u)},i(r){l||(C(e.$$.fragment,r),l=!0)},o(r){A(e.$$.fragment,r),l=!1},d(r){ne(e,r)}}}function Ua(s){let e,t,l,a;function f(u){s[21](u)}function r(u){s[22](u)}let o={};return s[1]!==void 0&&(o.name=s[1]),s[2]!==void 0&&(o.description=s[2]),e=new da({props:o}),Ue.push(()=>Me(e,"name",f)),Ue.push(()=>Me(e,"description",r)),{c(){ue(e.$$.fragment)},l(u){ie(e.$$.fragment,u)},m(u,h){oe(e,u,h),a=!0},p(u,h){const v={};!t&&h&2&&(t=!0,v.name=u[1],Le(()=>t=!1)),!l&&h&4&&(l=!0,v.description=u[2],Le(()=>l=!1)),e.$set(v)},i(u){a||(C(e.$$.fragment,u),a=!0)},o(u){A(e.$$.fragment,u),a=!1},d(u){ne(e,u)}}}function ks(s){let e,t=s[12].t("Delete")+"",l,a,f;return{c(){e=_("button"),l=K(t),this.h()},l(r){e=d(r,"BUTTON",{class:!0,type:!0});var o=m(e);l=F(o,t),o.forEach(c),this.h()},h(){i(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),i(e,"type","button")},m(r,o){Q(r,e,o),n(e,l),a||(f=we(e,"click",s[25]),a=!0)},p(r,o){o&4096&&t!==(t=r[12].t("Delete")+"")&&J(l,t)},d(r){r&&c(e),a=!1,f()}}}function $s(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,a){Q(l,e,a)},d(l){l&&c(e)}}}function La(s){let e,t,l,a,f,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',o,u,h,v,g,p,w=s[9].includes("general"),V,T=s[9].includes("permissions"),D,k=s[9].includes("users"),N,b,$,I,O,B,x,z,X=s[12].t("Save")+"",S,R,j,te,H,M;function q(U,Y){return U[8]?Va:Ia}let se=q(s),de=se(s),W=w&&gs(s),Z=T&&ws(s),G=k&&bs(s);const _e=[Ua,Ca,Na],pe=[];function P(U,Y){return U[10]=="general"?0:U[10]=="permissions"?1:U[10]=="users"?2:-1}~($=P(s))&&(I=pe[$]=_e[$](s));let le=s[6]&&ks(s),he=s[11]&&$s();return{c(){e=_("div"),t=_("div"),l=_("div"),de.c(),a=y(),f=_("button"),f.innerHTML=r,o=y(),u=_("div"),h=_("div"),v=_("form"),g=_("div"),p=_("div"),W&&W.c(),V=y(),Z&&Z.c(),D=y(),G&&G.c(),N=y(),b=_("div"),I&&I.c(),O=y(),B=_("div"),le&&le.c(),x=y(),z=_("button"),S=K(X),R=y(),he&&he.c(),this.h()},l(U){e=d(U,"DIV",{});var Y=m(e);t=d(Y,"DIV",{class:!0});var me=m(t);l=d(me,"DIV",{class:!0});var ve=m(l);de.l(ve),ve.forEach(c),a=E(me),f=d(me,"BUTTON",{class:!0,"data-svelte-h":!0}),it(f)!=="svelte-745w2y"&&(f.innerHTML=r),me.forEach(c),o=E(Y),u=d(Y,"DIV",{class:!0});var ye=m(u);h=d(ye,"DIV",{class:!0});var De=m(h);v=d(De,"FORM",{class:!0});var $e=m(v);g=d($e,"DIV",{class:!0});var fe=m(g);p=d(fe,"DIV",{id:!0,class:!0});var re=m(p);W&&W.l(re),V=E(re),Z&&Z.l(re),D=E(re),G&&G.l(re),re.forEach(c),N=E(fe),b=d(fe,"DIV",{class:!0});var Ee=m(b);I&&I.l(Ee),Ee.forEach(c),fe.forEach(c),O=E($e),B=d($e,"DIV",{class:!0});var xe=m(B);le&&le.l(xe),x=E(xe),z=d(xe,"BUTTON",{class:!0,type:!0});var Ve=m(z);S=F(Ve,X),R=E(Ve),he&&he.l(Ve),Ve.forEach(c),xe.forEach(c),$e.forEach(c),De.forEach(c),ye.forEach(c),Y.forEach(c),this.h()},h(){i(l,"class","text-lg font-medium self-center font-primary"),i(f,"class","self-center"),i(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 mb-1.5"),i(p,"id","admin-settings-tabs-container"),i(p,"class","tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),i(b,"class","flex-1 mt-1 lg:mt-1 lg:h-[22rem] lg:max-h-[22rem] overflow-y-auto scrollbar-hidden"),i(g,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4"),i(z,"class",j="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[11]?" cursor-not-allowed":"")),i(z,"type","submit"),z.disabled=s[11],i(B,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),i(v,"class","flex flex-col w-full"),i(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),i(u,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(U,Y){Q(U,e,Y),n(e,t),n(t,l),de.m(l,null),n(t,a),n(t,f),n(e,o),n(e,u),n(u,h),n(h,v),n(v,g),n(g,p),W&&W.m(p,null),n(p,V),Z&&Z.m(p,null),n(p,D),G&&G.m(p,null),n(g,N),n(g,b),~$&&pe[$].m(b,null),n(v,O),n(v,B),le&&le.m(B,null),n(B,x),n(B,z),n(z,S),n(z,R),he&&he.m(z,null),te=!0,H||(M=[we(f,"click",s[17]),we(v,"submit",s[26])],H=!0)},p(U,Y){se===(se=q(U))&&de?de.p(U,Y):(de.d(1),de=se(U),de&&(de.c(),de.m(l,null))),Y&512&&(w=U[9].includes("general")),w?W?W.p(U,Y):(W=gs(U),W.c(),W.m(p,V)):W&&(W.d(1),W=null),Y&512&&(T=U[9].includes("permissions")),T?Z?(Z.p(U,Y),Y&512&&C(Z,1)):(Z=ws(U),Z.c(),C(Z,1),Z.m(p,D)):Z&&(He(),A(Z,1,1,()=>{Z=null}),ze()),Y&512&&(k=U[9].includes("users")),k?G?(G.p(U,Y),Y&512&&C(G,1)):(G=bs(U),G.c(),C(G,1),G.m(p,null)):G&&(He(),A(G,1,1,()=>{G=null}),ze());let me=$;$=P(U),$===me?~$&&pe[$].p(U,Y):(I&&(He(),A(pe[me],1,1,()=>{pe[me]=null}),ze()),~$?(I=pe[$],I?I.p(U,Y):(I=pe[$]=_e[$](U),I.c()),C(I,1),I.m(b,null)):I=null),U[6]?le?le.p(U,Y):(le=ks(U),le.c(),le.m(B,x)):le&&(le.d(1),le=null),(!te||Y&4096)&&X!==(X=U[12].t("Save")+"")&&J(S,X),U[11]?he||(he=$s(),he.c(),he.m(z,null)):he&&(he.d(1),he=null),(!te||Y&2048&&j!==(j="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(U[11]?" cursor-not-allowed":"")))&&i(z,"class",j),(!te||Y&2048)&&(z.disabled=U[11])},i(U){te||(C(Z),C(G),C(I),te=!0)},o(U){A(Z),A(G),A(I),te=!1},d(U){U&&c(e),de.d(),W&&W.d(),Z&&Z.d(),G&&G.d(),~$&&pe[$].d(),le&&le.d(),he&&he.d(),H=!1,Xt(M)}}}function Ma(s){let e,t,l;function a(r){s[27](r)}let f={size:"md",$$slots:{default:[La]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),e=new Sl({props:f}),Ue.push(()=>Me(e,"show",a)),{c(){ue(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,o){oe(e,r,o),l=!0},p(r,[o]){const u={};o&536879103&&(u.$$scope={dirty:o,ctx:r}),!t&&o&1&&(t=!0,u.show=r[0],Le(()=>t=!1)),e.$set(u)},i(r){l||(C(e.$$.fragment,r),l=!0)},o(r){A(e.$$.fragment,r),l=!1},d(r){ne(e,r)}}}function Aa(s,e,t){let l;const a=Ht("i18n");$t(s,a,M=>t(12,l=M));let{onSubmit:f=()=>{}}=e,{onDelete:r=()=>{}}=e,{show:o=!1}=e,{edit:u=!1}=e,{users:h=[]}=e,{group:v=null}=e,{custom:g=!0}=e,{tabs:p=["general","permissions","users"]}=e,w="general",V=!1,{name:T=""}=e,{description:D=""}=e,{permissions:k={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{controls:!0,file_upload:!0,delete:!0,edit:!0,temporary:!0},features:{web_search:!0,image_generation:!0,code_interpreter:!0}}}=e,{userIds:N=[]}=e;const b=async()=>{t(11,V=!0),await f({name:T,description:D,permissions:k,user_ids:N}),t(11,V=!1),t(0,o=!1)},$=()=>{v&&(t(1,T=v.name),t(2,D=v.description),t(3,k=(v==null?void 0:v.permissions)??{}),t(4,N=(v==null?void 0:v.user_ids)??[]))};xl(()=>{console.log(p),t(10,w=p[0]),$()});const I=()=>{t(0,o=!1)},O=()=>{t(10,w="general")},B=()=>{t(10,w="permissions")},x=()=>{t(10,w="users")};function z(M){T=M,t(1,T)}function X(M){D=M,t(2,D)}function S(M){k=M,t(3,k)}function R(M){N=M,t(4,N)}const j=()=>{r(),t(0,o=!1)},te=M=>{M.preventDefault(),b()};function H(M){o=M,t(0,o)}return s.$$set=M=>{"onSubmit"in M&&t(15,f=M.onSubmit),"onDelete"in M&&t(5,r=M.onDelete),"show"in M&&t(0,o=M.show),"edit"in M&&t(6,u=M.edit),"users"in M&&t(7,h=M.users),"group"in M&&t(16,v=M.group),"custom"in M&&t(8,g=M.custom),"tabs"in M&&t(9,p=M.tabs),"name"in M&&t(1,T=M.name),"description"in M&&t(2,D=M.description),"permissions"in M&&t(3,k=M.permissions),"userIds"in M&&t(4,N=M.userIds)},s.$$.update=()=>{s.$$.dirty&1&&o&&$()},[o,T,D,k,N,r,u,h,g,p,w,V,l,a,b,f,v,I,O,B,x,z,X,S,R,j,te,H]}class Ls extends Et{constructor(e){super(),yt(this,e,Aa,Ma,gt,{onSubmit:15,onDelete:5,show:0,edit:6,users:7,group:16,custom:8,tabs:9,name:1,description:2,permissions:3,userIds:4})}}function Sa(s){let e,t,l,a,f,r,o,u,h=s[1].name+"",v,g,p,w=s[1].user_ids.length+"",V,T,D,k,N,b,$,I,O,B,x;function z(S){s[7](S)}let X={edit:!0,users:s[0],group:s[1],onSubmit:s[4],onDelete:s[5]};return s[2]!==void 0&&(X.show=s[2]),e=new Ls({props:X}),Ue.push(()=>Me(e,"show",z)),o=new tr({props:{className:"size-4"}}),k=new er({props:{className:"size-3.5"}}),I=new Xs({props:{className:"size-3.5"}}),{c(){ue(e.$$.fragment),l=y(),a=_("button"),f=_("div"),r=_("div"),ue(o.$$.fragment),u=y(),v=K(h),g=y(),p=_("div"),V=K(w),T=y(),D=_("div"),ue(k.$$.fragment),N=y(),b=_("div"),$=_("div"),ue(I.$$.fragment),this.h()},l(S){ie(e.$$.fragment,S),l=E(S),a=d(S,"BUTTON",{class:!0});var R=m(a);f=d(R,"DIV",{class:!0});var j=m(f);r=d(j,"DIV",{});var te=m(r);ie(o.$$.fragment,te),te.forEach(c),u=E(j),v=F(j,h),j.forEach(c),g=E(R),p=d(R,"DIV",{class:!0});var H=m(p);V=F(H,w),T=E(H),D=d(H,"DIV",{});var M=m(D);ie(k.$$.fragment,M),M.forEach(c),H.forEach(c),N=E(R),b=d(R,"DIV",{class:!0});var q=m(b);$=d(q,"DIV",{class:!0});var se=m($);ie(I.$$.fragment,se),se.forEach(c),q.forEach(c),R.forEach(c),this.h()},h(){i(f,"class","flex items-center gap-1.5 w-full font-medium"),i(p,"class","flex items-center gap-1.5 w-full font-medium"),i($,"class","rounded-lg p-1 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),i(b,"class","w-full flex justify-end"),i(a,"class","flex items-center gap-3 justify-between px-1 text-xs w-full transition")},m(S,R){oe(e,S,R),Q(S,l,R),Q(S,a,R),n(a,f),n(f,r),oe(o,r,null),n(f,u),n(f,v),n(a,g),n(a,p),n(p,V),n(p,T),n(p,D),oe(k,D,null),n(a,N),n(a,b),n(b,$),oe(I,$,null),O=!0,B||(x=we(a,"click",s[8]),B=!0)},p(S,[R]){const j={};R&1&&(j.users=S[0]),R&2&&(j.group=S[1]),!t&&R&4&&(t=!0,j.show=S[2],Le(()=>t=!1)),e.$set(j),(!O||R&2)&&h!==(h=S[1].name+"")&&J(v,h),(!O||R&2)&&w!==(w=S[1].user_ids.length+"")&&J(V,w)},i(S){O||(C(e.$$.fragment,S),C(o.$$.fragment,S),C(k.$$.fragment,S),C(I.$$.fragment,S),O=!0)},o(S){A(e.$$.fragment,S),A(o.$$.fragment,S),A(k.$$.fragment,S),A(I.$$.fragment,S),O=!1},d(S){S&&(c(l),c(a)),ne(e,S),ne(o),ne(k),ne(I),B=!1,x()}}}function Ba(s,e,t){let l;const a=Ht("i18n");$t(s,a,w=>t(9,l=w));let{users:f=[]}=e,{group:r={name:"Admins",user_ids:[1,2,3]}}=e,{setGroups:o=()=>{}}=e,u=!1;const h=async w=>{await Ks(localStorage.token,r.id,w).catch(T=>(vt.error(`${T}`),null))&&(vt.success(l.t("Group updated successfully")),o())},v=async()=>{await Qs(localStorage.token,r.id).catch(V=>(vt.error(`${V}`),null))&&(vt.success(l.t("Group deleted successfully")),o())};function g(w){u=w,t(2,u)}const p=()=>{t(2,u=!0)};return s.$$set=w=>{"users"in w&&t(0,f=w.users),"group"in w&&t(1,r=w.group),"setGroups"in w&&t(6,o=w.setGroups)},[f,r,u,a,h,v,o,g,p]}class Pa extends Et{constructor(e){super(),yt(this,e,Ba,Sa,gt,{users:0,group:1,setGroups:6})}}function Es(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){i(e,"class","ml-2 self-center")},m(l,a){Q(l,e,a)},d(l){l&&c(e)}}}function Ha(s){let e,t,l,a=s[4].t("Add User Group")+"",f,r,o,u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,v,g,p,w,V,T,D,k=s[4].t("Name")+"",N,b,$,I,O,B,x,z,X=s[4].t("Description")+"",S,R,j,te,H,M,q,se,de=s[4].t("Create")+"",W,Z,G,_e,pe,P;function le(Y){s[10](Y)}let he={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden resize-none",rows:2,placeholder:s[4].t("Group Description")};s[2]!==void 0&&(he.value=s[2]),te=new Us({props:he}),Ue.push(()=>Me(te,"value",le));let U=s[3]&&Es();return{c(){e=_("div"),t=_("div"),l=_("div"),f=K(a),r=y(),o=_("button"),o.innerHTML=u,h=y(),v=_("div"),g=_("div"),p=_("form"),w=_("div"),V=_("div"),T=_("div"),D=_("div"),N=K(k),b=y(),$=_("div"),I=_("input"),B=y(),x=_("div"),z=_("div"),S=K(X),R=y(),j=_("div"),ue(te.$$.fragment),M=y(),q=_("div"),se=_("button"),W=K(de),Z=y(),U&&U.c(),this.h()},l(Y){e=d(Y,"DIV",{});var me=m(e);t=d(me,"DIV",{class:!0});var ve=m(t);l=d(ve,"DIV",{class:!0});var ye=m(l);f=F(ye,a),ye.forEach(c),r=E(ve),o=d(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),it(o)!=="svelte-745w2y"&&(o.innerHTML=u),ve.forEach(c),h=E(me),v=d(me,"DIV",{class:!0});var De=m(v);g=d(De,"DIV",{class:!0});var $e=m(g);p=d($e,"FORM",{class:!0});var fe=m(p);w=d(fe,"DIV",{class:!0});var re=m(w);V=d(re,"DIV",{class:!0});var Ee=m(V);T=d(Ee,"DIV",{class:!0});var xe=m(T);D=d(xe,"DIV",{class:!0});var Ve=m(D);N=F(Ve,k),Ve.forEach(c),b=E(xe),$=d(xe,"DIV",{class:!0});var Oe=m($);I=d(Oe,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Oe.forEach(c),xe.forEach(c),Ee.forEach(c),B=E(re),x=d(re,"DIV",{class:!0});var Ne=m(x);z=d(Ne,"DIV",{class:!0});var Ae=m(z);S=F(Ae,X),Ae.forEach(c),R=E(Ne),j=d(Ne,"DIV",{class:!0});var Be=m(j);ie(te.$$.fragment,Be),Be.forEach(c),Ne.forEach(c),re.forEach(c),M=E(fe),q=d(fe,"DIV",{class:!0});var Ce=m(q);se=d(Ce,"BUTTON",{class:!0,type:!0});var Te=m(se);W=F(Te,de),Z=E(Te),U&&U.l(Te),Te.forEach(c),Ce.forEach(c),fe.forEach(c),$e.forEach(c),De.forEach(c),me.forEach(c),this.h()},h(){i(l,"class","text-lg font-medium self-center font-primary"),i(o,"class","self-center"),i(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 mb-1.5"),i(D,"class","mb-0.5 text-xs text-gray-500"),i(I,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),i(I,"type","text"),i(I,"placeholder",O=s[4].t("Group Name")),i(I,"autocomplete","off"),I.required=!0,i($,"class","flex-1"),i(T,"class","flex flex-col w-full"),i(V,"class","flex gap-2"),i(z,"class","mb-1 text-xs text-gray-500"),i(j,"class","flex-1"),i(x,"class","flex flex-col w-full mt-2"),i(w,"class","px-1 flex flex-col w-full"),i(se,"class",G="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[3]?" cursor-not-allowed":"")),i(se,"type","submit"),se.disabled=s[3],i(q,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),i(p,"class","flex flex-col w-full"),i(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),i(v,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(Y,me){Q(Y,e,me),n(e,t),n(t,l),n(l,f),n(t,r),n(t,o),n(e,h),n(e,v),n(v,g),n(g,p),n(p,w),n(w,V),n(V,T),n(T,D),n(D,N),n(T,b),n(T,$),n($,I),Ye(I,s[1]),n(w,B),n(w,x),n(x,z),n(z,S),n(x,R),n(x,j),oe(te,j,null),n(p,M),n(p,q),n(q,se),n(se,W),n(se,Z),U&&U.m(se,null),_e=!0,pe||(P=[we(o,"click",s[8]),we(I,"input",s[9]),we(p,"submit",s[11])],pe=!0)},p(Y,me){(!_e||me&16)&&a!==(a=Y[4].t("Add User Group")+"")&&J(f,a),(!_e||me&16)&&k!==(k=Y[4].t("Name")+"")&&J(N,k),(!_e||me&16&&O!==(O=Y[4].t("Group Name")))&&i(I,"placeholder",O),me&2&&I.value!==Y[1]&&Ye(I,Y[1]),(!_e||me&16)&&X!==(X=Y[4].t("Description")+"")&&J(S,X);const ve={};me&16&&(ve.placeholder=Y[4].t("Group Description")),!H&&me&4&&(H=!0,ve.value=Y[2],Le(()=>H=!1)),te.$set(ve),(!_e||me&16)&&de!==(de=Y[4].t("Create")+"")&&J(W,de),Y[3]?U||(U=Es(),U.c(),U.m(se,null)):U&&(U.d(1),U=null),(!_e||me&8&&G!==(G="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(Y[3]?" cursor-not-allowed":"")))&&i(se,"class",G),(!_e||me&8)&&(se.disabled=Y[3])},i(Y){_e||(C(te.$$.fragment,Y),_e=!0)},o(Y){A(te.$$.fragment,Y),_e=!1},d(Y){Y&&c(e),ne(te),U&&U.d(),pe=!1,Xt(P)}}}function za(s){let e,t,l;function a(r){s[12](r)}let f={size:"sm",$$slots:{default:[Ha]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),e=new Sl({props:f}),Ue.push(()=>Me(e,"show",a)),{c(){ue(e.$$.fragment)},l(r){ie(e.$$.fragment,r)},m(r,o){oe(e,r,o),l=!0},p(r,[o]){const u={};o&16415&&(u.$$scope={dirty:o,ctx:r}),!t&&o&1&&(t=!0,u.show=r[0],Le(()=>t=!1)),e.$set(u)},i(r){l||(C(e.$$.fragment,r),l=!0)},o(r){A(e.$$.fragment,r),l=!1},d(r){ne(e,r)}}}function ja(s,e,t){let l;const a=Ht("i18n");$t(s,a,D=>t(4,l=D));let{onSubmit:f=()=>{}}=e,{show:r=!1}=e,o="",u="",h=!1;const v=async()=>{t(3,h=!0),await f({name:o,description:u}),t(3,h=!1),t(0,r=!1),t(1,o=""),t(2,u="")};xl(()=>{console.log("mounted")});const g=()=>{t(0,r=!1)};function p(){o=this.value,t(1,o)}function w(D){u=D,t(2,u)}const V=D=>{D.preventDefault(),v()};function T(D){r=D,t(0,r)}return s.$$set=D=>{"onSubmit"in D&&t(7,f=D.onSubmit),"show"in D&&t(0,r=D.show)},[r,o,u,h,l,a,v,f,g,p,w,V,T]}class Ga extends Et{constructor(e){super(),yt(this,e,ja,za,gt,{onSubmit:7,show:0})}}function ys(s,e,t){const l=s.slice();return l[21]=e[t],l}function Ds(s){let e,t,l,a,f,r=s[8].t("Groups")+"",o,u,h,v,g,p=s[1].length+"",w,V,T,D,k,N,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',$,I,O,B,x,z,X,S,R,j,te,H,M,q,se,de,W,Z,G,_e,pe,P,le,he,U=s[8].t("Default permissions")+"",Y,me,ve,ye=s[8].t('applies to all users with the "user" role')+"",De,$e,fe,re,Ee,xe,Ve;function Oe(ce){s[13](ce)}let Ne={onSubmit:s[11]};s[6]!==void 0&&(Ne.show=s[6]),e=new Ga({props:Ne}),Ue.push(()=>Me(e,"show",Oe)),z=new ol({props:{content:s[8].t("Create Group"),$$slots:{default:[Oa]},$$scope:{ctx:s}}});const Ae=[Za,Ra],Be=[];function Ce(ce,ge){return ce[4].length===0?0:1}R=Ce(s),j=Be[R]=Ae[R](s);function Te(ce){s[17](ce)}function Re(ce){s[18](ce)}let Ke={tabs:["permissions"],custom:!1,onSubmit:s[12]};return s[7]!==void 0&&(Ke.show=s[7]),s[5]!==void 0&&(Ke.permissions=s[5]),q=new Ls({props:Ke}),Ue.push(()=>Me(q,"show",Te)),Ue.push(()=>Me(q,"permissions",Re)),pe=new ua({props:{className:"size-4"}}),re=new Ws({props:{strokeWidth:"2.5"}}),{c(){ue(e.$$.fragment),l=y(),a=_("div"),f=_("div"),o=K(r),u=y(),h=_("div"),v=y(),g=_("span"),w=K(p),V=y(),T=_("div"),D=_("div"),k=_("div"),N=_("div"),N.innerHTML=b,$=y(),I=_("input"),B=y(),x=_("div"),ue(z.$$.fragment),X=y(),S=_("div"),j.c(),te=y(),H=_("hr"),M=y(),ue(q.$$.fragment),W=y(),Z=_("button"),G=_("div"),_e=_("div"),ue(pe.$$.fragment),P=y(),le=_("div"),he=_("div"),Y=K(U),me=y(),ve=_("div"),De=K(ye),$e=y(),fe=_("div"),ue(re.$$.fragment),this.h()},l(ce){ie(e.$$.fragment,ce),l=E(ce),a=d(ce,"DIV",{class:!0});var ge=m(a);f=d(ge,"DIV",{class:!0});var be=m(f);o=F(be,r),u=E(be),h=d(be,"DIV",{class:!0}),m(h).forEach(c),v=E(be),g=d(be,"SPAN",{class:!0});var Ie=m(g);w=F(Ie,p),Ie.forEach(c),be.forEach(c),V=E(ge),T=d(ge,"DIV",{class:!0});var Pe=m(T);D=d(Pe,"DIV",{class:!0});var je=m(D);k=d(je,"DIV",{class:!0});var st=m(k);N=d(st,"DIV",{class:!0,"data-svelte-h":!0}),it(N)!=="svelte-kinl2y"&&(N.innerHTML=b),$=E(st),I=d(st,"INPUT",{class:!0,placeholder:!0}),st.forEach(c),B=E(je),x=d(je,"DIV",{});var ft=m(x);ie(z.$$.fragment,ft),ft.forEach(c),je.forEach(c),Pe.forEach(c),ge.forEach(c),X=E(ce),S=d(ce,"DIV",{});var Se=m(S);j.l(Se),te=E(Se),H=d(Se,"HR",{class:!0}),M=E(Se),ie(q.$$.fragment,Se),W=E(Se),Z=d(Se,"BUTTON",{class:!0});var Qe=m(Z);G=d(Qe,"DIV",{class:!0});var ut=m(G);_e=d(ut,"DIV",{class:!0});var ht=m(_e);ie(pe.$$.fragment,ht),ht.forEach(c),P=E(ut),le=d(ut,"DIV",{class:!0});var We=m(le);he=d(We,"DIV",{class:!0});var Je=m(he);Y=F(Je,U),Je.forEach(c),me=E(We),ve=d(We,"DIV",{class:!0});var Xe=m(ve);De=F(Xe,ye),Xe.forEach(c),We.forEach(c),ut.forEach(c),$e=E(Qe),fe=d(Qe,"DIV",{});var nt=m(fe);ie(re.$$.fragment,nt),nt.forEach(c),Qe.forEach(c),Se.forEach(c),this.h()},h(){i(h,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),i(g,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),i(f,"class","flex md:self-center text-lg font-medium px-0.5"),i(N,"class","self-center ml-1 mr-3"),i(I,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"),i(I,"placeholder",O=s[8].t("Search")),i(k,"class","flex flex-1"),i(D,"class","flex w-full space-x-2"),i(T,"class","flex gap-1"),i(a,"class","mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between"),i(H,"class","mb-2 border-gray-100 dark:border-gray-850"),i(_e,"class","p-1.5 bg-black/5 dark:bg-white/10 rounded-full"),i(he,"class","text-sm font-medium"),i(ve,"class","flex text-xs mt-0.5"),i(le,"class","text-left"),i(G,"class","flex items-center gap-2.5"),i(Z,"class","flex items-center justify-between rounded-lg w-full transition pt-1")},m(ce,ge){oe(e,ce,ge),Q(ce,l,ge),Q(ce,a,ge),n(a,f),n(f,o),n(f,u),n(f,h),n(f,v),n(f,g),n(g,w),n(a,V),n(a,T),n(T,D),n(D,k),n(k,N),n(k,$),n(k,I),Ye(I,s[2]),n(D,B),n(D,x),oe(z,x,null),Q(ce,X,ge),Q(ce,S,ge),Be[R].m(S,null),n(S,te),n(S,H),n(S,M),oe(q,S,null),n(S,W),n(S,Z),n(Z,G),n(G,_e),oe(pe,_e,null),n(G,P),n(G,le),n(le,he),n(he,Y),n(le,me),n(le,ve),n(ve,De),n(Z,$e),n(Z,fe),oe(re,fe,null),Ee=!0,xe||(Ve=[we(I,"input",s[14]),we(Z,"click",s[19])],xe=!0)},p(ce,ge){const be={};!t&&ge&64&&(t=!0,be.show=ce[6],Le(()=>t=!1)),e.$set(be),(!Ee||ge&256)&&r!==(r=ce[8].t("Groups")+"")&&J(o,r),(!Ee||ge&2)&&p!==(p=ce[1].length+"")&&J(w,p),(!Ee||ge&256&&O!==(O=ce[8].t("Search")))&&i(I,"placeholder",O),ge&4&&I.value!==ce[2]&&Ye(I,ce[2]);const Ie={};ge&256&&(Ie.content=ce[8].t("Create Group")),ge&16777280&&(Ie.$$scope={dirty:ge,ctx:ce}),z.$set(Ie);let Pe=R;R=Ce(ce),R===Pe?Be[R].p(ce,ge):(He(),A(Be[Pe],1,1,()=>{Be[Pe]=null}),ze(),j=Be[R],j?j.p(ce,ge):(j=Be[R]=Ae[R](ce),j.c()),C(j,1),j.m(S,te));const je={};!se&&ge&128&&(se=!0,je.show=ce[7],Le(()=>se=!1)),!de&&ge&32&&(de=!0,je.permissions=ce[5],Le(()=>de=!1)),q.$set(je),(!Ee||ge&256)&&U!==(U=ce[8].t("Default permissions")+"")&&J(Y,U),(!Ee||ge&256)&&ye!==(ye=ce[8].t('applies to all users with the "user" role')+"")&&J(De,ye)},i(ce){Ee||(C(e.$$.fragment,ce),C(z.$$.fragment,ce),C(j),C(q.$$.fragment,ce),C(pe.$$.fragment,ce),C(re.$$.fragment,ce),Ee=!0)},o(ce){A(e.$$.fragment,ce),A(z.$$.fragment,ce),A(j),A(q.$$.fragment,ce),A(pe.$$.fragment,ce),A(re.$$.fragment,ce),Ee=!1},d(ce){ce&&(c(l),c(a),c(X),c(S)),ne(e,ce),ne(z),Be[R].d(),ne(q),ne(pe),ne(re),xe=!1,Xt(Ve)}}}function Oa(s){let e,t,l,a,f;return t=new Cs({props:{className:"size-3.5"}}),{c(){e=_("button"),ue(t.$$.fragment),this.h()},l(r){e=d(r,"BUTTON",{class:!0});var o=m(e);ie(t.$$.fragment,o),o.forEach(c),this.h()},h(){i(e,"class","p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1")},m(r,o){Q(r,e,o),oe(t,e,null),l=!0,a||(f=we(e,"click",s[15]),a=!0)},p:Fe,i(r){l||(C(t.$$.fragment,r),l=!0)},o(r){A(t.$$.fragment,r),l=!1},d(r){r&&c(e),ne(t),a=!1,f()}}}function Ra(s){let e,t,l='<div class="w-full">Group</div> <div class="w-full">Users</div> <div class="w-full"></div>',a,f,r,o,u=nl(s[4]),h=[];for(let g=0;g<u.length;g+=1)h[g]=Is(ys(s,u,g));const v=g=>A(h[g],1,1,()=>{h[g]=null});return{c(){e=_("div"),t=_("div"),t.innerHTML=l,a=y(),f=_("hr"),r=y();for(let g=0;g<h.length;g+=1)h[g].c();this.h()},l(g){e=d(g,"DIV",{});var p=m(e);t=d(p,"DIV",{class:!0,"data-svelte-h":!0}),it(t)!=="svelte-1uwoqvm"&&(t.innerHTML=l),a=E(p),f=d(p,"HR",{class:!0}),r=E(p);for(let w=0;w<h.length;w+=1)h[w].l(p);p.forEach(c),this.h()},h(){i(t,"class","flex items-center gap-3 justify-between text-xs uppercase px-1 font-bold"),i(f,"class","mt-1.5 border-gray-100 dark:border-gray-850")},m(g,p){Q(g,e,p),n(e,t),n(e,a),n(e,f),n(e,r);for(let w=0;w<h.length;w+=1)h[w]&&h[w].m(e,null);o=!0},p(g,p){if(p&1041){u=nl(g[4]);let w;for(w=0;w<u.length;w+=1){const V=ys(g,u,w);h[w]?(h[w].p(V,p),C(h[w],1)):(h[w]=Is(V),h[w].c(),C(h[w],1),h[w].m(e,null))}for(He(),w=u.length;w<h.length;w+=1)v(w);ze()}},i(g){if(!o){for(let p=0;p<u.length;p+=1)C(h[p]);o=!0}},o(g){h=h.filter(Boolean);for(let p=0;p<h.length;p+=1)A(h[p]);o=!1},d(g){g&&c(e),Yl(h,g)}}}function Za(s){let e,t,l=s[8].t("Organize your users")+"",a,f,r,o=s[8].t("Use groups to group your users and assign permissions.")+"",u,h,v,g,p=s[8].t("Create Group")+"",w,V,T,D;return{c(){e=_("div"),t=_("div"),a=K(l),f=y(),r=_("div"),u=K(o),h=y(),v=_("div"),g=_("button"),w=K(p),this.h()},l(k){e=d(k,"DIV",{class:!0});var N=m(e);t=d(N,"DIV",{class:!0});var b=m(t);a=F(b,l),b.forEach(c),f=E(N),r=d(N,"DIV",{class:!0});var $=m(r);u=F($,o),$.forEach(c),h=E(N),v=d(N,"DIV",{class:!0});var I=m(v);g=d(I,"BUTTON",{class:!0,"aria-label":!0});var O=m(g);w=F(O,p),O.forEach(c),I.forEach(c),N.forEach(c),this.h()},h(){i(t,"class","text-xl font-medium"),i(r,"class","mt-1 text-sm dark:text-gray-300"),i(g,"class","px-4 py-1.5 text-sm rounded-full bg-black hover:bg-gray-800 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition font-medium flex items-center space-x-1"),i(g,"aria-label",V=s[8].t("Create Group")),i(v,"class","mt-3"),i(e,"class","flex flex-col items-center justify-center h-40")},m(k,N){Q(k,e,N),n(e,t),n(t,a),n(e,f),n(e,r),n(r,u),n(e,h),n(e,v),n(v,g),n(g,w),T||(D=we(g,"click",s[16]),T=!0)},p(k,N){N&256&&l!==(l=k[8].t("Organize your users")+"")&&J(a,l),N&256&&o!==(o=k[8].t("Use groups to group your users and assign permissions.")+"")&&J(u,o),N&256&&p!==(p=k[8].t("Create Group")+"")&&J(w,p),N&256&&V!==(V=k[8].t("Create Group"))&&i(g,"aria-label",V)},i:Fe,o:Fe,d(k){k&&c(e),T=!1,D()}}}function Is(s){let e,t,l,a;return t=new Pa({props:{group:s[21],users:s[0],setGroups:s[10]}}),{c(){e=_("div"),ue(t.$$.fragment),l=y(),this.h()},l(f){e=d(f,"DIV",{class:!0});var r=m(e);ie(t.$$.fragment,r),l=E(r),r.forEach(c),this.h()},h(){i(e,"class","my-2")},m(f,r){Q(f,e,r),oe(t,e,null),n(e,l),a=!0},p(f,r){const o={};r&16&&(o.group=f[21]),r&1&&(o.users=f[0]),t.$set(o)},i(f){a||(C(t.$$.fragment,f),a=!0)},o(f){A(t.$$.fragment,f),a=!1},d(f){f&&c(e),ne(t)}}}function qa(s){let e,t,l=s[3]&&Ds(s);return{c(){l&&l.c(),e=al()},l(a){l&&l.l(a),e=al()},m(a,f){l&&l.m(a,f),Q(a,e,f),t=!0},p(a,[f]){a[3]?l?(l.p(a,f),f&8&&C(l,1)):(l=Ds(a),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(He(),A(l,1,1,()=>{l=null}),ze())},i(a){t||(C(l),t=!0)},o(a){A(l),t=!1},d(a){a&&c(e),l&&l.d(a)}}}function Wa(s,e,t){let l,a;$t(s,Fl,x=>t(20,l=x)),Mt.extend(Ts);const f=Ht("i18n");$t(s,f,x=>t(8,a=x));let r=!1,{users:o=[]}=e,u=[],h,v="",g={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{controls:!0,file_upload:!0,delete:!0,edit:!0,temporary:!0},features:{web_search:!0,image_generation:!0,code_interpreter:!0}},p=!1,w=!1;const V=async()=>{t(1,u=await as(localStorage.token))},T=async x=>{await Js(localStorage.token,x).catch(X=>(vt.error(`${X}`),null))&&(vt.success(a.t("Group created successfully")),t(1,u=await as(localStorage.token)))},D=async x=>{console.log(x.permissions),await zs(localStorage.token,x.permissions).catch(X=>(vt.error(`${X}`),null))&&(vt.success(a.t("Default permissions updated successfully")),t(5,g=await ls(localStorage.token)))};xl(async()=>{(l==null?void 0:l.role)!=="admin"?await xs("/"):(await V(),t(5,g=await ls(localStorage.token))),t(3,r=!0)});function k(x){p=x,t(6,p)}function N(){v=this.value,t(2,v)}const b=()=>{t(6,p=!p)},$=()=>{t(6,p=!0)};function I(x){w=x,t(7,w)}function O(x){g=x,t(5,g)}const B=()=>{t(7,w=!0)};return s.$$set=x=>{"users"in x&&t(0,o=x.users)},s.$$.update=()=>{s.$$.dirty&6&&t(4,h=u.filter(x=>{if(v==="")return!0;{let z=x.name.toLowerCase();const X=v.toLowerCase();return z.includes(X)}}))},[o,u,v,r,h,g,p,w,a,f,V,T,D,k,N,b,$,I,O,B]}class Ya extends Et{constructor(e){super(),yt(this,e,Wa,qa,gt,{users:0})}}function Fa(s){let e,t;return e=new Ya({props:{users:s[1]}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},p(l,a){const f={};a&2&&(f.users=l[1]),e.$set(f)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Ka(s){let e,t;return e=new na({props:{users:s[1]}}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},p(l,a){const f={};a&2&&(f.users=l[1]),e.$set(f)},i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Qa(s){let e,t,l,a,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M8.5 4.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM10.9 12.006c.11.542-.348.994-.9.994H2c-.553 0-1.01-.452-.902-.994a5.002 5.002 0 0 1 9.803 0ZM14.002 12h-1.59a2.556 2.556 0 0 0-.04-.29 6.476 6.476 0 0 0-1.167-2.603 3.002 3.002 0 0 1 3.633 1.911c.18.522-.283.982-.836.982ZM12 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"></path></svg>',r,o,u=s[2].t("Overview")+"",h,v,g,p,w,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"></path></svg>',T,D,k=s[2].t("Groups")+"",N,b,$,I,O,B,x,z,X;const S=[Ka,Fa],R=[];function j(te,H){return te[0]==="overview"?0:te[0]==="groups"?1:-1}return~(O=j(s))&&(B=R[O]=S[O](s)),{c(){e=_("div"),t=_("div"),l=_("button"),a=_("div"),a.innerHTML=f,r=y(),o=_("div"),h=K(u),g=y(),p=_("button"),w=_("div"),w.innerHTML=V,T=y(),D=_("div"),N=K(k),$=y(),I=_("div"),B&&B.c(),this.h()},l(te){e=d(te,"DIV",{class:!0});var H=m(e);t=d(H,"DIV",{id:!0,class:!0});var M=m(t);l=d(M,"BUTTON",{class:!0});var q=m(l);a=d(q,"DIV",{class:!0,"data-svelte-h":!0}),it(a)!=="svelte-vvpxme"&&(a.innerHTML=f),r=E(q),o=d(q,"DIV",{class:!0});var se=m(o);h=F(se,u),se.forEach(c),q.forEach(c),g=E(M),p=d(M,"BUTTON",{class:!0});var de=m(p);w=d(de,"DIV",{class:!0,"data-svelte-h":!0}),it(w)!=="svelte-161uai9"&&(w.innerHTML=V),T=E(de),D=d(de,"DIV",{class:!0});var W=m(D);N=F(W,k),W.forEach(c),de.forEach(c),M.forEach(c),$=E(H),I=d(H,"DIV",{class:!0});var Z=m(I);B&&B.l(Z),Z.forEach(c),H.forEach(c),this.h()},h(){i(a,"class","self-center mr-2"),i(o,"class","self-center"),i(l,"class",v="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(s[0]==="overview"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(w,"class","self-center mr-2"),i(D,"class","self-center"),i(p,"class",b="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(s[0]==="groups"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),i(t,"id","users-tabs-container"),i(t,"class","flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),i(I,"class","flex-1 mt-1 lg:mt-0 overflow-y-scroll"),i(e,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4")},m(te,H){Q(te,e,H),n(e,t),n(t,l),n(l,a),n(l,r),n(l,o),n(o,h),n(t,g),n(t,p),n(p,w),n(p,T),n(p,D),n(D,N),n(e,$),n(e,I),~O&&R[O].m(I,null),x=!0,z||(X=[we(l,"click",s[4]),we(p,"click",s[5])],z=!0)},p(te,[H]){(!x||H&4)&&u!==(u=te[2].t("Overview")+"")&&J(h,u),(!x||H&1&&v!==(v="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(te[0]==="overview"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(l,"class",v),(!x||H&4)&&k!==(k=te[2].t("Groups")+"")&&J(N,k),(!x||H&1&&b!==(b="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(te[0]==="groups"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&i(p,"class",b);let M=O;O=j(te),O===M?~O&&R[O].p(te,H):(B&&(He(),A(R[M],1,1,()=>{R[M]=null}),ze()),~O?(B=R[O],B?B.p(te,H):(B=R[O]=S[O](te),B.c()),C(B,1),B.m(I,null)):B=null)},i(te){x||(C(B),x=!0)},o(te){A(B),x=!1},d(te){te&&c(e),~O&&R[O].d(),z=!1,Xt(X)}}}function Ja(s,e,t){let l,a;$t(s,Fl,g=>t(7,l=g));const f=Ht("i18n");$t(s,f,g=>t(2,a=g));let r=[],o="overview";const u=async()=>{t(1,r=await yl(localStorage.token))};xl(async()=>{(l==null?void 0:l.role)!=="admin"?await xs("/"):t(1,r=await yl(localStorage.token));const g=document.getElementById("users-tabs-container");g&&g.addEventListener("wheel",function(p){p.deltaY!==0&&(g.scrollLeft+=p.deltaY)})});const h=()=>{t(0,o="overview")},v=()=>{t(0,o="groups")};return s.$$.update=()=>{s.$$.dirty&1&&o&&u()},[o,r,a,f,h,v]}class Xa extends Et{constructor(e){super(),yt(this,e,Ja,Qa,gt,{})}}function en(s){let e,t;return e=new Xa({}),{c(){ue(e.$$.fragment)},l(l){ie(e.$$.fragment,l)},m(l,a){oe(e,l,a),t=!0},p:Fe,i(l){t||(C(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}class Mn extends Et{constructor(e){super(),yt(this,e,null,en,gt,{})}}export{Mn as component};
//# sourceMappingURL=14.DkBsV_WJ.js.map
