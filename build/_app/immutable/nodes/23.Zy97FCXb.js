import{s as Q,y as X,d as h,c as p,B as K,z as Y,i as z,b as v,x as Z,e as $,f as w,l as U,h as b,o as q,p as se,j as oe,n as ee}from"../chunks/CgRTDwF2.js";import{S as te,i as ne,f as re,d as T,t as V,a as x,g as ie,c as ae,m as N,b as j,e as R}from"../chunks/Bnxgdxyh.js";import{R as ce,V as ue}from"../chunks/C-n1_pw5.js";import{M as fe}from"../chunks/C_Z3Aomw.js";import{T as de}from"../chunks/iHdIuxSF.js";import{t as L}from"../chunks/Fny8-CkQ.js";function pe(o){let e,n;return e=new de({props:{content:o[3].t("Voice Input"),$$slots:{default:[he]},$$scope:{ctx:o}}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){N(e,t,s),n=!0},p(t,s){const a={};s&8&&(a.content=t[3].t("Voice Input")),s&2060&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function me(o){let e,n,t,s;function a(l){o[7](l)}let r={className:"p-1 w-full max-w-full"};return o[2]!==void 0&&(r.recording=o[2]),n=new ue({props:r}),X.push(()=>re(n,"recording",a)),n.$on("cancel",o[8]),n.$on("confirm",o[9]),{c(){e=b("div"),R(n.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var m=w(e);j(n.$$.fragment,m),m.forEach(h),this.h()},h(){p(e,"class","flex-1 w-full")},m(l,m){z(l,e,m),N(n,e,null),s=!0},p(l,m){const _={};!t&&m&4&&(t=!0,_.recording=l[2],Y(()=>t=!1)),n.$set(_)},i(l){s||(x(n.$$.fragment,l),s=!0)},o(l){V(n.$$.fragment,l),s=!1},d(l){l&&h(e),T(n)}}}function he(o){let e,n,t,s,a;return n=new fe({props:{className:"size-4"}}),{c(){e=b("button"),R(n.$$.fragment),this.h()},l(r){e=$(r,"BUTTON",{class:!0,type:!0});var l=w(e);j(n.$$.fragment,l),l.forEach(h),this.h()},h(){p(e,"class","cursor-pointer p-2.5 flex rounded-full hover:bg-gray-100 dark:hover:bg-gray-850 transition shadow-xl"),p(e,"type","button")},m(r,l){z(r,e,l),N(n,e,null),t=!0,s||(a=Z(e,"click",o[10]),s=!0)},p:ee,i(r){t||(x(n.$$.fragment,r),t=!0)},o(r){V(n.$$.fragment,r),t=!1},d(r){r&&h(e),T(n),s=!1,a()}}}function _e(o){let e,n,t,s,a,r,l,m,_,g,P,B,E,c,u,f,k,M,C,S=ge;function le(i){o[6](i)}let W={className:"input-prose-sm",placeholder:o[3].t("Write something..."),preserveBreaks:!0};o[1]!==void 0&&(W.value=o[1]),g=new ce({props:W}),X.push(()=>re(g,"value",le));const O=[me,pe],I=[];function A(i,d){return i[2]?0:1}return u=A(o),f=I[u]=O[u](o),{c(){e=b("div"),n=q(),t=b("div"),s=b("div"),a=b("div"),r=b("input"),m=q(),_=b("div"),R(g.$$.fragment),B=q(),E=b("div"),c=b("div"),f.c(),this.h()},l(i){e=$(i,"DIV",{class:!0});var d=w(e);n=U(d),t=$(d,"DIV",{class:!0});var y=w(t);s=$(y,"DIV",{class:!0});var D=w(s);a=$(D,"DIV",{class:!0});var F=w(a);r=$(F,"INPUT",{class:!0,type:!0,placeholder:!0}),F.forEach(h),D.forEach(h),m=U(y),_=$(y,"DIV",{class:!0});var G=w(_);j(g.$$.fragment,G),G.forEach(h),y.forEach(h),B=U(d),E=$(d,"DIV",{class:!0});var H=w(E);c=$(H,"DIV",{class:!0});var J=w(c);f.l(J),J.forEach(h),H.forEach(h),d.forEach(h),this.h()},h(){p(r,"class","w-full text-2xl font-medium bg-transparent outline-hidden"),p(r,"type","text"),p(r,"placeholder",l=o[3].t("Title")),r.required=!0,p(a,"class","w-full"),p(s,"class","shrink-0 w-full flex justify-between items-center"),p(_,"class","flex-1 w-full h-full"),p(t,"class","w-full flex flex-col gap-2 "),p(c,"class","flex gap-0.5 justify-end w-full"),p(E,"class","absolute bottom-0 left-0 right-0 p-5 max-w-full flex justify-end"),p(e,"class","relative flex-1 w-full h-full flex justify-center overflow-auto px-5")},m(i,d){z(i,e,d),v(e,n),v(e,t),v(t,s),v(s,a),v(a,r),K(r,o[0]),v(t,m),v(t,_),N(g,_,null),v(e,B),v(e,E),v(E,c),I[u].m(c,null),k=!0,M||(C=Z(r,"input",o[5]),M=!0)},p(i,[d]){(!k||d&8&&l!==(l=i[3].t("Title")))&&p(r,"placeholder",l),d&1&&r.value!==i[0]&&K(r,i[0]);const y={};d&8&&(y.placeholder=i[3].t("Write something...")),!P&&d&2&&(P=!0,y.value=i[1],Y(()=>P=!1)),g.$set(y);let D=u;u=A(i),u===D?I[u].p(i,d):(ie(),V(I[D],1,1,()=>{I[D]=null}),ae(),f=I[u],f?f.p(i,d):(f=I[u]=O[u](i),f.c()),x(f,1),f.m(c,null))},i(i){k||(x(S),x(g.$$.fragment,i),x(f),k=!0)},o(i){V(S),V(g.$$.fragment,i),V(f),k=!1},d(i){i&&h(e),T(g),I[u].d(),M=!1,C()}}}let ge=!1;function ve(o,e,n){let t;const s=se("i18n");oe(o,s,c=>n(3,t=c));let a="",r="",l=!1;function m(){a=this.value,n(0,a)}function _(c){r=c,n(1,r)}function g(c){l=c,n(2,l)}return[a,r,l,t,s,m,_,g,()=>{n(2,l=!1)},c=>{const{text:u,filename:f}=c.detail,k=`${window.location.origin}/cache/audio/transcription/${f}`;r.trim()!==""?n(1,r=`${r}

${u}

Recording: ${k}

`):n(1,r=`${r}${u}

Recording: ${k}

`),n(2,l=!1)},async()=>{try{let c=await navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(u){return L.error(t.t("Permission denied when accessing microphone: {{error}}",{error:u})),null});c&&(n(2,l=!0),c.getTracks().forEach(f=>f.stop())),c=null}catch{L.error(t.t("Permission denied when accessing microphone"))}}]}class $e extends te{constructor(e){super(),ne(this,e,ve,_e,Q,{})}}function be(o){let e,n;return e=new $e({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,s){N(e,t,s),n=!0},p:ee,i(t){n||(x(e.$$.fragment,t),n=!0)},o(t){V(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}class Ee extends te{constructor(e){super(),ne(this,e,null,be,Q,{})}}export{Ee as component};
//# sourceMappingURL=23.Zy97FCXb.js.map
