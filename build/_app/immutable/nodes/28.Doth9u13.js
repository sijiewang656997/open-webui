import{s as Ne,y as Ze,d as c,G as Ye,a as F,c as a,B as ce,z as Fe,i as $e,b as e,x as de,A as Ge,e as n,f as d,N as Ke,l as C,g as G,h as i,o as I,t as X,p as Xe,j as Je,n as Qe}from"../chunks/CgRTDwF2.js";import{S as Le,i as Pe,f as et,d as Se,t as We,a as qe,m as ze,b as Oe,e as Re}from"../chunks/Bnxgdxyh.js";import{g as je}from"../chunks/C_2ZPrHa.js";import{c as tt,g as at}from"../chunks/DKoGGoz2.js";import{t as be}from"../chunks/Fny8-CkQ.js";import{k as st}from"../chunks/D-bUEbUi.js";import{A as lt}from"../chunks/C19cfG0N.js";function He(o){let t,l=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){t=i("div"),t.innerHTML=l,this.h()},l(s){t=n(s,"DIV",{class:!0,"data-svelte-h":!0}),Ke(t)!=="svelte-1k8nuce"&&(t.innerHTML=l),this.h()},h(){a(t,"class","ml-1.5 self-center")},m(s,E){$e(s,t,E)},d(s){s&&c(t)}}}function rt(o){let t,l,s,E='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',V,g,h=o[4].t("Back")+"",D,H,v,w,A,T=o[4].t("Create a knowledge base")+"",O,y,k,B,N,R=o[4].t("What are you working on?")+"",J,ue,$,_,Q,fe,M,K,U=o[4].t("What are you trying to achieve?")+"",ee,ge,L,b,te,ve,P,S,x,me,pe,W,Z,m,q,Y=o[4].t("Create Knowledge")+"",ae,he,se,p,_e,we;function Ue(r){o[10](r)}let ye={accessRoles:["read","write"]};o[3]!==void 0&&(ye.accessControl=o[3]),x=new lt({props:ye}),Ze.push(()=>et(x,"accessControl",Ue));let f=o[0]&&He();return{c(){t=i("div"),l=i("button"),s=i("div"),s.innerHTML=E,V=I(),g=i("div"),D=X(h),H=I(),v=i("form"),w=i("div"),A=i("div"),O=X(T),y=I(),k=i("div"),B=i("div"),N=i("div"),J=X(R),ue=I(),$=i("div"),_=i("input"),fe=I(),M=i("div"),K=i("div"),ee=X(U),ge=I(),L=i("div"),b=i("textarea"),ve=I(),P=i("div"),S=i("div"),Re(x.$$.fragment),pe=I(),W=i("div"),Z=i("div"),m=i("button"),q=i("div"),ae=X(Y),he=I(),f&&f.c(),this.h()},l(r){t=n(r,"DIV",{class:!0});var u=d(t);l=n(u,"BUTTON",{class:!0});var j=d(l);s=n(j,"DIV",{class:!0,"data-svelte-h":!0}),Ke(s)!=="svelte-1klo87r"&&(s.innerHTML=E),V=C(j),g=n(j,"DIV",{class:!0});var ke=d(g);D=G(ke,h),ke.forEach(c),j.forEach(c),H=C(u),v=n(u,"FORM",{class:!0});var z=d(v);w=n(z,"DIV",{class:!0});var le=d(w);A=n(le,"DIV",{class:!0});var Ee=d(A);O=G(Ee,T),Ee.forEach(c),y=C(le),k=n(le,"DIV",{class:!0});var re=d(k);B=n(re,"DIV",{class:!0});var oe=d(B);N=n(oe,"DIV",{class:!0});var De=d(N);J=G(De,R),De.forEach(c),ue=C(oe),$=n(oe,"DIV",{class:!0});var xe=d($);_=n(xe,"INPUT",{class:!0,type:!0,placeholder:!0}),xe.forEach(c),oe.forEach(c),fe=C(re),M=n(re,"DIV",{});var ne=d(M);K=n(ne,"DIV",{class:!0});var Ce=d(K);ee=G(Ce,U),Ce.forEach(c),ge=C(ne),L=n(ne,"DIV",{class:!0});var Ie=d(L);b=n(Ie,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),d(b).forEach(c),Ie.forEach(c),ne.forEach(c),re.forEach(c),le.forEach(c),ve=C(z),P=n(z,"DIV",{class:!0});var Ve=d(P);S=n(Ve,"DIV",{class:!0});var Ae=d(S);Oe(x.$$.fragment,Ae),Ae.forEach(c),Ve.forEach(c),pe=C(z),W=n(z,"DIV",{class:!0});var Be=d(W);Z=n(Be,"DIV",{});var Te=d(Z);m=n(Te,"BUTTON",{class:!0,type:!0});var ie=d(m);q=n(ie,"DIV",{class:!0});var Me=d(q);ae=G(Me,Y),Me.forEach(c),he=C(ie),f&&f.l(ie),ie.forEach(c),Te.forEach(c),Be.forEach(c),z.forEach(c),u.forEach(c),this.h()},h(){a(s,"class","self-center"),a(g,"class","self-center font-medium text-sm"),a(l,"class","flex space-x-1"),a(A,"class","text-2xl font-medium font-primary mb-2.5"),a(N,"class","text-sm mb-2"),a(_,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),a(_,"type","text"),a(_,"placeholder",Q=o[4].t("Name your knowledge base")),_.required=!0,a($,"class","w-full mt-1"),a(B,"class","w-full"),a(K,"class","text-sm mb-2"),a(b,"class","w-full resize-none rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),a(b,"rows","4"),a(b,"placeholder",te=o[4].t("Describe your knowledge base and objectives")),b.required=!0,a(L,"class","w-full mt-1"),a(k,"class","w-full flex flex-col gap-2.5"),a(w,"class","w-full flex flex-col justify-center"),a(S,"class","px-3 py-2 bg-gray-50 dark:bg-gray-950 rounded-lg"),a(P,"class","mt-2"),a(q,"class","self-center font-medium"),a(m,"class",se="text-sm px-4 py-2 transition rounded-lg "+(o[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800")+" flex"),a(m,"type","submit"),m.disabled=o[0],a(W,"class","flex justify-end mt-2"),a(v,"class","flex flex-col max-w-lg mx-auto mt-10 mb-10"),a(t,"class","w-full max-h-full")},m(r,u){$e(r,t,u),e(t,l),e(l,s),e(l,V),e(l,g),e(g,D),e(t,H),e(t,v),e(v,w),e(w,A),e(A,O),e(w,y),e(w,k),e(k,B),e(B,N),e(N,J),e(B,ue),e(B,$),e($,_),ce(_,o[1]),e(k,fe),e(k,M),e(M,K),e(K,ee),e(M,ge),e(M,L),e(L,b),ce(b,o[2]),e(v,ve),e(v,P),e(P,S),ze(x,S,null),e(v,pe),e(v,W),e(W,Z),e(Z,m),e(m,q),e(q,ae),e(m,he),f&&f.m(m,null),p=!0,_e||(we=[de(l,"click",o[7]),de(_,"input",o[8]),de(b,"input",o[9]),de(v,"submit",Ge(o[11]))],_e=!0)},p(r,[u]){(!p||u&16)&&h!==(h=r[4].t("Back")+"")&&F(D,h),(!p||u&16)&&T!==(T=r[4].t("Create a knowledge base")+"")&&F(O,T),(!p||u&16)&&R!==(R=r[4].t("What are you working on?")+"")&&F(J,R),(!p||u&16&&Q!==(Q=r[4].t("Name your knowledge base")))&&a(_,"placeholder",Q),u&2&&_.value!==r[1]&&ce(_,r[1]),(!p||u&16)&&U!==(U=r[4].t("What are you trying to achieve?")+"")&&F(ee,U),(!p||u&16&&te!==(te=r[4].t("Describe your knowledge base and objectives")))&&a(b,"placeholder",te),u&4&&ce(b,r[2]);const j={};!me&&u&8&&(me=!0,j.accessControl=r[3],Fe(()=>me=!1)),x.$set(j),(!p||u&16)&&Y!==(Y=r[4].t("Create Knowledge")+"")&&F(ae,Y),r[0]?f||(f=He(),f.c(),f.m(m,null)):f&&(f.d(1),f=null),(!p||u&1&&se!==(se="text-sm px-4 py-2 transition rounded-lg "+(r[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800")+" flex"))&&a(m,"class",se),(!p||u&1)&&(m.disabled=r[0])},i(r){p||(qe(x.$$.fragment,r),p=!0)},o(r){We(x.$$.fragment,r),p=!1},d(r){r&&c(t),Se(x),f&&f.d(),_e=!1,Ye(we)}}}function ot(o,t,l){let s;const E=Xe("i18n");Je(o,E,y=>l(4,s=y));let V=!1,g="",h="",D=null;const H=async()=>{if(l(0,V=!0),g.trim()===""||h.trim()===""){be.error(s.t("Please fill in all fields.")),l(1,g=""),l(2,h=""),l(0,V=!1);return}const y=await tt(localStorage.token,g,h,D).catch(k=>{be.error(`${k}`)});y&&(be.success(s.t("Knowledge created successfully.")),st.set(await at(localStorage.token)),je(`/workspace/knowledge/${y.id}`)),l(0,V=!1)},v=()=>{je("/workspace/knowledge")};function w(){g=this.value,l(1,g)}function A(){h=this.value,l(2,h)}function T(y){D=y,l(3,D)}return[V,g,h,D,s,E,H,v,w,A,T,()=>{H()}]}class nt extends Le{constructor(t){super(),Pe(this,t,ot,rt,Ne,{})}}function it(o){let t,l;return t=new nt({}),{c(){Re(t.$$.fragment)},l(s){Oe(t.$$.fragment,s)},m(s,E){ze(t,s,E),l=!0},p:Qe,i(s){l||(qe(t.$$.fragment,s),l=!0)},o(s){We(t.$$.fragment,s),l=!1},d(s){Se(t,s)}}}class pt extends Le{constructor(t){super(),Pe(this,t,null,it,Ne,{})}}export{pt as component};
//# sourceMappingURL=28.Doth9u13.js.map
